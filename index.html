<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SULAYMAN BOWLES | Digital Portfolio</title>
    <meta name="description" content="Portfolio of Sulayman Bowles. Co-Founder, Analyst, and Digital Alchemist based in Austin, TX.">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">

    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://sulaymanbowles.com/">
    <meta property="og:title" content="SULAYMAN BOWLES | Digital Alchemy">
    <meta property="og:description" content="Finance. Code. Entropy. A system of evidence.">
    <meta property="og:image" content="https://sulaymanbowles.com/og-image.png">
    <meta property="og:image:type" content="image/png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://sulaymanbowles.com/">
    <meta property="twitter:title" content="SULAYMAN BOWLES | Digital Alchemy">
    <meta property="twitter:description" content="Finance. Code. Entropy. A system of evidence.">
    <meta property="twitter:image" content="https://sulaymanbowles.com/og-image.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Space+Grotesk:wght@300;400;500;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Lora:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Space Grotesk', 'sans-serif'],
                        serif: ['Lora', 'serif'],
                        playfair: ['Playfair Display', 'serif'],
                    },
                    colors: {
                        'off-white': '#EAEAEA',
                        'off-black': '#030303', /* Deepened black */
                        'charcoal': '#0F0F0F',
                        'mid-gray': '#2A2A2A',
                    },
                    animation: {
                        'marquee': 'marquee 40s linear infinite', /* Slowed down */
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        marquee: {
                            '0%': { transform: 'translateX(0%)' },
                            '100%': { transform: 'translateX(-100%)' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        /* --- CORE SETTINGS --- */
        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-track { background: #030303; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 2px; }
        ::-webkit-scrollbar-thumb:hover { background: #555; }

        body {
            background-color: #030303;
            color: #EAEAEA;
            overflow-x: hidden;
            font-feature-settings: "ss01", "ss02", "salt"; 
            transition: background-color 0.5s ease;
        }

        /* Enhanced focus states for accessibility */
        a:focus-visible, button:focus-visible, [role="button"]:focus-visible {
            outline: 2px solid white;
            outline-offset: 4px;
        }
        
        input:focus-visible, textarea:focus-visible, select:focus-visible {
            outline: 2px solid white;
            outline-offset: 2px;
        }
        
        /* Ensure minimum touch target sizes on mobile */
        @media (max-width: 768px) {
            button, a, [role="button"], input[type="submit"] {
                min-height: 44px;
                min-width: 44px;
            }
        }
        
        /* Improve form field error states */
        input:invalid:not(:placeholder-shown),
        textarea:invalid:not(:placeholder-shown) {
            border-color: rgba(239, 68, 68, 0.5);
        }
        
        input:valid:not(:placeholder-shown),
        textarea:valid:not(:placeholder-shown) {
            border-color: rgba(255, 255, 255, 0.3);
        }
        @media (min-width: 768px) {
            body {
                cursor: none;
            }
        }

        /* --- DEPTH EFFECT CONTAINER --- */
        #app-container {
            position: relative;
            transition: transform 0.5s cubic-bezier(0.16, 1, 0.3, 1), 
                        filter 0.5s cubic-bezier(0.16, 1, 0.3, 1),
                        border-radius 0.5s cubic-bezier(0.16, 1, 0.3, 1);
            transform-origin: center top;
            width: 100%;
            min-height: 100vh;
            background-color: #030303;
            will-change: transform, filter;
        }

        body.modal-open {
            overflow: hidden;
            background-color: #000; /* Darker background behind the scaled content */
        }

        body.modal-open #app-container {
            transform: scale(0.95) translateY(15px);
            filter: brightness(0.35) blur(2px);
            border-radius: 16px;
            pointer-events: none;
        }

        ::selection {
            background: #EAEAEA;
            color: #030303;
        }

        /* --- PAPER MODE (WRITING) --- */
        .modal-content.paper-mode {
            background-color: #EAEAEA;
            color: #0F0F0F;
            border: none;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
        }
        .modal-content.paper-mode ::selection {
            background: #0F0F0F;
            color: #EAEAEA;
        }
        .modal-content.paper-mode #reading-progress {
            background-color: #0F0F0F;
        }
        .modal-content.paper-mode #close-modal i {
            color: #0F0F0F;
        }

        /* --- INTERACTIVE TERMS (FOOTNOTES) --- */
        .interactive-term {
            border-bottom: 1px dotted #666;
            cursor: help;
            position: relative;
            transition: all 0.2s;
            display: inline-block;
        }
        .interactive-term:hover {
            background-color: rgba(0,0,0,0.05);
            border-bottom-style: solid;
            border-bottom-color: #000;
        }
        .term-tooltip {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%) translateY(10px);
            background: #0F0F0F;
            color: #EAEAEA;
            padding: 0.75rem 1rem;
            font-family: 'Inter', sans-serif;
            font-size: 0.75rem;
            line-height: 1.4;
            width: max-content;
            max-width: 250px;
            opacity: 0;
            pointer-events: none;
            transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
            z-index: 100;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            border-radius: 4px;
            font-weight: 400;
            text-align: center;
        }
        .term-tooltip::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #0F0F0F transparent transparent transparent;
        }
        .interactive-term:hover .term-tooltip {
            opacity: 1;
            transform: translateX(-50%) translateY(-8px);
        }

        /* --- SPARKLINES --- */
        .sparkline {
            display: inline-block;
            vertical-align: middle;
            margin: 0 4px;
        }
        .sparkline path {
            fill: none;
            stroke: #0F0F0F;
            stroke-width: 1.5;
        }

        /* --- TYPING ANIMATION --- */
        @keyframes typing {
            from { width: 0 }
            to { width: 100% }
        }
        @keyframes blink {
            50% { border-color: transparent }
        }
        @keyframes gridPulse {
            0%, 100% { opacity: 0.1; }
            50% { opacity: 0.2; }
        }
        @keyframes cursorBlink {
            0%, 49% { opacity: 1; }
            50%, 100% { opacity: 0; }
        }
        .typing-text {
            overflow: hidden;
            border-right: 2px solid white;
            white-space: nowrap;
            animation: typing 2s steps(30, end), blink 0.75s step-end infinite;
            display: inline-block;
        }
        .typing-text.complete {
            border-right: none;
            animation: none;
        }

        /* --- DESIGN SYSTEM ANIMATIONS --- */
        @keyframes fadeInDesign {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .design-content {
            display: block;
        }

        .design-content.hidden {
            display: none;
        }
        
        .design-content.show-animate {
            animation: fadeInDesign 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        @keyframes fadeInDesign {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .design-tab.active {
            background: rgba(255, 255, 255, 0.1) !important;
            border-color: rgba(255, 255, 255, 0.2) !important;
            color: white !important;
        }

        /* Motion Demos */
        .motion-demo-ease-out {
            animation: slideDemo 2s cubic-bezier(0, 0, 0.2, 1) infinite;
        }

        .motion-demo-ease-in-out {
            animation: slideDemo 2s cubic-bezier(0.4, 0, 0.2, 1) infinite;
        }

        .motion-demo-spring {
            animation: slideDemo 2s cubic-bezier(0.16, 1, 0.3, 1) infinite;
        }

        @keyframes slideDemo {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(calc(100% - 3rem)); }
        }

        /* --- ROW FADE IN ANIMATION --- */
        @keyframes fadeInRow {
            from {
                opacity: 0;
                transform: translateY(8px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* --- STATEMENT TABS --- */
        .statement-tab {
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .statement-tab.active {
            background: rgba(255, 255, 255, 0.1) !important;
            border-color: rgba(255, 255, 255, 0.2) !important;
            color: white !important;
        }

        .statement-content {
            transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1), transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            will-change: opacity, transform;
        }

        .statement-content.hidden {
            opacity: 0;
            transform: translateX(-30px);
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            pointer-events: none;
            visibility: hidden;
        }

        .statement-content.active {
            opacity: 1;
            transform: translateX(0);
            position: relative;
            visibility: visible;
        }

        /* --- CUSTOM CURSOR --- */
        .cursor-dot {
            position: fixed;
            top: 0; left: 0;
            width: 6px; height: 6px;
            background-color: white;
            border-radius: 50%;
            z-index: 9999;
            pointer-events: none;
            will-change: transform;
            mix-blend-mode: exclusion;
        }
        
        .cursor-outline {
            position: fixed;
            top: 0; left: 0;
            width: 32px; height: 32px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            z-index: 9998;
            pointer-events: none;
            will-change: transform, width, height;
            transition: width 0.25s cubic-bezier(0.19, 1, 0.22, 1), 
                        height 0.25s cubic-bezier(0.19, 1, 0.22, 1), 
                        background-color 0.25s ease-out,
                        border-color 0.25s ease-out;
            display: flex;
            justify-content: center;
            align-items: center;
            mix-blend-mode: difference;
        }
        
        body.hovering .cursor-outline {
            width: 60px !important; height: 60px !important;
            background-color: rgba(255, 255, 255, 0.15);
            border: 2px solid rgba(255, 255, 255, 0.5) !important;
        }
        body.hovering .cursor-dot { opacity: 0; }

        body.viewing-project .cursor-outline {
            width: 90px !important; height: 90px !important;
            background-color: #EAEAEA;
            border-color: transparent !important;
            mix-blend-mode: normal;
        }
        body.viewing-project .cursor-outline::after {
            content: 'OPEN';
            font-family: 'Space Grotesk', sans-serif;
            font-size: 11px;
            font-weight: 700;
            color: #030303;
            letter-spacing: 2px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        body.viewing-project .cursor-dot { opacity: 0; }

        /* --- SPREADSHEET CURSOR --- */
        .cursor-cell {
            cursor: cell;
        }
        
        #virtual-cursor {
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        #cell-selection {
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            background: rgba(255, 255, 255, 0.05);
        }

        /* --- NOISE OVERLAY --- */
        .noise-overlay {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 40;
            opacity: 0.05;
            background: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }

        /* --- MODAL SYSTEM --- */
        .modal-backdrop {
            position: fixed;
            inset: 0;
            background: rgba(3, 3, 3, 0.85);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            z-index: 90;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 2rem;
        }
        .modal-backdrop.active {
            opacity: 1;
            pointer-events: auto;
        }
        
        .modal-content {
            background: #0F0F0F;
            border: 1px solid rgba(255,255,255,0.1);
            width: 100%;
            max-width: 900px;
            max-height: 95vh;
            overflow-y: auto;
            transform: translateY(30px) scale(0.97);
            transition: transform 0.5s cubic-bezier(0.16, 1, 0.3, 1),
                        opacity 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            opacity: 0;
            position: relative;
            will-change: transform, opacity;
        }
        
        @media (min-width: 1024px) {
            .modal-content {
                max-width: 1600px;
            }
        }
        .modal-backdrop.active .modal-content {
            transform: translateY(0) scale(1);
            opacity: 1;
        }

        /* Modal Content Animation Stagger */
        .modal-stagger {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
        }
        .modal-backdrop.active .modal-stagger {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* --- UTILITY ANIMATIONS --- */
        .reveal-text {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s cubic-bezier(0.215, 0.61, 0.355, 1), 
                        transform 0.8s cubic-bezier(0.215, 0.61, 0.355, 1),
                        filter 0.8s cubic-bezier(0.215, 0.61, 0.355, 1);
            filter: blur(4px);
            will-change: opacity, transform, filter;
        }
        .reveal-text.active {
            opacity: 1;
            transform: translateY(0);
            filter: blur(0);
            will-change: auto;
        }
        
        /* Hero content should be visible immediately */
        section:first-of-type .reveal-text {
            opacity: 1;
            transform: translateY(0);
            filter: blur(0);
        }

        .magnetic-wrap {
            display: inline-block;
            position: relative;
            z-index: 50;
        }
        .magnetic-wrap:focus-visible {
            outline: 2px solid rgba(255, 255, 255, 0.8);
            outline-offset: 4px;
            border-radius: 4px;
        }
        .magnetic-area {
            position: absolute;
            top: -30px; left: -30px; right: -30px; bottom: -30px;
            z-index: 1;
            border-radius: 50%;
        }

        .project-img-container { 
            overflow: hidden;
            backface-visibility: hidden;
        }
        .project-img {
            will-change: transform;
            transform: scale(1.01);
            transition: transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            backface-visibility: hidden;
        }
        .group:hover .project-img {
            transform: scale(1.08);
        }

        /* Service Card Special Effects */
        .service-card {
            position: relative;
            transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .service-card::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(255,255,255,0.05) 0%, transparent 50%);
            opacity: 0;
            transition: opacity 0.5s ease;
            pointer-events: none;
            z-index: 1;
        }
        .service-card:hover::before {
            opacity: 1;
        }
        .service-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }
        .service-card:hover .gen-canvas {
            filter: brightness(1.3) saturate(1.2);
        }
        
        /* Service image container parallax effect */
        .service-img-container {
            overflow: hidden;
            position: relative;
        }
        .service-card:hover .service-img-container canvas {
            transform: scale(1.15);
        }
        .service-img-container canvas {
            transition: transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        /* Loader */
        #loader {
            position: fixed;
            inset: 0;
            background: #030303;
            z-index: 100;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            transition: transform 0.7s cubic-bezier(0.7, 0, 0.3, 1),
                        opacity 0.4s ease-out;
        }
        .loader-hidden { 
            transform: translateY(-100%); 
            opacity: 0;
        }
        
        /* Canvas */
        #canvas-container {
            position: absolute;
            top: 0; right: 0;
            width: 55%; height: 100vh;
            z-index: 1;
            opacity: 0;
            transition: opacity 2s ease 0.5s;
            pointer-events: none;
        }
        @media (max-width: 768px) {
            #canvas-container { width: 100%; opacity: 0.2; z-index: 0; }
        }

        .writing-item { 
            transition: all 0.3s ease;
        }
        .writing-item:focus-visible {
            outline: 2px solid #0F0F0F;
            outline-offset: 4px;
            border-radius: 4px;
        }
        .writing-arrow { 
            opacity: 0; 
            transform: translateX(-10px); 
            transition: all 0.3s ease;
        }
        .writing-item:hover .writing-arrow,
        .writing-item:focus-visible .writing-arrow {
            opacity: 1;
            transform: translateX(0);
        }

        /* --- TYPOGRAPHY & READING --- */
        .drop-cap::first-letter {
            float: left;
            font-family: 'Space Grotesk', sans-serif;
            font-size: 4.5rem;
            line-height: 0.8;
            font-weight: 700;
            margin-right: 1rem;
            margin-top: 0.5rem;
            color: #EAEAEA;
        }
        
        .pull-quote {
            border-left: 2px solid #EAEAEA;
            padding-left: 1.5rem;
            margin: 2rem 0;
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.5rem;
            font-style: italic;
            color: #A0A0A0;
        }

        /* --- GENERATIVE COVERS --- */
        .gen-canvas {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            opacity: 0.6;
            transition: opacity 0.5s ease;
        }
        .group:hover .gen-canvas { opacity: 1; }

        /* --- LIVE TICKER --- */
        .live-ticker {
            font-family: 'Space Mono', monospace;
            font-size: 10px;
            color: #666;
            display: flex;
            gap: 1rem;
            align-items: center;
        }
        .live-val { color: #EAEAEA; }

        /* Screen reader only class */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }
        .focus\\:not-sr-only:focus {
            position: absolute;
            width: auto;
            height: auto;
            padding: 0;
            margin: 0;
            overflow: visible;
            clip: auto;
            white-space: normal;
        }

        /* --- CHATBOT STYLES --- */
        #chatbot-toggle {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: white;
            color: #030303;
            border: none;
            box-shadow: 0 4px 24px rgba(255,255,255,0.15);
            z-index: 50;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }
        #chatbot-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 32px rgba(255,255,255,0.25);
        }
        #chatbot-toggle.active {
            transform: scale(0.95);
        }
        .chat-badge {
            position: absolute;
            top: -2px;
            right: -2px;
            background: white;
            color: #030303;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            font-size: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            border: 2px solid #030303;
            font-family: 'Space Grotesk', monospace;
        }
        
        #chatbot-window {
            position: fixed;
            bottom: 6rem;
            right: 2rem;
            width: 420px;
            height: 580px;
            background: #0A0A0A;
            border: 1px solid rgba(255,255,255,0.15);
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.8);
            z-index: 50;
            display: flex;
            flex-direction: column;
            opacity: 0;
            transform: translateY(20px) scale(0.96);
            pointer-events: none;
            transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }
        #chatbot-window.active {
            opacity: 1;
            transform: translateY(0) scale(1);
            pointer-events: all;
        }
        
        .chat-header {
            padding: 1.5rem;
            border-bottom: 1px solid rgba(255,255,255,0.08);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255,255,255,0.02);
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 1.25rem;
        }
        .chat-messages::-webkit-scrollbar {
            width: 4px;
        }
        .chat-messages::-webkit-scrollbar-thumb {
            background: rgba(255,255,255,0.15);
            border-radius: 2px;
        }
        .chat-messages::-webkit-scrollbar-thumb:hover {
            background: rgba(255,255,255,0.25);
        }
        
        .chat-message {
            display: flex;
            gap: 0.875rem;
            animation: messageSlideIn 0.35s cubic-bezier(0.16, 1, 0.3, 1);
        }
        @keyframes messageSlideIn {
            from {
                opacity: 0;
                transform: translateY(12px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .chat-message.user {
            flex-direction: row-reverse;
        }
        
        .chat-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: rgba(255,255,255,0.08);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .chat-message.user .chat-avatar {
            background: white;
            border-color: white;
        }
        
        .chat-bubble {
            max-width: 75%;
            padding: 1rem 1.125rem;
            border-radius: 14px;
            font-size: 14px;
            line-height: 1.65;
            font-family: 'Inter', sans-serif;
        }
        .chat-message.user .chat-bubble {
            background: rgba(255,255,255,0.12);
            color: #EAEAEA;
            border: 1px solid rgba(255,255,255,0.15);
        }
        .chat-message.ai .chat-bubble {
            background: rgba(255,255,255,0.04);
            color: #D4D4D4;
            border: 1px solid rgba(255,255,255,0.06);
        }
        .chat-bubble strong {
            color: white;
            font-weight: 600;
        }
        .chat-bubble em {
            font-style: italic;
            color: #A3A3A3;
        }
        .chat-bubble code {
            background: rgba(255,255,255,0.1);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Space Grotesk', monospace;
            font-size: 13px;
        }
        
        .chat-timestamp {
            font-family: 'Space Grotesk', monospace;
            font-size: 10px;
            color: #525252;
            margin-top: 0.375rem;
            letter-spacing: 0.02em;
        }
        .chat-message.user .chat-timestamp {
            text-align: right;
        }
        
        .chat-input-area {
            padding: 1.25rem 1.5rem;
            border-top: 1px solid rgba(255,255,255,0.08);
            display: flex;
            gap: 0.875rem;
            background: rgba(255,255,255,0.02);
        }
        
        .chat-input {
            flex: 1;
            background: rgba(255,255,255,0.06);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 0.875rem 1rem;
            color: white;
            font-size: 14px;
            outline: none;
            transition: all 0.25s ease;
            font-family: 'Inter', sans-serif;
        }
        .chat-input:focus {
            border-color: rgba(255,255,255,0.25);
            background: rgba(255,255,255,0.08);
        }
        .chat-input::placeholder {
            color: #737373;
        }
        
        .chat-send-btn {
            width: 44px;
            height: 44px;
            background: white;
            color: #030303;
            border: none;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.25s ease;
            flex-shrink: 0;
        }
        .chat-send-btn:hover:not(:disabled) {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(255,255,255,0.2);
        }
        .chat-send-btn:active:not(:disabled) {
            transform: scale(0.95);
        }
        .chat-send-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }
        
        .typing-indicator {
            display: flex;
            gap: 5px;
            padding: 1rem 1.125rem;
        }
        .typing-dot {
            width: 7px;
            height: 7px;
            border-radius: 50%;
            background: rgba(255,255,255,0.35);
            animation: typingBounce 1.3s infinite ease-in-out;
        }
        .typing-dot:nth-child(2) { animation-delay: 0.15s; }
        .typing-dot:nth-child(3) { animation-delay: 0.3s; }
        @keyframes typingBounce {
            0%, 60%, 100% { transform: translateY(0); opacity: 0.35; }
            30% { transform: translateY(-10px); opacity: 0.7; }
        }
        
        .chat-footer {
            padding: 0.875rem 1.5rem;
            border-top: 1px solid rgba(255,255,255,0.05);
            font-size: 9px;
            color: #404040;
            text-align: center;
            font-family: 'Space Grotesk', monospace;
            letter-spacing: 0.1em;
            text-transform: uppercase;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            #chatbot-toggle {
                bottom: 1.5rem;
                right: 1.5rem;
                width: 56px;
                height: 56px;
            }
            #chatbot-window {
                bottom: 0;
                right: 0;
                left: 0;
                top: 0;
                width: 100%;
                height: 100%;
                border-radius: 0;
                transform: translateY(100%);
            }
            #chatbot-window.active {
                transform: translateY(0);
            }
            .chat-bubble {
                max-width: 85%;
            }
        }
    </style>
</head>
<body class="antialiased">

    <!-- Skip to main content for accessibility -->
    <a href="#work" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:bg-white focus:text-black focus:px-4 focus:py-2">Skip to main content</a>

    <!-- Cursor -->
    <div class="cursor-dot hidden md:block" aria-hidden="true"></div>
    <div class="cursor-outline hidden md:block" aria-hidden="true"></div>

    <!-- Noise -->
    <div class="noise-overlay"></div>

    <!-- Loading Screen -->
    <div id="loader">
        <div class="flex flex-col items-center gap-6">
            <div class="font-mono text-[10px] text-neutral-500 tracking-[0.5em] uppercase">Sulayman Bowles</div>
            <div class="font-display text-5xl font-bold tracking-tight scramble-text" data-final="OBLIVION">INIT</div>
            <div class="w-24 h-[1px] bg-neutral-800 mt-4 relative overflow-hidden">
                <div class="absolute inset-0 bg-white w-full -translate-x-full animate-[marquee_1.5s_ease-in-out_forwards]"></div>
            </div>
        </div>
    </div>

    <!-- MODAL CONTAINER -->
    <div id="project-modal" class="modal-backdrop">
        <div class="modal-content p-8 md:p-12 relative">
            <!-- Reading Progress Bar -->
            <div id="reading-progress" class="absolute top-0 left-0 h-1 bg-white w-0 transition-all duration-100 z-50"></div>
            
            <button id="close-modal" class="absolute top-6 right-6 hover:rotate-90 transition-transform duration-300 group z-50" aria-label="Close modal">
                <i data-lucide="x" class="w-8 h-8 text-neutral-500 group-hover:text-white"></i>
            </button>
            
            <!-- Content Injection Area -->
            <div id="modal-body"></div>
        </div>
    </div>

    <!-- CHATBOT -->
    <button id="chatbot-toggle" aria-label="Open chatbot" aria-expanded="false">
        <i data-lucide="message-circle" class="w-6 h-6"></i>
        <span class="chat-badge" style="display: none;">1</span>
    </button>

    <div id="chatbot-window" role="dialog" aria-labelledby="chat-title" aria-modal="true">
        <div class="chat-header">
            <div>
                <h3 id="chat-title" class="font-display text-base font-medium tracking-tight">Digital Assistant</h3>
                <p class="font-mono text-[9px] text-neutral-600 tracking-[0.15em] uppercase mt-0.5">Portfolio Guide</p>
            </div>
            <button id="chatbot-close" class="hover:rotate-90 transition-transform duration-300" aria-label="Close chatbot">
                <i data-lucide="x" class="w-5 h-5 text-neutral-500 hover:text-white"></i>
            </button>
        </div>
        
        <div class="chat-messages" id="chat-messages">
            <!-- Messages will be injected here -->
        </div>
        
        <div class="chat-input-area">
            <input 
                type="text" 
                id="chat-input" 
                class="chat-input" 
                placeholder="Ask about services, work, or philosophy..."
                aria-label="Chat message input"
                maxlength="500"
            />
            <button id="chat-send" class="chat-send-btn" aria-label="Send message">
                <i data-lucide="send" class="w-5 h-5"></i>
            </button>
        </div>
        
        <div class="chat-footer">
            POWERED BY GEMINI AI
        </div>
    </div>

    <!-- MAIN APP CONTAINER (For Depth Effect) -->
    <main id="app-container">

    <!-- Navigation -->
    <nav class="fixed w-full top-0 z-40 px-8 py-8 mix-blend-difference text-white transition-transform duration-500" id="navbar">
        <div class="max-w-[1600px] mx-auto flex justify-between items-center">
            <a href="#" class="hover-target magnetic-wrap font-display font-bold text-xl tracking-tighter">
                <span class="magnetic-content block">S. BOWLES</span>
                <span class="magnetic-area"></span>
            </a>
            
            <!-- Desktop Menu -->
            <div class="hidden md:flex gap-12 text-[11px] font-medium tracking-[0.2em] uppercase">
                <a href="#services" class="hover-target magnetic-wrap group">
                    <span class="magnetic-content block group-hover:text-gray-200 transition-colors">Services</span>
                    <span class="magnetic-area"></span>
                </a>
                <a href="#work" class="hover-target magnetic-wrap group">
                    <span class="magnetic-content block group-hover:text-gray-200 transition-colors">Work</span>
                    <span class="magnetic-area"></span>
                </a>
                <a href="#writing" class="hover-target magnetic-wrap group">
                    <span class="magnetic-content block group-hover:text-gray-200 transition-colors">Writing</span>
                    <span class="magnetic-area"></span>
                </a>
                <a href="#philosophy" class="hover-target magnetic-wrap group">
                    <span class="magnetic-content block group-hover:text-gray-200 transition-colors">Philosophy</span>
                    <span class="magnetic-area"></span>
                </a>
                <a href="#contact" class="hover-target magnetic-wrap group">
                    <span class="magnetic-content block group-hover:text-gray-200 transition-colors">Contact</span>
                    <span class="magnetic-area"></span>
                </a>
            </div>

            <!-- Mobile Menu Button -->
            <button id="menu-btn" class="hover-target md:hidden group" aria-label="Open navigation menu" aria-expanded="false">
                <i data-lucide="menu" class="w-6 h-6"></i>
            </button>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="fixed inset-0 bg-off-black z-30 transform translate-x-full transition-transform duration-500 ease-[cubic-bezier(0.7,0,0.3,1)] flex flex-col justify-center items-center space-y-10" role="dialog" aria-modal="true" aria-label="Navigation menu">
        <a href="#services" class="font-display text-5xl hover:text-gray-500 mobile-link transition-colors">SERVICES</a>
        <a href="#work" class="font-display text-5xl hover:text-gray-500 mobile-link transition-colors">WORK</a>
        <a href="#writing" class="font-display text-5xl hover:text-gray-500 mobile-link transition-colors">WRITING</a>
        <a href="#philosophy" class="font-display text-5xl hover:text-gray-500 mobile-link transition-colors">PHILOSOPHY</a>
        <a href="#contact" class="font-display text-5xl hover:text-gray-500 mobile-link transition-colors">CONTACT</a>
        <button id="close-menu-btn" class="absolute top-8 right-8 p-4 hover:rotate-90 transition-transform duration-300" aria-label="Close navigation menu">
            <i data-lucide="x" class="w-8 h-8 text-white"></i>
        </button>
    </div>

    <!-- Hero Section -->
    <section class="relative min-h-screen flex flex-col justify-center px-6 md:px-12 overflow-hidden border-b border-white/5">
        <div id="canvas-container"></div>

        <div class="max-w-[1600px] w-full mx-auto z-10 relative pointer-events-none">
            <!-- Main Title -->
            <div class="pointer-events-auto relative select-none">
                <h1 class="font-display text-[12vw] leading-[0.8] font-bold tracking-tighter text-white mix-blend-exclusion reveal-text scramble-hover" data-final="DIGITAL" style="transition-delay: 100ms;">
                    DIGITAL
                </h1>
            </div>
            <div class="pointer-events-auto relative select-none">
                <h1 class="font-display text-[12vw] leading-[0.8] font-bold tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-white via-neutral-400 to-neutral-900 reveal-text scramble-hover" data-final="ALCHEMY" style="transition-delay: 250ms;">
                    ALCHEMY
                </h1>
            </div>
            
            <!-- Bio / Details -->
            <div class="mt-20 flex flex-col md:flex-row justify-between items-start md:items-end max-w-6xl pointer-events-auto">
                <div class="max-w-xl">
                    <p class="font-sans text-lg md:text-xl text-neutral-400 leading-[1.8] reveal-text" style="transition-delay: 500ms;">
                        Offering <span class="text-white border-b border-white/20 pb-1">financial consulting</span> and <span class="text-white border-b border-white/20 pb-1">bespoke web design</span>. 
                        I transform complex financial systems into executable clarity and build digital experiences that convert attention into action.
                    </p>
                    <div class="flex gap-8 mt-8 font-mono text-[10px] text-neutral-500 uppercase tracking-widest reveal-text" style="transition-delay: 600ms;">
                        <span>// Austin, TX</span>
                        <span>// UT Austin '28</span>
                        <span>// Currently Available</span>
                    </div>
                </div>
                
                <div class="mt-12 md:mt-0 reveal-text" style="transition-delay: 700ms;">
                    <a href="#services" class="magnetic-wrap hover-target inline-flex items-center gap-3 border-b border-white pb-2 hover:border-neutral-500 transition-all duration-300 group text-white mix-blend-difference text-lg">
                        <span class="magnetic-content inline-flex items-center gap-2">
                            View Services <i data-lucide="arrow-down-right" class="w-5 h-5 group-hover:rotate-[-45deg] transition-transform duration-500"></i>
                        </span>
                        <span class="magnetic-area"></span>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Infinite Marquee -->
    <div class="py-8 border-b border-white/5 bg-charcoal overflow-hidden flex relative z-20 pointer-events-none select-none">
        <div class="animate-marquee whitespace-nowrap flex gap-16 text-4xl md:text-6xl font-display font-bold text-[#4A4A4A]">
            <span>FINANCIAL MODELING</span> <span class="text-[#2A2A2A]">///</span>
            <span>FULL STACK</span> <span class="text-[#2A2A2A]">///</span>
            <span>WEB3 SYSTEMS</span> <span class="text-[#2A2A2A]">///</span>
            <span>DATA SCIENCE</span> <span class="text-[#2A2A2A]">///</span>
            <span>FINANCIAL MODELING</span> <span class="text-[#2A2A2A]">///</span>
            <span>FULL STACK</span> <span class="text-[#2A2A2A]">///</span>
            <span>WEB3 SYSTEMS</span> <span class="text-[#2A2A2A]">///</span>
            <span>DATA SCIENCE</span> <span class="text-[#2A2A2A]">///</span>
        </div>
        <div class="animate-marquee whitespace-nowrap flex gap-16 text-4xl md:text-6xl font-display font-bold text-[#4A4A4A]" aria-hidden="true">
            <span>FINANCIAL MODELING</span> <span class="text-[#2A2A2A]">///</span>
            <span>FULL STACK</span> <span class="text-[#2A2A2A]">///</span>
            <span>WEB3 SYSTEMS</span> <span class="text-[#2A2A2A]">///</span>
            <span>DATA SCIENCE</span> <span class="text-[#2A2A2A]">///</span>
            <span>FINANCIAL MODELING</span> <span class="text-[#2A2A2A]">///</span>
            <span>FULL STACK</span> <span class="text-[#2A2A2A]">///</span>
            <span>WEB3 SYSTEMS</span> <span class="text-[#2A2A2A]">///</span>
            <span>DATA SCIENCE</span> <span class="text-[#2A2A2A]">///</span>
        </div>
    </div>

    <!-- Services Section -->
    <section id="services" class="py-40 px-6 md:px-12 relative border-b border-white/5">
        <div class="max-w-[1600px] mx-auto">
            <div class="flex flex-col md:flex-row justify-between items-end mb-20 border-b border-white/10 pb-8 reveal-text">
                <h2 class="font-display text-6xl md:text-8xl font-bold tracking-tight mix-blend-difference">SERVICES</h2>
                <div class="flex flex-col items-end mt-6 md:mt-0">
                    <span class="font-mono text-xs text-neutral-500 mb-2 tracking-widest uppercase">Available Now</span>
                    <span class="font-mono text-xs text-white tracking-widest">RETAINER / PROJECT</span>
                </div>
            </div>

            <!-- Services Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 reveal-text">
                
                <!-- Service 1: Financial Consulting -->
                <div class="group service-card cursor-pointer border border-white/10 bg-charcoal hover:border-white/30 transition-all duration-500 overflow-hidden" data-service="financial">
                    <div class="service-img-container relative w-full h-[50vh] bg-[#0A0A0A] overflow-hidden">
                        <canvas id="canvas-financial" class="gen-canvas"></canvas>
                        <div class="absolute inset-0 bg-black/20 group-hover:bg-black/0 transition-colors duration-700"></div>
                    </div>
                    <div class="p-8 border-t border-white/20">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <h3 class="font-display text-3xl md:text-4xl font-medium mb-2 group-hover:translate-x-2 transition-transform duration-500">FINANCIAL CONSULTING</h3>
                                <p class="font-sans text-neutral-500 text-sm group-hover:translate-x-2 transition-transform duration-500 delay-75">Strategic Analysis / Modeling / Decision Architecture</p>
                            </div>
                            <span class="font-mono text-xs border border-white/20 px-3 py-1 rounded-full group-hover:bg-white group-hover:text-black transition-colors">01</span>
                        </div>
                        <p class="font-sans text-neutral-400 text-sm leading-relaxed mb-6">
                            Transform organizational complexity into executable clarity. From financial modeling to strategic decision frameworks—I diagnose friction points and architect solutions that scale.
                        </p>
                        <div class="flex flex-wrap gap-2">
                            <span class="px-2 py-1 bg-white/5 text-[10px] font-mono uppercase text-neutral-400 tracking-widest">DCF Models</span>
                            <span class="px-2 py-1 bg-white/5 text-[10px] font-mono uppercase text-neutral-400 tracking-widest">Valuation</span>
                            <span class="px-2 py-1 bg-white/5 text-[10px] font-mono uppercase text-neutral-400 tracking-widest">Risk Analysis</span>
                            <span class="px-2 py-1 bg-white/5 text-[10px] font-mono uppercase text-neutral-400 tracking-widest">Strategy</span>
                        </div>
                    </div>
                </div>

                <!-- Service 2: Website Design -->
                <div class="group service-card cursor-pointer border border-white/10 bg-charcoal hover:border-white/30 transition-all duration-500 overflow-hidden" data-service="website">
                    <div class="service-img-container relative w-full h-[50vh] bg-[#0A0A0A] overflow-hidden">
                        <canvas id="canvas-website" class="gen-canvas"></canvas>
                        <div class="absolute inset-0 bg-black/20 group-hover:bg-black/0 transition-colors duration-700"></div>
                    </div>
                    <div class="p-8 border-t border-white/20">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <h3 class="font-display text-3xl md:text-4xl font-medium mb-2 group-hover:translate-x-2 transition-transform duration-500">WEBSITE DESIGN</h3>
                                <p class="font-sans text-neutral-500 text-sm group-hover:translate-x-2 transition-transform duration-500 delay-75">Bespoke Development / Interactive Experiences / Conversion-Focused</p>
                            </div>
                            <span class="font-mono text-xs border border-white/20 px-3 py-1 rounded-full group-hover:bg-white group-hover:text-black transition-colors">02</span>
                        </div>
                        <p class="font-sans text-neutral-400 text-sm leading-relaxed mb-6">
                            Digital experiences that convert attention into action. Generative art, kinetic typography, and pixel-perfect execution—tailored to your brand's unique frequency.
                        </p>
                        <div class="flex flex-wrap gap-2">
                            <span class="px-2 py-1 bg-white/5 text-[10px] font-mono uppercase text-neutral-400 tracking-widest">React/Next.js</span>
                            <span class="px-2 py-1 bg-white/5 text-[10px] font-mono uppercase text-neutral-400 tracking-widest">Three.js</span>
                            <span class="px-2 py-1 bg-white/5 text-[10px] font-mono uppercase text-neutral-400 tracking-widest">Tailwind</span>
                            <span class="px-2 py-1 bg-white/5 text-[10px] font-mono uppercase text-neutral-400 tracking-widest">Generative</span>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- Selected Work Section -->
    <section id="work" class="py-40 px-6 md:px-12 relative">
        <div class="max-w-[1600px] mx-auto">
            <div class="flex flex-col md:flex-row justify-between items-end mb-32 border-b border-white/10 pb-8 reveal-text">
                <h2 class="font-display text-6xl md:text-8xl font-bold tracking-tight mix-blend-difference">SELECTED<br>WORKS</h2>
                <div class="flex flex-col items-end mt-6 md:mt-0">
                    <span class="font-mono text-xs text-neutral-500 mb-2 tracking-widest uppercase">Archive</span>
                    <span class="font-mono text-xs text-white tracking-widest">(2023 — 2025)</span>
                </div>
            </div>

            <!-- Project 1: VC-Backed Startup -->
            <div class="group project-card mb-40 w-full cursor-pointer reveal-text view-project-target" data-project="bittensor">
                <div class="project-img-container relative w-full h-[70vh] bg-charcoal mb-8 overflow-hidden border border-white/5">
                    <div class="project-img absolute inset-0 w-full h-full bg-[#0A0A0A]">
                        <canvas id="canvas-bittensor" class="gen-canvas"></canvas>
                    </div>
                    <div class="absolute inset-0 bg-black/10 group-hover:bg-black/0 transition-colors duration-700 pointer-events-none"></div>
                </div>
                <div class="flex justify-between items-start border-t border-white/20 pt-6">
                    <div>
                        <h3 class="font-display text-4xl font-medium mb-2 group-hover:translate-x-4 transition-transform duration-500">BITTENSOR STARTUP</h3>
                        <p class="font-sans text-neutral-500 group-hover:translate-x-4 transition-transform duration-500 delay-75">Co-Founder / $80K Revenue / Decentralized AI</p>
                    </div>
                    <span class="font-mono text-xs border border-white/20 px-3 py-1 rounded-full group-hover:bg-white group-hover:text-black transition-colors">01</span>
                </div>
            </div>

            <!-- Project 2: Web3 Payroll -->
            <div class="group project-card mb-40 w-full md:w-4/5 md:ml-auto cursor-pointer reveal-text view-project-target" data-project="payroll">
                <div class="project-img-container relative w-full h-[70vh] bg-charcoal mb-8 overflow-hidden border border-white/5">
                     <div class="project-img absolute inset-0 w-full h-full bg-[#0A0A0A]">
                        <canvas id="canvas-payroll" class="gen-canvas"></canvas>
                    </div>
                </div>
                <div class="flex justify-between items-start border-t border-white/20 pt-6">
                    <div>
                        <h3 class="font-display text-4xl font-medium mb-2 group-hover:translate-x-4 transition-transform duration-500">CHAIN PAYROLL</h3>
                        <p class="font-sans text-neutral-500 group-hover:translate-x-4 transition-transform duration-500 delay-75">1st Place Winner / Team Lead / Smart Contracts</p>
                    </div>
                    <span class="font-mono text-xs border border-white/20 px-3 py-1 rounded-full group-hover:bg-white group-hover:text-black transition-colors">02</span>
                </div>
            </div>

             <!-- Project 3: Point72 -->
             <div class="group project-card mb-40 w-full md:w-3/4 cursor-pointer reveal-text view-project-target" data-project="point72">
                <div class="project-img-container relative w-full h-[70vh] bg-charcoal mb-8 overflow-hidden border border-white/5">
                     <div class="project-img absolute inset-0 w-full h-full bg-[#0A0A0A]">
                        <canvas id="canvas-point72" class="gen-canvas"></canvas>
                    </div>
                </div>
                <div class="flex justify-between items-start border-t border-white/20 pt-6">
                    <div>
                        <h3 class="font-display text-4xl font-medium mb-2 group-hover:translate-x-4 transition-transform duration-500">POINT72 THESIS</h3>
                        <p class="font-sans text-neutral-500 group-hover:translate-x-4 transition-transform duration-500 delay-75">Equity Research / Financial Modeling / Valuation</p>
                    </div>
                    <span class="font-mono text-xs border border-white/20 px-3 py-1 rounded-full group-hover:bg-white group-hover:text-black transition-colors">03</span>
                </div>
            </div>

            <!-- Project 4: Consulting (TaskFormer) -->
            <div class="group project-card w-full md:w-4/5 md:ml-auto cursor-pointer reveal-text view-project-target" data-project="taskformer">
                <div class="project-img-container relative w-full h-[70vh] bg-charcoal mb-8 overflow-hidden border border-white/5">
                     <div class="project-img absolute inset-0 w-full h-full bg-[#0A0A0A]">
                        <canvas id="canvas-taskformer" class="gen-canvas"></canvas>
                    </div>
                </div>
                <div class="flex justify-between items-start border-t border-white/20 pt-6">
                    <div>
                        <h3 class="font-display text-4xl font-medium mb-2 group-hover:translate-x-4 transition-transform duration-500">TASKFORMER</h3>
                        <p class="font-sans text-neutral-500 group-hover:translate-x-4 transition-transform duration-500 delay-75">Strategic Consulting / Systems Optimization / Decision Architecture</p>
                    </div>
                    <span class="font-mono text-xs border border-white/20 px-3 py-1 rounded-full group-hover:bg-white group-hover:text-black transition-colors">04</span>
                </div>
            </div>
            
            <div class="mt-32 text-center reveal-text">
                <a href="#" class="magnetic-wrap hover-target inline-block font-display text-lg border border-white/20 px-10 py-5 hover:bg-white hover:text-black transition-colors duration-500">
                    <span class="magnetic-content block tracking-widest uppercase">View Full Resume</span>
                    <span class="magnetic-area"></span>
                </a>
            </div>
        </div>
    </section>

    <!-- Writing / Thoughts Section -->
    <section id="writing" class="py-40 px-6 md:px-12 bg-off-white text-off-black relative">
        <div class="max-w-[1200px] mx-auto">
            <div class="flex items-center gap-4 mb-20 reveal-text">
                <div class="w-2 h-2 bg-off-black rounded-full animate-pulse-slow"></div>
                <h2 class="font-mono text-xs font-bold tracking-[0.2em] uppercase text-neutral-500">Writing & Thoughts</h2>
            </div>

            <div class="space-y-8">
                <!-- Essay 1 -->
                <div data-writing="rhythm" class="writing-item block border-b border-neutral-300 pb-8 hover:border-black reveal-text group cursor-none hover-target cursor-pointer" tabindex="0" role="button" aria-label="Read essay: Rhythm in Volatility">
                    <div class="flex flex-col md:flex-row md:items-baseline justify-between gap-4">
                        <div class="flex items-center gap-4">
                             <i data-lucide="arrow-right" class="writing-arrow w-6 h-6 text-neutral-800"></i>
                             <h3 class="font-display text-3xl md:text-5xl font-medium group-hover:text-neutral-800">Rhythm in Volatility</h3>
                        </div>
                        <span class="font-mono text-xs text-neutral-500">AUG 2025</span>
                    </div>
                    <p class="mt-4 font-sans text-neutral-600 max-w-2xl pl-0 md:pl-10">Why the best traders listen to noise before looking at price. Parallels between orchestral bass performance and market term-structure signals.</p>
                </div>

                <!-- Essay 2 -->
                <div data-writing="hunter" class="writing-item block border-b border-neutral-300 pb-8 hover:border-black reveal-text group cursor-none hover-target cursor-pointer" tabindex="0" role="button" aria-label="Read essay: The Patient Hunter">
                     <div class="flex flex-col md:flex-row md:items-baseline justify-between gap-4">
                        <div class="flex items-center gap-4">
                             <i data-lucide="arrow-right" class="writing-arrow w-6 h-6 text-neutral-800"></i>
                             <h3 class="font-display text-3xl md:text-5xl font-medium group-hover:text-neutral-800">The Patient Hunter</h3>
                        </div>
                        <span class="font-mono text-xs text-neutral-500">JUN 2025</span>
                    </div>
                    <p class="mt-4 font-sans text-neutral-600 max-w-2xl pl-0 md:pl-10">What falconry taught me about managing risk, letting go of control, and the art of waiting.</p>
                </div>

                <!-- Essay 3 -->
                <div data-writing="nuclear" class="writing-item block border-b border-neutral-300 pb-8 hover:border-black reveal-text group cursor-none hover-target cursor-pointer" tabindex="0" role="button" aria-label="Read essay: The Nuclear Option">
                     <div class="flex flex-col md:flex-row md:items-baseline justify-between gap-4">
                        <div class="flex items-center gap-4">
                             <i data-lucide="arrow-right" class="writing-arrow w-6 h-6 text-neutral-800"></i>
                             <h3 class="font-display text-3xl md:text-5xl font-medium group-hover:text-neutral-800">The Nuclear Option</h3>
                        </div>
                        <span class="font-mono text-xs text-neutral-500">JAN 2025</span>
                    </div>
                    <p class="mt-4 font-sans text-neutral-600 max-w-2xl pl-0 md:pl-10">An unbiased look at nuclear energy as the misunderstood giant of the sustainable future.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Philosophy Section -->
    <section id="philosophy" class="py-40 px-6 md:px-12 bg-[#080808] relative overflow-hidden border-t border-white/5">
        <!-- Oscilloscope Canvas -->
        <canvas id="oscilloscope" class="absolute inset-0 w-full h-full opacity-20 pointer-events-none"></canvas>

        <div class="max-w-5xl mx-auto relative z-10">
            <div class="flex items-center gap-4 mb-16 reveal-text">
                <div class="w-2 h-2 bg-white rounded-full"></div>
                <h2 class="font-mono text-xs font-bold tracking-[0.2em] uppercase text-neutral-500">The Philosophy</h2>
            </div>
            
            <div class="font-display text-3xl md:text-5xl leading-[1.2] font-light space-y-12 text-neutral-300">
                <p class="reveal-text">
                    Whether in code, markets, or music, I search for the dissonance. I believe in the "unpleasant details"—the friction points others ignore. 
                </p>
                <p class="reveal-text">
                   My work is a study in dualities: spreadsheet precision meeting startup chaos. Classical structure meeting market volatility. Pattern recognition meeting creative intuition.
                </p>
                
                <!-- The Alchemical Grid (Periodic Table) -->
                <div class="mt-24 reveal-text relative z-20">
                    <h4 class="font-mono text-xs uppercase tracking-widest text-neutral-500 mb-8">Raw Materials</h4>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <!-- Tile 1 -->
                        <div class="group border border-white/20 bg-black/20 backdrop-blur-sm p-4 aspect-square flex flex-col justify-between hover:bg-white hover:text-black transition-colors duration-300 cursor-crosshair">
                            <span class="font-mono text-[10px] opacity-50">01</span>
                            <span class="font-display text-4xl font-bold self-center">Py</span>
                            <div class="flex flex-col">
                                <span class="font-bold text-xs uppercase tracking-wider">Python</span>
                                <span class="font-mono text-[10px] opacity-60">Language</span>
                            </div>
                        </div>
                        <!-- Tile 2 -->
                        <div class="group border border-white/20 bg-black/20 backdrop-blur-sm p-4 aspect-square flex flex-col justify-between hover:bg-white hover:text-black transition-colors duration-300 cursor-crosshair">
                            <span class="font-mono text-[10px] opacity-50">02</span>
                            <span class="font-display text-4xl font-bold self-center">So</span>
                            <div class="flex flex-col">
                                <span class="font-bold text-xs uppercase tracking-wider">Solidity</span>
                                <span class="font-mono text-[10px] opacity-60">Language</span>
                            </div>
                        </div>
                        <!-- Tile 3 -->
                        <div class="group border border-white/20 bg-black/20 backdrop-blur-sm p-4 aspect-square flex flex-col justify-between hover:bg-white hover:text-black transition-colors duration-300 cursor-crosshair">
                            <span class="font-mono text-[10px] opacity-50">03</span>
                            <span class="font-display text-4xl font-bold self-center">Fi</span>
                            <div class="flex flex-col">
                                <span class="font-bold text-xs uppercase tracking-wider">Finance</span>
                                <span class="font-mono text-[10px] opacity-60">Discipline</span>
                            </div>
                        </div>
                        <!-- Tile 4 -->
                        <div class="group border border-white/20 bg-black/20 backdrop-blur-sm p-4 aspect-square flex flex-col justify-between hover:bg-white hover:text-black transition-colors duration-300 cursor-crosshair">
                            <span class="font-mono text-[10px] opacity-50">04</span>
                            <span class="font-display text-4xl font-bold self-center">Fa</span>
                            <div class="flex flex-col">
                                <span class="font-bold text-xs uppercase tracking-wider">Falconry</span>
                                <span class="font-mono text-[10px] opacity-60">Discipline</span>
                            </div>
                        </div>
                        <!-- Tile 5 -->
                        <div class="group border border-white/20 bg-black/20 backdrop-blur-sm p-4 aspect-square flex flex-col justify-between hover:bg-white hover:text-black transition-colors duration-300 cursor-crosshair">
                            <span class="font-mono text-[10px] opacity-50">05</span>
                            <span class="font-display text-4xl font-bold self-center">Nu</span>
                            <div class="flex flex-col">
                                <span class="font-bold text-xs uppercase tracking-wider">Nuclear</span>
                                <span class="font-mono text-[10px] opacity-60">Power</span>
                            </div>
                        </div>
                        <!-- Tile 6 -->
                        <div class="group border border-white/20 bg-black/20 backdrop-blur-sm p-4 aspect-square flex flex-col justify-between hover:bg-white hover:text-black transition-colors duration-300 cursor-crosshair">
                            <span class="font-mono text-[10px] opacity-50">06</span>
                            <span class="font-display text-4xl font-bold self-center">Mu</span>
                            <div class="flex flex-col">
                                <span class="font-bold text-xs uppercase tracking-wider">Music</span>
                                <span class="font-mono text-[10px] opacity-60">Art</span>
                            </div>
                        </div>
                        <!-- Tile 7 -->
                        <div class="group border border-white/20 bg-black/20 backdrop-blur-sm p-4 aspect-square flex flex-col justify-between hover:bg-white hover:text-black transition-colors duration-300 cursor-crosshair">
                            <span class="font-mono text-[10px] opacity-50">07</span>
                            <span class="font-display text-4xl font-bold self-center">Re</span>
                            <div class="flex flex-col">
                                <span class="font-bold text-xs uppercase tracking-wider">React</span>
                                <span class="font-mono text-[10px] opacity-60">Framework</span>
                            </div>
                        </div>
                        <!-- Tile 8 -->
                        <div class="group border border-white/20 bg-black/20 backdrop-blur-sm p-4 aspect-square flex flex-col justify-between hover:bg-white hover:text-black transition-colors duration-300 cursor-crosshair">
                            <span class="font-mono text-[10px] opacity-50">08</span>
                            <span class="font-display text-4xl font-bold self-center">Bl</span>
                            <div class="flex flex-col">
                                <span class="font-bold text-xs uppercase tracking-wider">Bloomberg</span>
                                <span class="font-mono text-[10px] opacity-60">Tool</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Kinetic Truth Manifesto -->
                <div class="mt-32 text-center relative z-0">
                    <p class="font-display text-4xl md:text-6xl font-bold text-white blur-[2px] hover:blur-0 transition-all duration-500 cursor-default select-none">
                        "Comfort is the enemy of progress."
                    </p>
                </div>

            </div>
        </div>
        
        <!-- Background Typography -->
        <div class="absolute -bottom-[2vw] -right-[2vw] font-display font-bold text-[15vw] text-white pointer-events-none select-none opacity-[0.03] leading-none">
            TRUTH
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-32 px-6 md:px-12 min-h-[80vh] flex flex-col justify-between bg-[#080808] text-white border-t border-white/10">
        <div class="max-w-[1600px] mx-auto w-full h-full flex flex-col justify-center flex-grow pt-20">
            <div class="reveal-text">
                <h2 class="font-display text-[9vw] leading-[0.9] font-bold tracking-tighter hover:text-neutral-300 transition-all duration-300 cursor-pointer hover-target magnetic-wrap group">
                    <a href="mailto:sulayman.bowles@gmail.com" class="magnetic-content block underline decoration-white/20 decoration-1 underline-offset-8 hover:decoration-white/60 transition-all duration-300 relative z-10">
                        SULAYMAN.<br>BOWLES@GMAIL
                    </a>
                    <span class="magnetic-area"></span>
                </h2>
            </div>
        </div>

        <footer class="max-w-[1600px] mx-auto w-full flex flex-col md:flex-row justify-between items-end md:items-center border-t border-white/10 pt-10 mt-20 reveal-text">
            <div class="flex gap-8 mb-8 md:mb-0">
                <a href="https://www.linkedin.com/in/sulayman-bowles" target="_blank" class="hover-target text-neutral-500 hover:text-white transition-colors uppercase text-xs tracking-widest border-b border-transparent hover:border-white pb-1">LinkedIn</a>
                <a href="https://github.com/sulaymanb2024" target="_blank" class="hover-target text-neutral-500 hover:text-white transition-colors uppercase text-xs tracking-widest border-b border-transparent hover:border-white pb-1">GitHub</a>
                <a href="#" class="hover-target text-neutral-500 hover:text-white transition-colors uppercase text-xs tracking-widest border-b border-transparent hover:border-white pb-1">Resume</a>
            </div>
            <div class="text-neutral-600 text-xs font-mono flex flex-col md:flex-row gap-4 md:gap-8 text-right md:text-left uppercase items-center">
                <div id="live-ticker" class="live-ticker"></div>
                <span id="clock">00:00:00 CST</span>
                <span>&copy; <span id="year"></span> SULAYMAN BOWLES</span>
            </div>
        </footer>
    </section>
    </main> <!-- End of #app-container -->

    <script>
        // --- 1. DATA: PROJECT CONTENT ---
        const projectData = {
            bittensor: {
                title: "BITTENSOR STARTUP",
                subtitle: "Co-Founder & Tech Lead",
                tags: ["Bittensor", "Python", "AI Architecture", "Revenue: $80k"],
                description: "A VC-backed experiment in decentralized AI. We built a Bittensor-based project that generated $80k in revenue before strategic pivot. This wasn't just code—it was an exercise in market timing, rapid scaling, and knowing when to change direction.",
                details: `
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-8">
                        <div>
                            <h4 class="text-xs font-mono text-neutral-500 uppercase tracking-widest mb-4">The Objective</h4>
                            <p class="text-sm text-neutral-300 leading-relaxed">
                                Leverage the Bittensor network to create a decentralized compute marketplace. We aimed to lower the barrier to entry for AI model training by aggregating idle GPU power.
                            </p>
                        </div>
                        <div>
                            <h4 class="text-xs font-mono text-neutral-500 uppercase tracking-widest mb-4">The Reality</h4>
                            <p class="text-sm text-neutral-300 leading-relaxed">
                                While revenue was high ($80k), network volatility and liquidity constraints created significant friction. We secured a $10K seed grant from DormDAO, but unit economics ultimately required a strategic pivot.
                            </p>
                        </div>
                    </div>
                    
                    <!-- Unit Economics Graph -->
                    <div class="mt-12 p-6 border border-white/10 bg-black/20">
                        <h4 class="text-xs font-mono text-neutral-500 uppercase tracking-widest mb-6">The Liquidity Trap (Unit Economics)</h4>
                        <div class="relative w-full h-64">
                            <!-- Graph Container -->
                            <svg viewBox="0 0 800 300" class="w-full h-full overflow-visible">
                                <!-- Grid Lines -->
                                <line x1="0" y1="250" x2="800" y2="250" stroke="#333" stroke-width="1" />
                                <line x1="0" y1="150" x2="800" y2="150" stroke="#333" stroke-width="1" stroke-dasharray="4" />
                                <line x1="0" y1="50" x2="800" y2="50" stroke="#333" stroke-width="1" stroke-dasharray="4" />
                                
                                <!-- Revenue Line (Solid White) -->
                                <path d="M0,250 C200,240 400,100 800,20" fill="none" stroke="#EAEAEA" stroke-width="2" />
                                <text x="750" y="15" fill="#EAEAEA" font-family="monospace" font-size="10">REVENUE</text>
                                
                                <!-- Cost Line (Dashed Grey - Exponential) -->
                                <path d="M0,255 C300,250 500,200 800,0" fill="none" stroke="#666" stroke-width="2" stroke-dasharray="5,5" />
                                <text x="750" y="290" fill="#666" font-family="monospace" font-size="10">COST</text>
                                
                                <!-- Intersection Point -->
                                <circle cx="620" cy="80" r="4" fill="#ff3333" />
                                <text x="630" y="80" fill="#ff3333" font-family="monospace" font-size="10">CROSSOVER (FAILURE)</text>
                            </svg>
                        </div>
                        <p class="text-xs font-mono text-neutral-500 mt-4 text-center">FIG 1.1: REVENUE VS. LIQUIDITY COST</p>
                    </div>

                    <div class="mt-8 pt-8 border-t border-white/10">
                        <h4 class="text-xs font-mono text-neutral-500 uppercase tracking-widest mb-4">Tech Stack</h4>
                        <div class="flex flex-wrap gap-3">
                            <span class="px-3 py-1 border border-white/20 rounded-full text-xs">Python</span>
                            <span class="px-3 py-1 border border-white/20 rounded-full text-xs">Rust</span>
                            <span class="px-3 py-1 border border-white/20 rounded-full text-xs">TensorFlow</span>
                            <span class="px-3 py-1 border border-white/20 rounded-full text-xs">PostgreSQL</span>
                        </div>
                    </div>
                `
            },
            payroll: {
                title: "CHAIN PAYROLL",
                subtitle: "1st Place Hackathon Winner",
                tags: ["Solidity", "React", "Web3", "DeFi"],
                description: "A decentralized payroll prototype solving the 'streaming money' problem. Led a 3-person team to ship a working live demo, outcompeting 12 teams to win grand prize. Real-time compensation meets smart contract automation.",
                details: `
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-8">
                        <div>
                            <h4 class="text-xs font-mono text-neutral-500 uppercase tracking-widest mb-4">The Objective</h4>
                            <p class="text-sm text-neutral-300 leading-relaxed">
                                Traditional payroll is slow and batched. We wanted to create a 'money stream' where employees are paid by the second, leveraging smart contracts for automated tax withholding and treasury management.
                            </p>
                        </div>
                        <div>
                            <h4 class="text-xs font-mono text-neutral-500 uppercase tracking-widest mb-4">The Reality</h4>
                            <p class="text-sm text-neutral-300 leading-relaxed">
                                The biggest challenge wasn't the Solidity code—it was the off-chain to on-chain bridge for compliance. We built a risk framework demonstrating real-world applicability, winning the $2.5K grand prize.
                            </p>
                        </div>
                    </div>

                    <!-- Code Terminal -->
                    <div class="mt-12 border border-white/10 bg-[#050505] font-mono text-xs rounded overflow-hidden">
                        <div class="flex items-center gap-2 px-4 py-2 border-b border-white/10 bg-[#0A0A0A]">
                            <div class="w-2 h-2 rounded-full bg-red-500"></div>
                            <div class="w-2 h-2 rounded-full bg-white/30"></div>
                            <div class="w-2 h-2 rounded-full bg-white/30"></div>
                            <span class="ml-2 text-neutral-500">PayrollStream.sol</span>
                        </div>
                        <div class="p-6 overflow-x-auto">
<pre><code class="language-solidity text-neutral-400">
<span class="text-purple-400">function</span> <span class="text-blue-400">streamSalary</span>(<span class="text-orange-400">address</span> employee) <span class="text-purple-400">external nonReentrant</span> {
    Stream <span class="text-purple-400">storage</span> s = streams[employee];
    <span class="text-purple-400">require</span>(s.isActive, <span class="text-green-400">"Stream inactive"</span>);

    <span class="text-gray-500">// Calculate flow based on block timestamp</span>
    <span class="text-orange-400">uint256</span> timeElapsed = <span class="text-yellow-400">block.timestamp</span> - s.lastWithdrawal;
    <span class="text-orange-400">uint256</span> amount = timeElapsed * s.ratePerSecond;

    <span class="text-purple-400">require</span>(address(<span class="text-blue-400">this</span>).balance >= amount, <span class="text-green-400">"Insufficient liquidity"</span>);

    s.lastWithdrawal = <span class="text-yellow-400">block.timestamp</span>;
    <span class="text-purple-400">payable</span>(employee).<span class="text-blue-400">transfer</span>(amount);

    <span class="text-purple-400">emit</span> SalaryStreamed(employee, amount, <span class="text-yellow-400">block.timestamp</span>);
}
</code></pre>
                        </div>
                    </div>

                    <div class="mt-8 pt-8 border-t border-white/10">
                         <h4 class="text-xs font-mono text-neutral-500 uppercase tracking-widest mb-4">Tech Stack</h4>
                         <div class="flex flex-wrap gap-3">
                            <span class="px-3 py-1 border border-white/20 rounded-full text-xs">Solidity</span>
                            <span class="px-3 py-1 border border-white/20 rounded-full text-xs">Hardhat</span>
                            <span class="px-3 py-1 border border-white/20 rounded-full text-xs">React.js</span>
                            <span class="px-3 py-1 border border-white/20 rounded-full text-xs">Ethers.js</span>
                        </div>
                    </div>
                `
            },
            point72: {
                title: "POINT72 THESIS",
                subtitle: "Investment Analyst Case Study",
                tags: ["Financial Modeling", "Strategy", "Equity Research"],
                description: "A comprehensive investment thesis on $SG. Beyond the numbers—narrative construction, competitive moat analysis, and rigorous market sizing. Professional-grade equity research demonstrating both quantitative precision and qualitative insight.",
                details: `
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-8">
                        <div>
                            <h4 class="text-xs font-mono text-neutral-500 uppercase tracking-widest mb-4">The Objective</h4>
                            <p class="text-sm text-neutral-300 leading-relaxed">
                                To produce a professional-grade buy/sell recommendation backed by rigorous valuation models (DCF, Comps) and qualitative market analysis.
                            </p>
                        </div>
                        <div>
                            <h4 class="text-xs font-mono text-neutral-500 uppercase tracking-widest mb-4">The Reality</h4>
                            <p class="text-sm text-neutral-300 leading-relaxed">
                                A model is only as good as its assumptions. I focused heavily on sensitivity analysis, revealing exactly where the thesis could break. This honest assessment of risk—not optimistic projections—is what drives alpha.
                            </p>
                        </div>
                    </div>

                    <!-- Valuation Football Field -->
                    <div class="mt-12 p-6 border border-white/10 bg-black/20">
                        <h4 class="text-xs font-mono text-neutral-500 uppercase tracking-widest mb-6">Valuation Range (Football Field)</h4>
                        
                        <div class="space-y-6 font-mono text-xs relative">
                            <!-- Vertical Line: Current Price -->
                            <div class="absolute top-0 bottom-0 left-[60%] w-[1px] bg-red-500 z-10 flex flex-col justify-between items-center">
                                <span class="bg-red-500 text-black px-1 -mt-2 font-bold">$42.50</span>
                                <span class="text-red-500 bg-black px-1 -mb-2">CURRENT</span>
                            </div>

                            <!-- Bar 1: 52-Week Range -->
                            <div class="flex items-center gap-4">
                                <div class="w-32 text-right text-neutral-500">52-WEEK RANGE</div>
                                <div class="flex-1 h-8 bg-[#1a1a1a] relative">
                                    <div class="absolute top-2 bottom-2 left-[20%] right-[30%] bg-neutral-600 flex items-center justify-between px-2 text-[10px] text-black">
                                        <span>$28</span>
                                        <span>$55</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Bar 2: Comps -->
                            <div class="flex items-center gap-4">
                                <div class="w-32 text-right text-neutral-500">COMPS (EV/EBITDA)</div>
                                <div class="flex-1 h-8 bg-[#1a1a1a] relative">
                                    <div class="absolute top-2 bottom-2 left-[40%] right-[10%] bg-neutral-400 flex items-center justify-between px-2 text-[10px] text-black">
                                        <span>$38</span>
                                        <span>$65</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Bar 3: DCF -->
                            <div class="flex items-center gap-4">
                                <div class="w-32 text-right text-neutral-500">DCF (PERPETUITY)</div>
                                <div class="flex-1 h-8 bg-[#1a1a1a] relative">
                                    <div class="absolute top-2 bottom-2 left-[50%] right-[5%] bg-white flex items-center justify-between px-2 text-[10px] text-black font-bold">
                                        <span>$45</span>
                                        <span>$72</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <p class="text-xs font-mono text-neutral-500 mt-6 text-center">FIG 3.1: IMPLIED SHARE PRICE VS. MARKET</p>
                    </div>

                    <div class="mt-8 pt-8 border-t border-white/10">
                         <h4 class="text-xs font-mono text-neutral-500 uppercase tracking-widest mb-4">Tools Used</h4>
                         <div class="flex flex-wrap gap-3">
                            <span class="px-3 py-1 border border-white/20 rounded-full text-xs">Excel (Advanced)</span>
                            <span class="px-3 py-1 border border-white/20 rounded-full text-xs">Bloomberg Terminal</span>
                            <span class="px-3 py-1 border border-white/20 rounded-full text-xs">PowerPoint</span>
                        </div>
                    </div>
                `
            },
            taskformer: {
                title: "TASKFORMER",
                subtitle: "Strategic Consulting & Systems Optimization",
                tags: ["Consulting", "Strategy", "Decision Architecture"],
                description: "Strategy without execution is a daydream. Execution without strategy is a nightmare. I bridge the gap—transforming organizational complexity into executable clarity. This is consulting as systems engineering: diagnosing friction points, redesigning decision flows, and building frameworks that scale.",
                details: `
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-8">
                        <div>
                            <h4 class="text-xs font-mono text-neutral-500 uppercase tracking-widest mb-4">The Approach</h4>
                            <p class="text-sm text-neutral-300 leading-relaxed">
                                Organizations don't fail from lack of ideas—they fail from decision paralysis and misaligned incentives. I map the hidden logic gates in your operations: where information bottlenecks, where stakeholders diverge, where assumptions become vulnerabilities.
                            </p>
                        </div>
                        <div>
                            <h4 class="text-xs font-mono text-neutral-500 uppercase tracking-widest mb-4">The Methodology</h4>
                            <p class="text-sm text-neutral-300 leading-relaxed">
                                <span class="text-white border-b border-white/20">Discovery → Diagnosis → Design:</span> First, I listen to what you're not saying. Then, I stress-test your assumptions with data. Finally, I architect decision frameworks that turn complexity into competitive advantage.
                            </p>
                        </div>
                    </div>

                    <!-- Consulting Framework Visualization -->
                    <div class="mt-12 p-8 border border-white/10 bg-black/20 flex flex-col items-center">
                        <h4 class="text-xs font-mono text-neutral-500 uppercase tracking-widest mb-8 w-full text-left">Decision Architecture Framework [STATUS: ENTERPRISE_READY]</h4>
                        
                        <div class="relative w-full max-w-lg">
                            <svg viewBox="0 0 400 200" class="w-full">
                                <defs>
                                    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
                                        <path d="M0,0 L0,6 L9,3 z" fill="#666" />
                                    </marker>
                                </defs>
                                
                                <!-- Input -->
                                <rect x="10" y="80" width="80" height="40" rx="4" stroke="#666" fill="none" />
                                <text x="50" y="105" text-anchor="middle" fill="#EAEAEA" font-size="8" font-family="monospace">PROBLEM</text>
                                
                                <!-- Path 1 -->
                                <line x1="90" y1="100" x2="130" y2="100" stroke="#666" stroke-width="1" marker-end="url(#arrow)" />
                                
                                <!-- Node A: Analysis -->
                                <polygon points="150,80 190,100 150,120 110,100" stroke="#EAEAEA" fill="none" stroke-width="2" />
                                <text x="150" y="103" text-anchor="middle" fill="#EAEAEA" font-size="6" font-family="monospace">ANALYZE</text>
                                
                                <!-- Path 2 (Success) -->
                                <line x1="190" y1="100" x2="230" y2="100" stroke="#666" stroke-width="1" marker-end="url(#arrow)" />
                                
                                <!-- Node B: Design -->
                                <rect x="230" y="80" width="80" height="40" rx="4" stroke="#EAEAEA" fill="none" stroke-width="2" />
                                <text x="270" y="105" text-anchor="middle" fill="#EAEAEA" font-size="8" font-family="monospace">DESIGN</text>
                                
                                <!-- Path 3 (Execute) -->
                                <line x1="310" y1="100" x2="350" y2="100" stroke="#666" stroke-width="1" marker-end="url(#arrow)" />
                                <text x="370" y="105" text-anchor="middle" fill="#fff" font-size="10" font-weight="bold" font-family="monospace">EXECUTE</text>
                                
                                <!-- Path 4 (Iterate) -->
                                <line x1="150" y1="120" x2="150" y2="160" stroke="#666" stroke-width="1" stroke-dasharray="4" />
                                <line x1="150" y1="160" x2="350" y2="160" stroke="#666" stroke-width="1" marker-end="url(#arrow)" />
                                <text x="370" y="165" text-anchor="middle" fill="#666" font-size="10" font-family="monospace">ITERATE</text>
                                
                                <!-- Pulse Animation -->
                                <circle r="3" fill="#fff">
                                    <animateMotion dur="3s" repeatCount="indefinite" path="M50,100 L150,100 L270,100 L370,100" />
                                </circle>
                            </svg>
                        </div>
                        
                        <div class="w-full flex justify-between mt-6 pt-6 border-t border-white/10">
                            <div class="text-xs font-mono text-neutral-500">
                                <span class="block text-[10px] mb-1">OPTIMIZATION METRIC</span>
                                <span class="text-red-400">DECISION VELOCITY</span>
                            </div>
                            <div class="text-xs font-mono text-neutral-500 text-right">
                                <span class="block text-[10px] mb-1">DELIVERABLE</span>
                                <span class="text-white">EXECUTABLE CLARITY</span>
                            </div>
                        </div>
                    </div>
                `
            }
        };

        const writingData = {
            rhythm: {
                meta: { date: "AUG 2025", category: "MARKETS", readTime: "3 MIN" },
                title: "Rhythm in Volatility",
                lede: "Why the best traders listen to the noise before they look at the price.",
                content: `
                    <p class="font-serif text-lg md:text-xl leading-relaxed mb-6 drop-cap">
                        There is a cadence to the VIX that most algorithms miss. It’s not in the price action, but in the silence between the ticks. As a bassist, I learned that the rest is as important as the note. In markets, <span class="interactive-term" data-term="Term Structure">term structure<span class="term-tooltip">The relationship between interest rates or bond yields and different terms or maturities.</span></span> tells you the tempo.
                    </p>
                    <div class="my-12 border-l-4 border-black pl-6 py-2">
                        <p class="font-playfair italic text-3xl md:text-4xl leading-tight">"The market doesn't crash in a scream. It crashes in a whisper."</p>
                    </div>
                    <p class="font-serif text-lg md:text-xl leading-relaxed mb-6">
                        When we look at the volatility surface, we see a landscape. But if you close your eyes, you can hear it. The <span class="interactive-term" data-term="Skew">skew<span class="term-tooltip">The difference in implied volatility between out-of-the-money puts and calls.</span></span> is the pitch. When the skew steepens, the orchestra is tuning up for a dissonance.
                        <span class="sparkline" data-values="10,12,15,14,18,20,25,22,30,28,35"></span>
                    </p>
                    <p class="font-serif text-lg md:text-xl leading-relaxed mb-6">
                        We built a model that listens for these dissonances. It doesn't trade often. It waits. It waits for the conductor to raise the baton. And when the silence breaks, we strike.
                    </p>
                `,
                nextSlug: "hunter"
            },
            hunter: {
                meta: { date: "JUN 2025", category: "PHILOSOPHY", readTime: "4 MIN" },
                title: "The Patient Hunter",
                lede: "What falconry taught me about managing risk, letting go of control, and the art of waiting.",
                content: `
                    <p class="font-serif text-lg md:text-xl leading-relaxed mb-6 drop-cap">
                        You do not command a falcon. You suggest. You create an environment where the bird chooses to return to you. This is the essence of <span class="interactive-term" data-term="Risk Management">risk management<span class="term-tooltip">The identification, evaluation, and prioritization of risks followed by coordinated application of resources.</span></span>. You cannot control the market. You can only control your exposure to it.
                    </p>
                    <div class="my-12 border-l-4 border-black pl-6 py-2">
                        <p class="font-playfair italic text-3xl md:text-4xl leading-tight">"To hold the bird, you must open your hand."</p>
                    </div>
                    <p class="font-serif text-lg md:text-xl leading-relaxed mb-6">
                        In trading, we often try to force P&L. We overtrade. We chase. A falconer knows that if you chase the bird, it flies farther away. You must stand still. You must wait for the setup.
                        <span class="sparkline" data-values="50,50,50,50,50,80,90,100,40,50,50"></span>
                    </p>
                    <p class="font-serif text-lg md:text-xl leading-relaxed mb-6">
                        The kill is quick. The wait is long. The patience required to sit on your hands while markets gyrate is the hardest skill to master. But it's the only one that matters.
                    </p>
                `,
                nextSlug: "nuclear"
            },
            nuclear: {
                meta: { date: "JAN 2025", category: "ENERGY", readTime: "5 MIN" },
                title: "The Nuclear Option",
                lede: "An unbiased look at nuclear energy as the misunderstood giant of the sustainable future.",
                content: `
                    <p class="font-serif text-lg md:text-xl leading-relaxed mb-6 drop-cap">
                        Energy density is the only metric that matters. A pellet of uranium the size of a gummy bear contains as much energy as a ton of coal. Yet, we fear it. We fear the <span class="interactive-term" data-term="Tail Risk">tail risk<span class="term-tooltip">The risk of an asset or portfolio of assets moving more than 3 standard deviations from its current price.</span></span>.
                    </p>
                    <div class="my-12 border-l-4 border-black pl-6 py-2">
                        <p class="font-playfair italic text-3xl md:text-4xl leading-tight">"We chose the shadow of the cooling tower over the smoke of the stack."</p>
                    </div>
                    <p class="font-serif text-lg md:text-xl leading-relaxed mb-6">
                        The data is clear. Nuclear is the safest form of baseload power we have.
                        <span class="sparkline" data-values="5,5,4,4,3,3,2,2,1,1,0"></span>
                        The fear is emotional, not statistical. As we move toward an electrified future, the grid demands stability. Wind and solar are intermittent. Nuclear is the bedrock.
                    </p>
                `,
                nextSlug: "rhythm"
            }
        };

        function generateSparkline(valuesStr) {
            const values = valuesStr.split(',').map(Number);
            const width = 60;
            const height = 20;
            const max = Math.max(...values);
            const min = Math.min(...values);
            const range = max - min || 1;
            
            const points = values.map((v, i) => {
                const x = (i / (values.length - 1)) * width;
                const y = height - ((v - min) / range) * height;
                return `${x},${y}`;
            }).join(' ');

            return `<svg class="sparkline" width="${width}" height="${height}" viewBox="0 0 ${width} ${height}">
                <path d="M${points}" />
            </svg>`;
        }

        // --- 2. INIT TOOLS & CLOCK ---
        lucide.createIcons();
        document.getElementById('year').textContent = new Date().getFullYear();

        function updateClock() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('en-US', { 
                timeZone: 'America/Chicago', 
                hour12: false,
                hour: '2-digit', 
                minute: '2-digit', 
                second: '2-digit' 
            });
            document.getElementById('clock').textContent = timeString + " CST";
        }
        setInterval(updateClock, 1000);
        updateClock();

        // --- 3. TEXT SCRAMBLE EFFECT ---
        class TextScramble {
            constructor(el) {
                this.el = el;
                this.chars = '!<>-_\\/[]{}—=+*^?#________';
                this.update = this.update.bind(this);
            }
            setText(newText) {
                const oldText = this.el.innerText;
                const length = Math.max(oldText.length, newText.length);
                const promise = new Promise((resolve) => this.resolve = resolve);
                this.queue = [];
                for (let i = 0; i < length; i++) {
                    const from = oldText[i] || '';
                    const to = newText[i] || '';
                    const start = Math.floor(Math.random() * 40);
                    const end = start + Math.floor(Math.random() * 40);
                    this.queue.push({ from, to, start, end });
                }
                cancelAnimationFrame(this.frameRequest);
                this.frame = 0;
                this.update();
                return promise;
            }
            update() {
                let output = '';
                let complete = 0;
                for (let i = 0, n = this.queue.length; i < n; i++) {
                    let { from, to, start, end, char } = this.queue[i];
                    if (this.frame >= end) {
                        complete++;
                        output += to;
                    } else if (this.frame >= start) {
                        if (!char || Math.random() < 0.28) {
                            char = this.randomChar();
                            this.queue[i].char = char;
                        }
                        output += `<span class="text-neutral-600">${char}</span>`;
                    } else {
                        output += from;
                    }
                }
                this.el.innerHTML = output;
                if (complete === this.queue.length) {
                    this.resolve();
                } else {
                    this.frameRequest = requestAnimationFrame(this.update);
                    this.frame++;
                }
            }
            randomChar() {
                return this.chars[Math.floor(Math.random() * this.chars.length)];
            }
        }

        // --- 4. MODAL LOGIC ---
        const modal = document.getElementById('project-modal');
        const modalBody = document.getElementById('modal-body');
        const closeModal = document.getElementById('close-modal');
        const progressBar = document.getElementById('reading-progress');
        
        function openModal(id, type = 'project') {
            let data;
            const content = modal.querySelector('.modal-content');
            
            // Reset classes
            content.classList.remove('paper-mode');
            
            if (type === 'writing') {
                data = writingData[id];
                if (!data) return;
                
                content.classList.add('paper-mode');
                
                // Editorial Layout
                modalBody.innerHTML = `
                    <div class="max-w-3xl mx-auto">
                        <!-- Header Block -->
                        <div class="modal-stagger text-center mb-16" style="transition-delay: 0.1s">
                            <div class="font-mono text-xs tracking-[0.2em] text-neutral-500 mb-6 uppercase">
                                ${data.meta.category} /// ${data.meta.date} /// ${data.meta.readTime} READ
                            </div>
                            <h1 class="font-playfair italic text-5xl md:text-7xl font-bold mb-8 leading-tight text-off-black">
                                ${data.title}
                            </h1>
                            <p class="font-sans font-bold text-lg md:text-xl text-neutral-600 max-w-xl mx-auto leading-relaxed">
                                ${data.lede}
                            </p>
                        </div>

                        <!-- Body Content -->
                        <div class="modal-stagger" style="transition-delay: 0.2s">
                            ${data.content}
                        </div>

                        <!-- Next Article Hook -->
                        <div class="modal-stagger mt-20 pt-12 border-t border-neutral-300" style="transition-delay: 0.3s">
                            <p class="font-mono text-xs text-neutral-500 uppercase tracking-widest mb-4">Up Next</p>
                            <div class="group cursor-pointer" onclick="openModal('${data.nextSlug}', 'writing')">
                                <h3 class="font-display text-3xl font-medium group-hover:translate-x-2 transition-transform duration-300">
                                    ${writingData[data.nextSlug].title} <i data-lucide="arrow-right" class="inline-block w-6 h-6 ml-2 opacity-0 group-hover:opacity-100 transition-opacity"></i>
                                </h3>
                            </div>
                        </div>
                    </div>
                `;

                // Render Sparklines
                modalBody.querySelectorAll('.sparkline').forEach(el => {
                    if (el.dataset.values) {
                        el.outerHTML = generateSparkline(el.dataset.values);
                    }
                });

            } else {
                // Standard Project Layout
                data = projectData[id];
                if (!data) return;

                // Calculate Read Time
                const wordCount = data.description.split(' ').length + data.details.split(' ').length;
                const readTime = Math.ceil(wordCount / 200);

                modalBody.innerHTML = `
                    <div class="modal-stagger" style="transition-delay: 0.1s">
                        <div class="flex justify-between items-start mb-2">
                            <h2 class="font-display text-4xl md:text-6xl font-bold text-white">${data.title}</h2>
                            <span class="font-mono text-xs text-neutral-500 border border-neutral-800 px-2 py-1 rounded">${readTime} MIN READ</span>
                        </div>
                        <p class="font-sans text-lg text-neutral-400 mb-6">${data.subtitle}</p>
                        <div class="flex flex-wrap gap-2 mb-8">
                            ${data.tags.map(tag => `<span class="px-3 py-1 bg-white/5 text-xs font-mono uppercase text-neutral-300 tracking-widest">${tag}</span>`).join('')}
                        </div>
                    </div>
                    <div class="modal-stagger" style="transition-delay: 0.2s">
                        <p class="font-display text-xl md:text-2xl leading-relaxed text-white font-light border-l-2 border-white/30 pl-6 mb-8 drop-cap">
                            ${data.description}
                        </p>
                    </div>
                    <div class="modal-stagger" style="transition-delay: 0.3s">
                        ${data.details}
                    </div>
                `;
            }

            modal.classList.add('active');
            document.body.classList.add('modal-open');
            lockBodyScroll();
            lucide.createIcons();
        }
        
        // Helper functions for body scroll lock
        function lockBodyScroll() {
            const scrollbarWidth = window.innerWidth - document.documentElement.clientWidth;
            document.body.style.overflow = 'hidden';
            document.body.style.paddingRight = scrollbarWidth + 'px';
        }
        
        function unlockBodyScroll() {
            document.body.style.overflow = '';
            document.body.style.paddingRight = '';
        }

        function closeModalFunc() {
            modal.classList.remove('active');
            document.body.classList.remove('modal-open');
            progressBar.style.width = '0%';
            
            // Clear all active intervals to prevent memory leaks
            if (analysisTimerInterval) {
                clearInterval(analysisTimerInterval);
                analysisTimerInterval = null;
            }
            Object.keys(metricIntervals).forEach(key => {
                clearInterval(metricIntervals[key]);
                delete metricIntervals[key];
            });
            
            // Reset modal state
            setTimeout(() => {
                modal.querySelector('.modal-content').classList.remove('paper-mode');
                modalBody.innerHTML = ''; // Clear content to reset animations
                unlockBodyScroll();
            }, 500);
        }

        // Reading Progress & Scroll-to-Blur
        modal.querySelector('.modal-content').addEventListener('scroll', (e) => {
            const el = e.target;
            const scrollTop = el.scrollTop;
            const scrollHeight = el.scrollHeight - el.clientHeight;
            const progress = (scrollTop / scrollHeight) * 100;
            progressBar.style.width = `${progress}%`;

            // Scroll-to-Blur Effect for Header
            if (modal.querySelector('.modal-content').classList.contains('paper-mode')) {
                const header = modalBody.querySelector('.text-center');
                if (header) {
                    const opacity = Math.max(0, 1 - scrollTop / 300);
                    const blur = Math.min(10, scrollTop / 30);
                    header.style.opacity = opacity;
                    header.style.filter = `blur(${blur}px)`;
                }
            }
        });

        // Attach listeners to cards
        document.querySelectorAll('.project-card').forEach(card => {
            card.addEventListener('click', () => {
                const projectId = card.dataset.project;
                openModal(projectId, 'project');
            });
        });

        // Attach listeners to writing items
        document.querySelectorAll('.writing-item').forEach(item => {
            const handleOpen = () => {
                const writingId = item.dataset.writing;
                openModal(writingId, 'writing');
            };
            item.addEventListener('click', handleOpen);
            // Keyboard support
            item.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    handleOpen();
                }
            });
        });

        // Enhanced form submission handling
        document.addEventListener('submit', async function(e) {
            if (e.target.tagName === 'FORM' && e.target.action.includes('formspree')) {
                e.preventDefault();
                
                const form = e.target;
                const submitBtn = form.querySelector('button[type="submit"]');
                const originalText = submitBtn.textContent;
                
                // Disable form and show loading state
                submitBtn.disabled = true;
                submitBtn.classList.add('opacity-50', 'cursor-not-allowed');
                submitBtn.textContent = 'SENDING...';
                
                try {
                    const response = await fetch(form.action, {
                        method: 'POST',
                        body: new FormData(form),
                        headers: { 'Accept': 'application/json' }
                    });
                    
                    if (response.ok) {
                        // Success state
                        submitBtn.classList.remove('bg-white', 'text-black');
                        submitBtn.classList.add('bg-white', 'text-black');
                        submitBtn.textContent = '✓ MESSAGE SENT!';
                        form.reset();
                        
                        // Reset after 3 seconds
                        setTimeout(() => {
                            submitBtn.disabled = false;
                            submitBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                            submitBtn.textContent = originalText;
                        }, 3000);
                    } else {
                        throw new Error('Form submission failed');
                    }
                } catch (error) {
                    // Error state
                    submitBtn.classList.add('bg-red-500', 'text-white');
                    submitBtn.textContent = '✗ ERROR - TRY AGAIN';
                    
                    setTimeout(() => {
                        submitBtn.disabled = false;
                        submitBtn.classList.remove('opacity-50', 'cursor-not-allowed', 'bg-red-500');
                        submitBtn.classList.add('bg-white');
                        submitBtn.textContent = originalText;
                    }, 3000);
                }
            }
        });
        const serviceData = {
            financial: {
                title: "FINANCIAL CONSULTING",
                subtitle: "Strategic Analysis & Decision Architecture",
                description: "Let's discuss how strategic financial consulting can transform your organization's decision-making process.",
                formspreeId: "YOUR_FORMSPREE_ID_HERE",
                services: [
                    "Financial Modeling & Valuation",
                    "Investment Thesis Development",
                    "Strategic Planning & Scenario Analysis",
                    "Risk Assessment & Management",
                    "M&A Due Diligence Support",
                    "Custom Financial Tools & Dashboards"
                ]
            },
            website: {
                title: "WEBSITE DESIGN",
                subtitle: "Bespoke Digital Experiences",
                description: "Let's craft a digital experience that captures your brand's unique essence and converts visitors into believers.",
                formspreeId: "xzznvvzw",
                services: [
                    "Custom Website Design & Development",
                    "Interactive & Generative Art",
                    "E-Commerce Solutions",
                    "Portfolio & Personal Branding Sites",
                    "Landing Pages & Conversion Optimization",
                    "Web3 & Blockchain Interfaces"
                ]
            }
        };

        function openServiceModal(serviceId) {
            const data = serviceData[serviceId];
            if (!data) return;

            const content = modal.querySelector('.modal-content');
            content.classList.remove('paper-mode');

            if (serviceId === 'financial') {
                modalBody.innerHTML = `
                    <div class="max-w-[1600px] mx-auto">
                        <!-- Header -->
                        <div class="modal-stagger mb-32" style="transition-delay: 0.05s">
                            <div class="max-w-6xl">
                                <div class="flex items-center gap-4 mb-12">
                                    <div class="w-2 h-2 bg-white/40 rounded-full animate-pulse"></div>
                                    <div class="font-mono text-xs text-neutral-600 uppercase tracking-[0.5em]">Live Financial Analysis</div>
                                </div>
                                <h1 class="font-display text-8xl md:text-9xl font-medium mb-12 tracking-tight leading-[0.85]">
                                    <span class="typing-text" id="main-title">${data.title}</span>
                                </h1>
                                <p class="font-sans text-2xl text-neutral-400 leading-[1.6] max-w-4xl opacity-0 transition-opacity duration-300" id="financial-subtitle-text" style="transition-delay: 1.8s;">
                                    ${data.subtitle}
                                </p>
                            </div>
                        </div>

                        <!-- Main Content Grid -->
                        <div class="grid grid-cols-1 lg:grid-cols-5 gap-20 mb-40">
                            
                            <!-- Left: Spreadsheet Analysis (3/5) -->
                            <div class="lg:col-span-3 space-y-12 modal-stagger" style="transition-delay: 0.15s">
                                
                                <div class="space-y-10">
                                    <div class="flex items-baseline gap-6 pb-6 border-b border-white/10">
                                        <h2 class="font-display text-3xl font-medium tracking-tight">Financial Statements</h2>
                                        <span class="font-mono text-xs text-neutral-600 uppercase tracking-[0.3em]">FY 2024</span>
                                    </div>

                                    <!-- Statement Tabs -->
                                    <div class="flex gap-2 mb-6">
                                        <button onclick="switchStatement('income')" id="tab-income" class="statement-tab active font-mono text-xs px-4 py-2 border border-white/20 bg-white/10 hover:bg-white/15 transition-all duration-300 uppercase tracking-[0.3em]">
                                            Income Statement
                                        </button>
                                        <button onclick="switchStatement('balance')" id="tab-balance" class="statement-tab font-mono text-xs px-4 py-2 border border-white/10 hover:border-white/20 hover:bg-white/5 transition-all duration-300 uppercase tracking-[0.3em] text-neutral-500">
                                            Balance Sheet
                                        </button>
                                        <button onclick="switchStatement('cashflow')" id="tab-cashflow" class="statement-tab font-mono text-xs px-4 py-2 border border-white/10 hover:border-white/20 hover:bg-white/5 transition-all duration-300 uppercase tracking-[0.3em] text-neutral-500">
                                            Cash Flow
                                        </button>
                                    </div>

                                    <!-- Terminal Window -->
                                    <div class="border border-white/10 overflow-hidden group hover:border-white/20 transition-all duration-700 shadow-2xl shadow-black/50">
                                        <!-- Terminal Header -->
                                        <div class="flex items-center justify-between px-8 py-6 border-b border-white/5 bg-[#0A0A0A]">
                                            <div class="flex items-center gap-4">
                                                <div class="flex gap-2">
                                                    <div class="w-3 h-3 rounded-full bg-neutral-800 group-hover:bg-red-500/30 transition-colors duration-500"></div>
                                                    <div class="w-3 h-3 rounded-full bg-neutral-800 group-hover:bg-white/30 transition-colors duration-500" style="transition-delay: 50ms"></div>
                                                    <div class="w-3 h-3 rounded-full bg-neutral-800 group-hover:bg-white/30 transition-colors duration-500" style="transition-delay: 100ms"></div>
                                                </div>
                                                <span class="font-mono text-xs text-neutral-500 tracking-wider" id="statement-filename">GREENSCAPE_INCOME_FY2024.xlsx</span>
                                            </div>
                                            <div id="analysis-timer" class="font-mono text-xs text-neutral-600 tracking-wider tabular-nums">00:00</div>
                                        </div>

                                        <!-- Spreadsheet Container -->
                                        <div class="relative bg-[#030303] p-10 overflow-auto scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/10" style="max-height: 700px;" id="spreadsheet-container">
                                            <div id="income-statement" class="font-mono text-xs statement-content active"></div>
                                            <div id="balance-statement" class="font-mono text-xs statement-content hidden"></div>
                                            <div id="cashflow-statement" class="font-mono text-xs statement-content hidden"></div>
                                            
                                            <!-- Cell Highlight -->
                                            <div id="cell-highlight" class="absolute pointer-events-none border-2 border-white/50 transition-all duration-700 ease-out hidden shadow-lg shadow-white/10"></div>
                                            
                                            <!-- Analyst Cursor -->
                                            <div id="analyst-cursor" class="absolute pointer-events-none transition-all duration-1000 ease-out hidden">
                                                <div class="w-1 h-1 bg-white shadow-lg shadow-white/50"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Analysis Commentary -->
                                <div id="analysis-notes" class="space-y-6"></div>

                            </div>

                            <!-- Right: Key Metrics (2/5) -->
                            <div class="lg:col-span-2 modal-stagger" style="transition-delay: 0.2s">
                                
                                <div class="sticky top-8 space-y-16">
                                    <div class="space-y-10">
                                        <div class="pb-6 border-b border-white/10">
                                            <h2 class="font-display text-3xl font-medium tracking-tight mb-3">Key Metrics</h2>
                                            <p class="font-mono text-xs text-neutral-600 uppercase tracking-[0.3em]">Performance Indicators</p>
                                        </div>

                                        <!-- Metrics Grid -->
                                        <div class="space-y-12" id="metrics-container">
                                            <div class="border-l-2 border-white/20 pl-8 opacity-0 transition-all duration-1000" id="metric-1">
                                                <div class="text-xs text-neutral-600 mb-5 uppercase tracking-[0.4em] font-mono" id="metric-1-label">Gross Margin</div>
                                                <div class="text-6xl font-display font-medium text-white mb-8 tracking-tight transition-all duration-700" id="metric-1-value">0.0<span class="text-neutral-700">%</span></div>
                                                <div class="h-0.5 bg-white/5 w-full relative overflow-hidden rounded-full">
                                                    <div class="absolute inset-y-0 left-0 bg-gradient-to-r from-white to-neutral-400 rounded-full" style="width: 0%; transition: width 2000ms cubic-bezier(0.4, 0, 0.2, 1);" id="metric-1-bar"></div>
                                                </div>
                                                <div class="text-xs text-neutral-600 mt-5 font-sans" id="metric-1-benchmark">Industry benchmark: 55.0%</div>
                                            </div>

                                            <div class="border-l-2 border-white/20 pl-8 opacity-0 transition-all duration-1000" id="metric-2">
                                                <div class="text-xs text-neutral-600 mb-5 uppercase tracking-[0.4em] font-mono" id="metric-2-label">EBITDA Margin</div>
                                                <div class="text-6xl font-display font-medium text-white mb-8 tracking-tight transition-all duration-700" id="metric-2-value">0.0<span class="text-neutral-700">%</span></div>
                                                <div class="h-0.5 bg-white/5 w-full relative overflow-hidden rounded-full">
                                                    <div class="absolute inset-y-0 left-0 bg-gradient-to-r from-white to-neutral-400 rounded-full" style="width: 0%; transition: width 2000ms cubic-bezier(0.4, 0, 0.2, 1);" id="metric-2-bar"></div>
                                                </div>
                                                <div class="text-xs text-neutral-600 mt-5 font-sans" id="metric-2-benchmark">Industry benchmark: 28.0%</div>
                                            </div>

                                            <div class="border-l-2 border-white/20 pl-8 opacity-0 transition-all duration-1000" id="metric-3">
                                                <div class="text-xs text-neutral-600 mb-5 uppercase tracking-[0.4em] font-mono" id="metric-3-label">Net Margin</div>
                                                <div class="text-6xl font-display font-medium text-white mb-8 tracking-tight transition-all duration-700" id="metric-3-value">0.0<span class="text-neutral-700">%</span></div>
                                                <div class="h-0.5 bg-white/5 w-full relative overflow-hidden rounded-full">
                                                    <div class="absolute inset-y-0 left-0 bg-gradient-to-r from-white to-neutral-400 rounded-full" style="width: 0%; transition: width 2000ms cubic-bezier(0.4, 0, 0.2, 1);" id="metric-3-bar"></div>
                                                </div>
                                                <div class="text-xs text-neutral-600 mt-5 font-sans" id="metric-3-benchmark">Industry benchmark: 18.0%</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>

                        <!-- Why Work With Me -->
                        <div class="modal-stagger border-t border-white/5 pt-40 mb-40" style="transition-delay: 0.25s">
                            <div class="max-w-6xl">
                                <div class="mb-24">
                                    <div class="font-mono text-xs uppercase tracking-[0.5em] text-neutral-600 mb-10">Process</div>
                                    <h2 class="font-display text-6xl md:text-7xl font-medium mb-8 tracking-tight leading-[0.95]">
                                        How We Work Together
                                    </h2>
                                </div>

                                <div class="grid grid-cols-1 md:grid-cols-4 gap-16">
                                    <div class="group">
                                        <div class="text-8xl font-display font-medium text-white/5 mb-8 group-hover:text-white/10 transition-colors duration-700">01</div>
                                        <h3 class="font-display text-2xl mb-6 leading-tight">Understand<br/>& Frame</h3>
                                        <p class="font-sans text-neutral-500 leading-[1.9] text-sm">
                                            Deep dive into your business model, competitive landscape, and strategic objectives to frame the right questions.
                                        </p>
                                    </div>

                                    <div class="group">
                                        <div class="text-8xl font-display font-medium text-white/5 mb-8 group-hover:text-white/10 transition-colors duration-700">02</div>
                                        <h3 class="font-display text-2xl mb-6 leading-tight">Model<br/>& Analyze</h3>
                                        <p class="font-sans text-neutral-500 leading-[1.9] text-sm">
                                            Build sophisticated financial models with institutional-grade rigor. Scenario testing and sensitivity analysis included.
                                        </p>
                                    </div>

                                    <div class="group">
                                        <div class="text-8xl font-display font-medium text-white/5 mb-8 group-hover:text-white/10 transition-colors duration-700">03</div>
                                        <h3 class="font-display text-2xl mb-6 leading-tight">Synthesize<br/>& Deliver</h3>
                                        <p class="font-sans text-neutral-500 leading-[1.9] text-sm">
                                            Decision-ready outputs with clear recommendations. Interactive models your team can own and iterate on.
                                        </p>
                                    </div>

                                    <div class="group">
                                        <div class="text-8xl font-display font-medium text-white/5 mb-8 group-hover:text-white/10 transition-colors duration-700">04</div>
                                        <h3 class="font-display text-2xl mb-6 leading-tight">Support<br/>& Iterate</h3>
                                        <p class="font-sans text-neutral-500 leading-[1.9] text-sm">
                                            Post-delivery support to ensure full adoption. Model updates and ongoing strategic counsel as needed.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Contact -->
                        <div class="modal-stagger border-t border-white/5 pt-40" style="transition-delay: 0.3s">
                            <div class="max-w-3xl mx-auto">
                                <div class="mb-16 text-center">
                                    <div class="font-mono text-xs uppercase tracking-[0.5em] text-neutral-600 mb-6">Get Started</div>
                                    <h2 class="font-display text-5xl font-medium mb-6 tracking-tight">Let's Discuss Your Project</h2>
                                    <p class="font-sans text-lg text-neutral-400 leading-relaxed">
                                        Share what you're working on. I'll respond within 48 hours with initial thoughts and potential next steps.
                                    </p>
                                </div>

                            <form action="https://formspree.io/f/xyzrppzo" method="POST" class="space-y-8">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                    <div>
                                        <input type="text" name="name" required 
                                            class="w-full bg-transparent border-b border-white/20 pb-4 text-white font-sans text-base placeholder:text-neutral-600 focus:border-white focus:outline-none transition-colors duration-300" 
                                            placeholder="Your Name *">
                                    </div>
                                    <div>
                                        <input type="email" name="email" required 
                                            class="w-full bg-transparent border-b border-white/20 pb-4 text-white font-sans text-base placeholder:text-neutral-600 focus:border-white focus:outline-none transition-colors duration-300" 
                                            placeholder="Email Address *">
                                    </div>
                                </div>
                                
                                <div>
                                    <input type="text" name="company" 
                                        class="w-full bg-transparent border-b border-white/20 pb-4 text-white font-sans text-base placeholder:text-neutral-600 focus:border-white focus:outline-none transition-colors duration-300" 
                                        placeholder="Company">
                                </div>

                                <div>
                                    <textarea name="message" required rows="4" 
                                        class="w-full bg-transparent border-b border-white/20 pb-4 text-white font-sans text-base placeholder:text-neutral-600 focus:border-white focus:outline-none transition-colors duration-300 resize-none" 
                                        placeholder="Tell me about your needs... *"></textarea>
                                </div>

                                <div class="pt-8">
                                    <button type="submit" 
                                        class="w-full bg-white text-black font-display text-base font-medium py-5 px-8 hover:bg-neutral-200 hover:shadow-2xl hover:shadow-white/20 transition-all duration-500 uppercase tracking-[0.2em]">
                                        Submit Inquiry
                                    </button>
                                    <div class="flex items-center justify-center gap-8 mt-8 text-xs text-neutral-600 font-mono">
                                        <div class="flex items-center gap-2">
                                            <i data-lucide="shield-check" class="w-3 h-3"></i>
                                            <span>Confidential</span>
                                        </div>
                                        <div class="flex items-center gap-2">
                                            <i data-lucide="clock" class="w-3 h-3"></i>
                                            <span>48hr Response</span>
                                        </div>
                                        <div class="flex items-center gap-2">
                                            <i data-lucide="check-circle" class="w-3 h-3"></i>
                                            <span>No Obligation</span>
                                        </div>
                                    </div>
                                </div>
                            </form>
                            </div>
                        </div>
                    </div>
                `;

                setTimeout(() => {
                    initLiveAnalysis();
                }, 300);

            } else if (serviceId === 'website') {
                modalBody.innerHTML = `
                    <div class="max-w-[1600px] mx-auto">
                        <!-- Hero Header -->
                        <div class="modal-stagger mb-32" style="transition-delay: 0.05s">
                            <div class="max-w-6xl">
                                <div class="flex items-center gap-4 mb-12">
                                    <div class="w-2 h-2 bg-white/40 rounded-full animate-pulse"></div>
                                    <div class="font-mono text-xs text-neutral-600 uppercase tracking-[0.5em]">Live Design System</div>
                                </div>
                                <h1 class="font-display text-8xl md:text-9xl font-medium mb-12 tracking-tight leading-[0.85]">
                                    <span class="typing-text" id="website-main-title">${data.title}</span>
                                </h1>
                                <p class="font-sans text-2xl text-neutral-400 leading-[1.6] max-w-4xl opacity-0 transition-opacity duration-300" id="website-subtitle-text" style="transition-delay: 1.8s;">
                                    ${data.subtitle}
                                </p>
                            </div>
                        </div>

                        <!-- Main Content Grid -->
                        <div class="grid grid-cols-1 lg:grid-cols-5 gap-16 mb-32">
                            <!-- Left: Interactive Design Showcase (3/5) -->
                            <div class="lg:col-span-3 modal-stagger space-y-16" style="transition-delay: 0.1s">
                                
                                <!-- Design Mode Tabs -->
                                <div class="border-b border-white/10 flex gap-8 mb-8" id="design-tabs">
                                    <button class="design-tab active pb-4 font-mono text-xs uppercase tracking-[0.3em] text-white border-b-2 border-white transition-all duration-300" data-mode="layout">Layout</button>
                                    <button class="design-tab pb-4 font-mono text-xs uppercase tracking-[0.3em] text-neutral-600 border-b-2 border-transparent hover:text-white hover:border-white/30 transition-all duration-300" data-mode="typography">Typography</button>
                                    <button class="design-tab pb-4 font-mono text-xs uppercase tracking-[0.3em] text-neutral-600 border-b-2 border-transparent hover:text-white hover:border-white/30 transition-all duration-300" data-mode="motion">Motion</button>
                                </div>

                                <!-- Design Content Container -->
                                <div class="design-modes relative">
                                    <!-- Layout Mode -->
                                    <div id="design-layout" class="design-content">
                                        <div class="space-y-16">
                                            <!-- Browser Window -->
                                            <div class="border border-white/10 overflow-hidden shadow-2xl shadow-black/50 opacity-0 design-element" style="animation: fadeInDesign 0.8s ease-out 0.2s forwards;">
                                                <!-- Browser Header -->
                                                <div class="bg-[#0A0A0A] border-b border-white/5 px-4 py-3 flex items-center gap-3">
                                                    <div class="flex gap-2">
                                                        <div class="w-3 h-3 rounded-full bg-red-500/30"></div>
                                                        <div class="w-3 h-3 rounded-full bg-white/30"></div>
                                                        <div class="w-3 h-3 rounded-full bg-white/30"></div>
                                                    </div>
                                                    <div class="flex-1 flex items-center gap-2 px-4 py-1.5 bg-white/5 rounded font-mono text-xs text-neutral-600">
                                                        <i data-lucide="lock" class="w-3 h-3"></i>
                                                        <span>yourwebsite.com</span>
                                                    </div>
                                                </div>

                                                <!-- Browser Content -->
                                                <div class="bg-[#030303] p-12 relative" style="min-height: 500px;" id="browser-viewport">
                                                    <!-- Grid Overlay with Pulse -->
                                                    <div class="absolute inset-0 grid grid-cols-12 gap-px pointer-events-none" id="grid-overlay" style="animation: gridPulse 4s ease-in-out infinite;">
                                                        <div class="border-l border-white/20"></div>
                                                        <div class="border-l border-white/20"></div>
                                                        <div class="border-l border-white/20"></div>
                                                        <div class="border-l border-white/20"></div>
                                                        <div class="border-l border-white/20"></div>
                                                        <div class="border-l border-white/20"></div>
                                                        <div class="border-l border-white/20"></div>
                                                        <div class="border-l border-white/20"></div>
                                                        <div class="border-l border-white/20"></div>
                                                        <div class="border-l border-white/20"></div>
                                                        <div class="border-l border-white/20"></div>
                                                        <div class="border-l border-white/20"></div>
                                                    </div>
                                                    
                                                    <!-- Building Cursor Indicator -->
                                                    <div class="absolute top-4 right-4 flex items-center gap-2 z-20">
                                                        <div class="w-1.5 h-1.5 bg-white rounded-full" style="animation: cursorBlink 1s infinite;"></div>
                                                        <span class="font-mono text-xs text-white/60">RENDERING</span>
                                                    </div>
                                                    
                                                    <!-- Mock Content -->
                                                    <div class="relative z-10 space-y-10" id="preview-content">
                                                        <!-- Hero Section -->
                                                        <div class="opacity-0 preview-element" style="animation: fadeInDesign 0.6s ease-out 0.3s forwards;">
                                                            <div class="h-14 bg-gradient-to-r from-white/30 via-white/20 to-white/5 rounded-lg flex items-center px-6 shadow-lg shadow-white/5" style="width: 45%;">
                                                                <div class="h-3 bg-white/50 rounded animate-pulse" style="width: 60%;"></div>
                                                            </div>
                                                        </div>
                                                        
                                                        <!-- Body Text -->
                                                        <div class="space-y-3 opacity-0 preview-element" style="animation: fadeInDesign 0.6s ease-out 0.5s forwards;">
                                                            <div class="h-4 bg-gradient-to-r from-white/15 to-white/5 rounded" style="width: 75%;"></div>
                                                            <div class="h-4 bg-gradient-to-r from-white/15 to-white/5 rounded" style="width: 90%;"></div>
                                                            <div class="h-4 bg-gradient-to-r from-white/15 to-white/5 rounded" style="width: 65%;"></div>
                                                        </div>

                                                        <!-- CTA Button -->
                                                        <div class="opacity-0 preview-element" style="animation: fadeInDesign 0.6s ease-out 0.7s forwards;">
                                                            <div class="inline-flex items-center gap-3 bg-white/95 hover:bg-white hover:scale-105 transition-all duration-500 px-8 py-4 rounded-lg shadow-xl shadow-white/30 cursor-pointer group">
                                                                <div class="h-3 bg-black/80 rounded" style="width: 100px;"></div>
                                                                <div class="w-4 h-4 border-2 border-black/80 rounded-full flex items-center justify-center">
                                                                    <div class="w-2 h-2 bg-black/80 rounded-full transform group-hover:translate-x-1 transition-transform duration-300"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        
                                                        <!-- Feature Cards -->
                                                        <div class="grid grid-cols-3 gap-6 mt-16 opacity-0 preview-element" style="animation: fadeInDesign 0.6s ease-out 0.9s forwards;">
                                                            <div class="border border-white/10 bg-white/5 backdrop-blur-sm p-6 rounded-lg hover:border-white/30 hover:bg-white/10 hover:scale-105 transition-all duration-500 cursor-pointer group shadow-lg shadow-black/20">
                                                                <div class="w-12 h-12 bg-white/20 rounded-lg mb-4 flex items-center justify-center group-hover:bg-white/40 group-hover:shadow-lg group-hover:shadow-white/30 transition-all duration-500">
                                                                    <div class="w-6 h-6 bg-white/70 rounded group-hover:rotate-12 transition-transform duration-500"></div>
                                                                </div>
                                                                <div class="h-3 bg-white/30 rounded mb-3 group-hover:bg-white/40 transition-colors" style="width: 70%;"></div>
                                                                <div class="space-y-2">
                                                                    <div class="h-2 bg-white/15 rounded group-hover:bg-white/20 transition-colors" style="width: 90%;"></div>
                                                                    <div class="h-2 bg-white/15 rounded group-hover:bg-white/20 transition-colors" style="width: 75%;"></div>
                                                                </div>
                                                            </div>
                                                            <div class="border border-white/10 bg-white/5 backdrop-blur-sm p-6 rounded-lg hover:border-white/30 hover:bg-white/10 hover:scale-105 transition-all duration-500 cursor-pointer group shadow-lg shadow-black/20">
                                                                <div class="w-12 h-12 bg-white/20 rounded-lg mb-4 flex items-center justify-center group-hover:bg-white/40 group-hover:shadow-lg group-hover:shadow-white/30 transition-all duration-500">
                                                                    <div class="w-6 h-6 bg-white/70 rounded group-hover:rotate-12 transition-transform duration-500"></div>
                                                                </div>
                                                                <div class="h-3 bg-white/30 rounded mb-3 group-hover:bg-white/40 transition-colors" style="width: 65%;"></div>
                                                                <div class="space-y-2">
                                                                    <div class="h-2 bg-white/15 rounded group-hover:bg-white/20 transition-colors" style="width: 85%;"></div>
                                                                    <div class="h-2 bg-white/15 rounded group-hover:bg-white/20 transition-colors" style="width: 80%;"></div>
                                                                </div>
                                                            </div>
                                                            <div class="border border-white/10 bg-white/5 backdrop-blur-sm p-6 rounded-lg hover:border-white/30 hover:bg-white/10 hover:scale-105 transition-all duration-500 cursor-pointer group shadow-lg shadow-black/20">
                                                                <div class="w-12 h-12 bg-white/20 rounded-lg mb-4 flex items-center justify-center group-hover:bg-white/40 group-hover:shadow-lg group-hover:shadow-white/30 transition-all duration-500">
                                                                    <div class="w-6 h-6 bg-white/70 rounded group-hover:rotate-12 transition-transform duration-500"></div>
                                                                </div>
                                                                <div class="h-3 bg-white/30 rounded mb-3 group-hover:bg-white/40 transition-colors" style="width: 75%;"></div>
                                                                <div class="space-y-2">
                                                                    <div class="h-2 bg-white/15 rounded group-hover:bg-white/20 transition-colors" style="width: 80%;"></div>
                                                                    <div class="h-2 bg-white/15 rounded group-hover:bg-white/20 transition-colors" style="width: 70%;"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- Device Switcher -->
                                                <div class="bg-[#0A0A0A] border-t border-white/5 px-6 py-3 flex items-center justify-center gap-2">
                                                    <button class="device-switch px-4 py-2 font-mono text-xs hover:bg-white/5 transition-all duration-300 flex items-center gap-2" data-device="mobile">
                                                        <i data-lucide="smartphone" class="w-3 h-3"></i>
                                                        <span>Mobile</span>
                                                    </button>
                                                    <button class="device-switch px-4 py-2 font-mono text-xs hover:bg-white/5 transition-all duration-300 flex items-center gap-2" data-device="tablet">
                                                        <i data-lucide="tablet" class="w-3 h-3"></i>
                                                        <span>Tablet</span>
                                                    </button>
                                                    <button class="device-switch active px-4 py-2 font-mono text-xs bg-white/10 transition-all duration-300 flex items-center gap-2" data-device="desktop">
                                                        <i data-lucide="monitor" class="w-3 h-3"></i>
                                                        <span>Desktop</span>
                                                    </button>
                                                </div>
                                            </div>

                                            <!-- Responsive Breakpoints -->
                                            <div class="border border-white/10 p-8 opacity-0 design-element" style="animation: fadeInDesign 0.8s ease-out 0.4s forwards;">
                                                <div class="font-mono text-xs text-neutral-600 mb-6 uppercase tracking-widest">Responsive System</div>
                                                <div class="grid grid-cols-4 gap-4">
                                                    <div class="text-center p-4 border border-white/5 bg-white/5">
                                                        <i data-lucide="smartphone" class="w-6 h-6 mx-auto mb-2 text-neutral-500"></i>
                                                        <div class="font-mono text-xs text-white mb-1">Mobile</div>
                                                        <div class="font-mono text-[10px] text-neutral-600">< 768px</div>
                                                    </div>
                                                    <div class="text-center p-4 border border-white/5 bg-white/5">
                                                        <i data-lucide="tablet" class="w-6 h-6 mx-auto mb-2 text-neutral-500"></i>
                                                        <div class="font-mono text-xs text-white mb-1">Tablet</div>
                                                        <div class="font-mono text-[10px] text-neutral-600">768px - 1024px</div>
                                                    </div>
                                                    <div class="text-center p-4 border border-white/5 bg-white/10">
                                                        <i data-lucide="monitor" class="w-6 h-6 mx-auto mb-2 text-white"></i>
                                                        <div class="font-mono text-xs text-white mb-1">Desktop</div>
                                                        <div class="font-mono text-[10px] text-neutral-400">1024px - 1440px</div>
                                                    </div>
                                                    <div class="text-center p-4 border border-white/5 bg-white/5">
                                                        <i data-lucide="tv" class="w-6 h-6 mx-auto mb-2 text-neutral-500"></i>
                                                        <div class="font-mono text-xs text-white mb-1">Large</div>
                                                        <div class="font-mono text-[10px] text-neutral-600">&gt; 1440px</div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Component Library Preview -->
                                            <div class="border border-white/10 p-8 opacity-0 design-element" style="animation: fadeInDesign 0.8s ease-out 0.6s forwards;">
                                                <div class="font-mono text-xs text-neutral-600 mb-6 uppercase tracking-widest">Component Library</div>
                                                <div class="space-y-6">
                                                    <div class="flex flex-wrap gap-3">
                                                        <button class="px-8 py-4 bg-white text-black font-display text-sm uppercase tracking-wider hover:bg-neutral-200 hover:scale-105 transition-all duration-300 shadow-lg shadow-white/10">Primary CTA</button>
                                                        <button class="px-8 py-4 border border-white/20 text-white font-display text-sm uppercase tracking-wider hover:bg-white/10 hover:border-white/40 transition-all duration-300">Secondary</button>
                                                        <button class="px-8 py-4 text-white font-display text-sm uppercase tracking-wider hover:text-neutral-400 transition-all duration-300">Text Link</button>
                                                    </div>
                                                    
                                                    <div class="h-px bg-gradient-to-r from-transparent via-white/20 to-transparent"></div>
                                                    
                                                    <div class="grid grid-cols-2 gap-4">
                                                        <div class="border border-white/10 p-4 hover:border-white/30 hover:bg-white/5 transition-all duration-300 cursor-pointer group">
                                                            <div class="flex items-center gap-3">
                                                                <div class="w-10 h-10 bg-white/10 group-hover:bg-white/20 rounded-full flex items-center justify-center transition-all duration-300">
                                                                    <i data-lucide="check" class="w-5 h-5"></i>
                                                                </div>
                                                                <div>
                                                                    <div class="font-display text-sm">Feature Card</div>
                                                                    <div class="font-mono text-xs text-neutral-600">Interactive</div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="border border-white/10 p-4 hover:border-white/30 hover:bg-white/5 transition-all duration-300 cursor-pointer group">
                                                            <div class="flex items-center gap-3">
                                                                <div class="w-10 h-10 bg-white/10 group-hover:bg-white/20 rounded-full flex items-center justify-center transition-all duration-300">
                                                                    <i data-lucide="star" class="w-5 h-5"></i>
                                                                </div>
                                                                <div>
                                                                    <div class="font-display text-sm">Highlight Card</div>
                                                                    <div class="font-mono text-xs text-neutral-600">Hover Effect</div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Typography Mode -->
                                    <div id="design-typography" class="design-content hidden">
                                        <div class="space-y-16">
                                            <!-- Type Scale Demonstration -->
                                            <div class="border border-white/10 overflow-hidden shadow-2xl shadow-black/50 opacity-0 design-element" style="animation: fadeInDesign 0.8s ease-out 0.2s forwards;">
                                                <div class="bg-[#0A0A0A] border-b border-white/5 px-4 py-3">
                                                    <div class="font-mono text-xs text-neutral-600 uppercase tracking-widest">Type Hierarchy</div>
                                                </div>
                                                <div class="bg-[#030303] p-12 space-y-8">
                                                    <div class="group cursor-pointer">
                                                        <div class="font-display text-7xl font-bold tracking-tight text-white mb-2 group-hover:text-neutral-300 transition-colors duration-500">Display XL</div>
                                                        <div class="font-mono text-xs text-neutral-600">96px / -0.02em / Space Grotesk Bold</div>
                                                    </div>
                                                    <div class="h-px bg-gradient-to-r from-white/0 via-white/20 to-white/0"></div>
                                                    <div class="group cursor-pointer">
                                                        <div class="font-display text-5xl font-medium tracking-tight text-white mb-2 group-hover:text-neutral-300 transition-colors duration-500">Heading 1</div>
                                                        <div class="font-mono text-xs text-neutral-600">48px / -0.01em / Space Grotesk Medium</div>
                                                    </div>
                                                    <div class="h-px bg-gradient-to-r from-white/0 via-white/10 to-white/0"></div>
                                                    <div class="group cursor-pointer">
                                                        <div class="font-display text-3xl font-medium text-white mb-2 group-hover:text-neutral-300 transition-colors duration-500">Heading 2</div>
                                                        <div class="font-mono text-xs text-neutral-600">32px / -0.01em / Space Grotesk Medium</div>
                                                    </div>
                                                    <div class="h-px bg-gradient-to-r from-white/0 via-white/10 to-white/0"></div>
                                                    <div class="group cursor-pointer">
                                                        <div class="font-sans text-xl text-neutral-300 leading-relaxed mb-2 group-hover:text-white transition-colors duration-500">Body Large — Perfect for introductory paragraphs and lead text that needs emphasis while maintaining excellent readability.</div>
                                                        <div class="font-mono text-xs text-neutral-600">20px / 1.7 / Inter Regular</div>
                                                    </div>
                                                    <div class="group cursor-pointer">
                                                        <div class="font-sans text-base text-neutral-400 leading-relaxed mb-2 group-hover:text-neutral-300 transition-colors duration-500">Body Regular — The workhorse of your content. Optimized for long-form reading with comfortable spacing and rhythm that keeps readers engaged through extended passages.</div>
                                                        <div class="font-mono text-xs text-neutral-600">16px / 1.75 / Inter Regular</div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Font Pairing & Color Palette -->
                                            <div class="grid grid-cols-2 gap-6">
                                                <div class="border border-white/10 p-8 opacity-0 design-element" style="animation: fadeInDesign 0.8s ease-out 0.4s forwards;">
                                                    <div class="font-mono text-xs text-neutral-600 mb-6 uppercase tracking-widest">Font Pairing</div>
                                                    <div class="space-y-6">
                                                        <div class="text-center p-6 border border-white/5 bg-white/5 hover:border-white/30 hover:bg-white/10 transition-all duration-500 group cursor-pointer">
                                                            <div class="font-display text-5xl mb-3 group-hover:scale-110 transition-transform duration-500 group-hover:text-neutral-200">Aa</div>
                                                            <div class="text-sm text-white mb-1">Space Grotesk</div>
                                                            <div class="font-mono text-[10px] text-neutral-600">Display & Headlines</div>
                                                        </div>
                                                        <div class="text-center p-6 border border-white/5 bg-white/5 hover:border-white/30 hover:bg-white/10 transition-all duration-500 group cursor-pointer">
                                                            <div class="font-sans text-5xl mb-3 group-hover:scale-110 transition-transform duration-500 group-hover:text-neutral-200">Aa</div>
                                                            <div class="text-sm text-white mb-1">Inter</div>
                                                            <div class="font-mono text-[10px] text-neutral-600">Body & Interface</div>
                                                        </div>
                                                        <div class="text-center p-6 border border-white/5 bg-white/5 hover:border-white/30 hover:bg-white/10 transition-all duration-500 group cursor-pointer">
                                                            <div class="font-mono text-5xl mb-3 group-hover:scale-110 transition-transform duration-500 group-hover:text-neutral-200">Aa</div>
                                                            <div class="text-sm text-white mb-1">Monospace</div>
                                                            <div class="font-mono text-[10px] text-neutral-600">Code & Data</div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="border border-white/10 p-8 opacity-0 design-element" style="animation: fadeInDesign 0.8s ease-out 0.6s forwards;">
                                                    <div class="font-mono text-xs text-neutral-600 mb-6 uppercase tracking-widest">Color Palette</div>
                                                    <div class="space-y-3">
                                                        <div class="flex items-center gap-4 group cursor-pointer">
                                                            <div class="w-16 h-16 bg-[#030303] border-2 border-white/20 rounded-lg group-hover:scale-110 group-hover:shadow-lg transition-all duration-300"></div>
                                                            <div>
                                                                <div class="font-mono text-xs text-white">#030303</div>
                                                                <div class="font-mono text-[10px] text-neutral-600">Background</div>
                                                            </div>
                                                        </div>
                                                        <div class="flex items-center gap-4 group cursor-pointer">
                                                            <div class="w-16 h-16 bg-white border-2 border-white/20 rounded-lg group-hover:scale-110 group-hover:shadow-lg group-hover:shadow-white/30 transition-all duration-300"></div>
                                                            <div>
                                                                <div class="font-mono text-xs text-white">#FFFFFF</div>
                                                                <div class="font-mono text-[10px] text-neutral-600">Primary Text</div>
                                                            </div>
                                                        </div>
                                                        <div class="flex items-center gap-4 group cursor-pointer">
                                                            <div class="w-16 h-16 bg-white border-2 border-white/20 rounded-lg group-hover:scale-110 group-hover:shadow-lg group-hover:shadow-white/50 transition-all duration-300"></div>
                                                            <div>
                                                                <div class="font-mono text-xs text-white">#10B981</div>
                                                                <div class="font-mono text-[10px] text-neutral-600">Accent</div>
                                                            </div>
                                                        </div>
                                                        <div class="flex items-center gap-4 group cursor-pointer">
                                                            <div class="w-16 h-16 bg-neutral-500 border-2 border-white/20 rounded-lg group-hover:scale-110 group-hover:shadow-lg transition-all duration-300"></div>
                                                            <div>
                                                                <div class="font-mono text-xs text-white">#737373</div>
                                                                <div class="font-mono text-[10px] text-neutral-600">Secondary</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Live Text Example -->
                                            <div class="border border-white/10 p-12 bg-gradient-to-br from-white/5 to-transparent opacity-0 design-element" style="animation: fadeInDesign 0.8s ease-out 0.8s forwards;">
                                                <div class="max-w-3xl">
                                                    <div class="font-display text-4xl font-medium text-white mb-6 leading-tight">Typography creates hierarchy, guides attention, and establishes visual rhythm.</div>
                                                    <div class="font-sans text-lg text-neutral-400 leading-relaxed space-y-4">
                                                        <p>Every typeface choice communicates personality. Space Grotesk brings geometric precision and modern confidence to headlines, while Inter ensures clarity and warmth in body text.</p>
                                                        <p>The result is a harmonious system that scales beautifully across devices and maintains readability at every breakpoint.</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Motion Mode -->
                                    <div id="design-motion" class="design-content hidden">
                                        <div class="space-y-16">
                                            <!-- Easing Functions -->
                                            <div class="border border-white/10 overflow-hidden shadow-2xl shadow-black/50 opacity-0 design-element" style="animation: fadeInDesign 0.8s ease-out 0.2s forwards;">
                                                <div class="bg-[#0A0A0A] border-b border-white/5 px-4 py-3 flex items-center justify-between">
                                                    <div class="font-mono text-xs text-neutral-600 uppercase tracking-widest">Easing Curves</div>
                                                    <button onclick="triggerMotionDemo()" class="px-3 py-1.5 border border-white/20 hover:bg-white/10 transition-all duration-300 font-mono text-xs uppercase tracking-wider flex items-center gap-2 group">
                                                        <i data-lucide="play" class="w-3 h-3 group-hover:scale-125 transition-transform"></i>
                                                        <span>Replay All</span>
                                                    </button>
                                                </div>
                                                <div class="bg-[#030303] p-8 space-y-6">
                                                    <div class="border border-white/10 p-6 hover:border-white/30 bg-white/5 hover:bg-white/10 transition-all duration-500 group cursor-pointer" onclick="triggerMotionDemo()">
                                                        <div class="flex justify-between items-center mb-4">
                                                            <div class="font-mono text-sm text-white">ease-out</div>
                                                            <div class="font-mono text-xs text-neutral-600">cubic-bezier(0, 0, 0.2, 1)</div>
                                                        </div>
                                                        <div class="relative h-14 bg-white/5 overflow-hidden rounded-lg border border-white/10">
                                                            <div class="absolute left-0 top-0 bottom-0 w-14 bg-gradient-to-r from-white to-neutral-400 motion-demo-ease-out shadow-lg shadow-white/50 rounded-lg flex items-center justify-center">
                                                                <div class="w-2 h-2 bg-white rounded-full"></div>
                                                            </div>
                                                        </div>
                                                        <div class="mt-3 text-xs text-neutral-500">Quick start, smooth finish — Perfect for exits and reveals</div>
                                                    </div>

                                                    <div class="border border-white/10 p-6 hover:border-white/30 bg-white/5 hover:bg-white/10 transition-all duration-500 group cursor-pointer" onclick="triggerMotionDemo()">
                                                        <div class="flex justify-between items-center mb-4">
                                                            <div class="font-mono text-sm text-white">spring</div>
                                                            <div class="font-mono text-xs text-neutral-600">cubic-bezier(0.16, 1, 0.3, 1)</div>
                                                        </div>
                                                        <div class="relative h-14 bg-white/5 overflow-hidden rounded-lg border border-white/10">
                                                            <div class="absolute left-0 top-0 bottom-0 w-14 bg-gradient-to-r from-neutral-300 to-neutral-500 motion-demo-spring shadow-lg shadow-white/50 rounded-lg flex items-center justify-center">
                                                                <div class="w-2 h-2 bg-white rounded-full"></div>
                                                            </div>
                                                        </div>
                                                        <div class="mt-3 text-xs text-neutral-500">Elastic energy — Adds personality to interactions</div>
                                                    </div>

                                                    <div class="border border-white/10 p-6 hover:border-white/30 bg-white/5 hover:bg-white/10 transition-all duration-500 group cursor-pointer" onclick="triggerMotionDemo()">
                                                        <div class="flex justify-between items-center mb-4">
                                                            <div class="font-mono text-sm text-white">ease-in-out</div>
                                                            <div class="font-mono text-xs text-neutral-600">cubic-bezier(0.4, 0, 0.2, 1)</div>
                                                        </div>
                                                        <div class="relative h-14 bg-white/5 overflow-hidden rounded-lg border border-white/10">
                                                            <div class="absolute left-0 top-0 bottom-0 w-14 bg-gradient-to-r from-neutral-400 to-neutral-600 motion-demo-ease-in-out shadow-lg shadow-white/50 rounded-lg flex items-center justify-center">
                                                                <div class="w-2 h-2 bg-white rounded-full"></div>
                                                            </div>
                                                        </div>
                                                        <div class="mt-3 text-xs text-neutral-500">Balanced motion — Smooth transitions between states</div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Duration Scale -->
                                            <div class="border border-white/10 p-8 opacity-0 design-element" style="animation: fadeInDesign 0.8s ease-out 0.4s forwards;">
                                                <div class="font-mono text-xs text-neutral-600 mb-6 uppercase tracking-widest">Duration Scale</div>
                                                <div class="grid grid-cols-4 gap-4">
                                                    <div class="text-center p-6 border border-white/5 bg-white/5 hover:border-white/20 hover:bg-white/10 transition-all duration-150 group cursor-pointer">
                                                        <div class="font-display text-3xl text-white mb-2 group-hover:scale-110 transition-transform duration-150">150ms</div>
                                                        <div class="font-mono text-[10px] text-neutral-600 uppercase">Instant</div>
                                                        <div class="mt-3 h-1 bg-white/10 rounded-full overflow-hidden">
                                                            <div class="h-full bg-white w-1/4"></div>
                                                        </div>
                                                    </div>
                                                    <div class="text-center p-6 border border-white/5 bg-white/10 hover:border-white/30 hover:bg-white/15 transition-all duration-300 group cursor-pointer">
                                                        <div class="font-display text-3xl text-white mb-2 group-hover:scale-110 transition-transform duration-300">300ms</div>
                                                        <div class="font-mono text-[10px] text-neutral-400 uppercase">Base</div>
                                                        <div class="mt-3 h-1 bg-white/10 rounded-full overflow-hidden">
                                                            <div class="h-full bg-white w-1/2"></div>
                                                        </div>
                                                    </div>
                                                    <div class="text-center p-6 border border-white/5 bg-white/5 hover:border-white/20 hover:bg-white/10 transition-all duration-500 group cursor-pointer">
                                                        <div class="font-display text-3xl text-white mb-2 group-hover:scale-110 transition-transform duration-500">500ms</div>
                                                        <div class="font-mono text-[10px] text-neutral-600 uppercase">Smooth</div>
                                                        <div class="mt-3 h-1 bg-white/10 rounded-full overflow-hidden">
                                                            <div class="h-full bg-white w-3/4"></div>
                                                        </div>
                                                    </div>
                                                    <div class="text-center p-6 border border-white/5 bg-white/5 hover:border-white/20 hover:bg-white/10 transition-all duration-700 group cursor-pointer">
                                                        <div class="font-display text-3xl text-white mb-2 group-hover:scale-110 transition-transform duration-700">700ms</div>
                                                        <div class="font-mono text-[10px] text-neutral-600 uppercase">Cinematic</div>
                                                        <div class="mt-3 h-1 bg-white/10 rounded-full overflow-hidden">
                                                            <div class="h-full bg-white w-full"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Interactive Example -->
                                            <div class="border border-white/10 p-12 bg-gradient-to-br from-white/5 to-transparent opacity-0 design-element" style="animation: fadeInDesign 0.8s ease-out 0.6s forwards;">
                                                <div class="font-mono text-xs text-neutral-600 mb-8 uppercase tracking-widest">Interactive Example</div>
                                                <div class="grid grid-cols-3 gap-6">
                                                    <div class="aspect-square border-2 border-white/30 bg-white/5 rounded-2xl hover:border-white hover:bg-white/20 hover:scale-110 hover:rotate-3 transition-all duration-500 cursor-pointer flex items-center justify-center group">
                                                        <div class="text-center">
                                                            <div class="w-16 h-16 bg-white/30 rounded-full mx-auto mb-3 group-hover:bg-white/60 transition-all duration-500"></div>
                                                            <div class="font-mono text-xs text-white">Hover me</div>
                                                        </div>
                                                    </div>
                                                    <div class="aspect-square border-2 border-white/30 bg-white/5 rounded-2xl hover:border-white hover:bg-white/20 hover:scale-110 hover:-rotate-3 transition-all duration-500 cursor-pointer flex items-center justify-center group">
                                                        <div class="text-center">
                                                            <div class="w-16 h-16 bg-white/30 rounded-full mx-auto mb-3 group-hover:bg-white/60 transition-all duration-500"></div>
                                                            <div class="font-mono text-xs text-white">And me</div>
                                                        </div>
                                                    </div>
                                                    <div class="aspect-square border-2 border-white/30 bg-white/5 rounded-2xl hover:border-white hover:bg-white/20 hover:scale-110 hover:rotate-6 transition-all duration-500 cursor-pointer flex items-center justify-center group">
                                                        <div class="text-center">
                                                            <div class="w-16 h-16 bg-white/30 rounded-full mx-auto mb-3 group-hover:bg-white/60 transition-all duration-500"></div>
                                                            <div class="font-mono text-xs text-white">Try me</div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="mt-8 text-center">
                                                    <div class="font-sans text-sm text-neutral-500">Motion breathes life into interfaces — Use it purposefully to guide, delight, and inform.</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <!-- Right: Build Metrics & Deliverables (2/5) -->
                            <div class="lg:col-span-2 modal-stagger" style="transition-delay: 0.15s">
                                
                                <div class="sticky top-8 space-y-16">
                                    <!-- Build Metrics -->
                                    <div class="space-y-10">
                                        <div class="pb-6 border-b border-white/10">
                                            <h2 class="font-display text-3xl font-medium tracking-tight mb-3">Build Metrics</h2>
                                            <p class="font-mono text-xs text-neutral-600 uppercase tracking-[0.3em]">Performance Target</p>
                                        </div>

                                        <div class="space-y-12" id="build-metrics-container">
                                            <div class="border-l-2 border-white/20 pl-8 opacity-0 transition-all duration-1000" id="build-metric-1">
                                                <div class="text-xs text-neutral-600 mb-5 uppercase tracking-[0.4em] font-mono">Lines of Code</div>
                                                <div class="text-6xl font-display font-medium text-white mb-8 tracking-tight">
                                                    <span id="build-1-value">0</span>
                                                </div>
                                                <div class="h-0.5 bg-white/5 w-full relative overflow-hidden rounded-full">
                                                    <div class="absolute inset-y-0 left-0 bg-gradient-to-r from-white to-neutral-400 rounded-full" style="width: 0%; transition: width 2000ms cubic-bezier(0.4, 0, 0.2, 1);" id="build-1-bar"></div>
                                                </div>
                                                <div class="text-xs text-neutral-600 mt-5 font-sans">Clean, maintainable code</div>
                                            </div>

                                            <div class="border-l-2 border-white/20 pl-8 opacity-0 transition-all duration-1000" id="build-metric-2">
                                                <div class="text-xs text-neutral-600 mb-5 uppercase tracking-[0.4em] font-mono">Components</div>
                                                <div class="text-6xl font-display font-medium text-white mb-8 tracking-tight">
                                                    <span id="build-2-value">0</span>
                                                </div>
                                                <div class="h-0.5 bg-white/5 w-full relative overflow-hidden rounded-full">
                                                    <div class="absolute inset-y-0 left-0 bg-gradient-to-r from-white to-neutral-400 rounded-full" style="width: 0%; transition: width 2000ms cubic-bezier(0.4, 0, 0.2, 1);" id="build-2-bar"></div>
                                                </div>
                                                <div class="text-xs text-neutral-600 mt-5 font-sans">Reusable system</div>
                                            </div>

                                            <div class="border-l-2 border-white/20 pl-8 opacity-0 transition-all duration-1000" id="build-metric-3">
                                                <div class="text-xs text-neutral-600 mb-5 uppercase tracking-[0.4em] font-mono">Build Time</div>
                                                <div class="text-6xl font-display font-medium text-white mb-8 tracking-tight">
                                                    <span id="build-3-value">0.0</span><span class="text-neutral-700 text-4xl">s</span>
                                                </div>
                                                <div class="h-0.5 bg-white/5 w-full relative overflow-hidden rounded-full">
                                                    <div class="absolute inset-y-0 left-0 bg-gradient-to-r from-white to-neutral-400 rounded-full" style="width: 0%; transition: width 2000ms cubic-bezier(0.4, 0, 0.2, 1);" id="build-3-bar"></div>
                                                </div>
                                                <div class="text-xs text-neutral-600 mt-5 font-sans">Lightning fast builds</div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Deliverables -->
                                    <div class="border border-white/10 p-8">
                                        <div class="font-mono text-xs text-neutral-600 mb-6 uppercase tracking-widest">Deliverables</div>
                                        <div class="space-y-4">
                                            <div class="flex items-center gap-3 text-sm text-neutral-400">
                                                <div class="w-1.5 h-1.5 bg-white rounded-full"></div>
                                                <span>Figma Design Files</span>
                                            </div>
                                            <div class="flex items-center gap-3 text-sm text-neutral-400">
                                                <div class="w-1.5 h-1.5 bg-white rounded-full"></div>
                                                <span>Production Code</span>
                                            </div>
                                            <div class="flex items-center gap-3 text-sm text-neutral-400">
                                                <div class="w-1.5 h-1.5 bg-white rounded-full"></div>
                                                <span>Design System</span>
                                            </div>
                                            <div class="flex items-center gap-3 text-sm text-neutral-400">
                                                <div class="w-1.5 h-1.5 bg-white rounded-full"></div>
                                                <span>Performance Optimization</span>
                                            </div>
                                            <div class="flex items-center gap-3 text-sm text-neutral-400">
                                                <div class="w-1.5 h-1.5 bg-white rounded-full"></div>
                                                <span>SEO & Accessibility</span>
                                            </div>
                                            <div class="flex items-center gap-3 text-sm text-neutral-400">
                                                <div class="w-1.5 h-1.5 bg-white rounded-full"></div>
                                                <span>Documentation</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>

                        <!-- Process Overview -->
                        <div class="modal-stagger border-t border-white/5 pt-40 mb-40" style="transition-delay: 0.2s">
                            <div class="max-w-6xl">
                                <div class="mb-24">
                                    <div class="font-mono text-xs uppercase tracking-[0.5em] text-neutral-600 mb-10">Process</div>
                                    <h2 class="font-display text-6xl md:text-7xl font-medium mb-8 tracking-tight leading-[0.95]">
                                        How We Build Together
                                    </h2>
                                </div>

                                <div class="grid grid-cols-1 md:grid-cols-4 gap-16">
                                    <div class="group">
                                        <div class="text-8xl font-display font-medium text-white/5 mb-8 group-hover:text-white/10 transition-colors duration-700">01</div>
                                        <h3 class="font-display text-2xl mb-6 leading-tight">Discovery &<br/>Strategy</h3>
                                        <p class="font-sans text-neutral-500 leading-[1.9] text-sm">
                                            Deep dive into your brand, audience, and goals. Competitive analysis and user research to inform design decisions.
                                        </p>
                                    </div>

                                    <div class="group">
                                        <div class="text-8xl font-display font-medium text-white/5 mb-8 group-hover:text-white/10 transition-colors duration-700">02</div>
                                        <h3 class="font-display text-2xl mb-6 leading-tight">Design &<br/>Prototype</h3>
                                        <p class="font-sans text-neutral-500 leading-[1.9] text-sm">
                                            High-fidelity designs in Figma with interactive prototypes. Design system creation for consistency and scalability.
                                        </p>
                                    </div>

                                    <div class="group">
                                        <div class="text-8xl font-display font-medium text-white/5 mb-8 group-hover:text-white/10 transition-colors duration-700">03</div>
                                        <h3 class="font-display text-2xl mb-6 leading-tight">Development &<br/>Testing</h3>
                                        <p class="font-sans text-neutral-500 leading-[1.9] text-sm">
                                            Production-grade code with performance optimization. Cross-browser testing and accessibility compliance.
                                        </p>
                                    </div>

                                    <div class="group">
                                        <div class="text-8xl font-display font-medium text-white/5 mb-8 group-hover:text-white/10 transition-colors duration-700">04</div>
                                        <h3 class="font-display text-2xl mb-6 leading-tight">Launch &<br/>Support</h3>
                                        <p class="font-sans text-neutral-500 leading-[1.9] text-sm">
                                            Deployment with monitoring setup. Post-launch support and iterative improvements based on real data.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Contact Form -->
                        <div class="modal-stagger border-t border-white/5 pt-40" style="transition-delay: 0.25s">
                            <div class="max-w-3xl mx-auto">
                                <div class="mb-16 text-center">
                                    <div class="font-mono text-xs uppercase tracking-[0.5em] text-neutral-600 mb-6">Let's Build</div>
                                    <h2 class="font-display text-5xl font-medium mb-6 tracking-tight">Start Your Project</h2>
                                    <p class="font-sans text-lg text-neutral-400 leading-relaxed">
                                        ${data.description}
                                    </p>
                                </div>

                                <form action="https://formspree.io/f/${data.formspreeId}" method="POST" class="space-y-8">
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                        <div>
                                            <input type="text" name="name" required 
                                                class="w-full bg-transparent border-b border-white/20 pb-4 text-white font-sans text-base placeholder:text-neutral-600 focus:border-white focus:outline-none transition-colors duration-300" 
                                                placeholder="Your Name *">
                                        </div>
                                        <div>
                                            <input type="email" name="email" required 
                                                class="w-full bg-transparent border-b border-white/20 pb-4 text-white font-sans text-base placeholder:text-neutral-600 focus:border-white focus:outline-none transition-colors duration-300" 
                                                placeholder="Email Address *">
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <input type="text" name="company" 
                                            class="w-full bg-transparent border-b border-white/20 pb-4 text-white font-sans text-base placeholder:text-neutral-600 focus:border-white focus:outline-none transition-colors duration-300" 
                                            placeholder="Company / Brand">
                                    </div>

                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                        <div>
                                            <select name="budget" 
                                                class="w-full bg-transparent border-b border-white/20 pb-4 text-white font-sans text-base focus:border-white focus:outline-none transition-colors duration-300 appearance-none cursor-pointer">
                                                <option value="" class="bg-[#030303]">Project Budget</option>
                                                <option value="<5k" class="bg-[#030303]">$5,000 - $15,000</option>
                                                <option value="15k-30k" class="bg-[#030303]">$15,000 - $30,000</option>
                                                <option value="30k-50k" class="bg-[#030303]">$30,000 - $50,000</option>
                                                <option value="50k+" class="bg-[#030303]">$50,000+</option>
                                                <option value="retainer" class="bg-[#030303]">Monthly Retainer</option>
                                            </select>
                                        </div>
                                        <div>
                                            <select name="timeline" 
                                                class="w-full bg-transparent border-b border-white/20 pb-4 text-white font-sans text-base focus:border-white focus:outline-none transition-colors duration-300 appearance-none cursor-pointer">
                                                <option value="" class="bg-[#030303]">Timeline</option>
                                                <option value="urgent" class="bg-[#030303]">ASAP (< 2 weeks)</option>
                                                <option value="1month" class="bg-[#030303]">Within 1 month</option>
                                                <option value="2-3months" class="bg-[#030303]">2-3 months</option>
                                                <option value="flexible" class="bg-[#030303]">Flexible</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div>
                                        <textarea name="message" required rows="4" 
                                            class="w-full bg-transparent border-b border-white/20 pb-4 text-white font-sans text-base placeholder:text-neutral-600 focus:border-white focus:outline-none transition-colors duration-300 resize-none" 
                                            placeholder="Tell me about your vision, target audience, key features, and any design references you love... *"></textarea>
                                    </div>

                                    <div class="pt-8">
                                        <button type="submit" 
                                            class="w-full bg-white text-black font-display text-base font-medium py-5 px-8 hover:bg-neutral-200 hover:shadow-2xl hover:shadow-white/20 transition-all duration-500 uppercase tracking-[0.2em]">
                                            Submit Project Inquiry
                                        </button>
                                        <div class="flex items-center justify-center gap-8 mt-8 text-xs text-neutral-600 font-mono">
                                            <div class="flex items-center gap-2">
                                                <i data-lucide="shield-check" class="w-3 h-3"></i>
                                                <span>Confidential</span>
                                            </div>
                                            <div class="flex items-center gap-2">
                                                <i data-lucide="clock" class="w-3 h-3"></i>
                                                <span>24-48hr Response</span>
                                            </div>
                                            <div class="flex items-center gap-2">
                                                <i data-lucide="check-circle" class="w-3 h-3"></i>
                                                <span>No Obligation</span>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                `;

                // Start design system animation
                setTimeout(() => {
                    initDesignSystem();
                }, 500);
            }

            modal.classList.add('active');
            document.body.classList.add('modal-open');
            lockBodyScroll();
            lucide.createIcons();
        }

        // Fluid Live Analysis Animation System
        function initLiveAnalysis() {
            // Start timer immediately
            startAnalysisTimer();
            
            // Sequence 1: Title typing (0-2s)
            setTimeout(() => {
                const titleEl = document.getElementById('main-title');
                const subtitleEl = document.getElementById('subtitle-text');
                if (titleEl) {
                    setTimeout(() => {
                        titleEl.classList.add('complete');
                        if (subtitleEl) {
                            subtitleEl.style.opacity = '1';
                        }
                    }, 2000);
                }
            }, 100);
            
            // Sequence 2: Populate spreadsheet (at 1s, visible during typing)
            setTimeout(() => {
                populateIncomeStatement();
            }, 1000);
            
            // Sequence 3: Fade in metrics sidebar (at 2.5s, after title completes)
            setTimeout(() => {
                const metric1 = document.getElementById('metric-1');
                const metric2 = document.getElementById('metric-2');
                const metric3 = document.getElementById('metric-3');
                
                if (metric1) metric1.style.opacity = '1';
                setTimeout(() => { if (metric2) metric2.style.opacity = '1'; }, 400);
                setTimeout(() => { if (metric3) metric3.style.opacity = '1'; }, 800);
            }, 2500);
            
            // Sequence 4: Animate metric values (at 3s)
            setTimeout(() => {
                animateLiveMetrics('income');
            }, 3000);
            
            // Sequence 5: Start cell scanning (at 4s, after metrics start animating)
            setTimeout(() => {
                startCellScanning();
            }, 4000);
        }

        // Store timer interval globally to clear on modal close
        let analysisTimerInterval = null;
        
        function startAnalysisTimer() {
            const timerEl = document.getElementById('analysis-timer');
            if (!timerEl) return;
            
            // Clear existing timer if any
            if (analysisTimerInterval) {
                clearInterval(analysisTimerInterval);
            }
            
            let seconds = 0;
            analysisTimerInterval = setInterval(() => {
                seconds++;
                const mins = Math.floor(seconds / 60);
                const secs = seconds % 60;
                timerEl.textContent = `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            }, 1000);
        }

        function populateIncomeStatement() {
            const container = document.getElementById('income-statement');
            if (!container) return;
            
            // Header row (always visible)
            const headerRow = `
                <div class="grid grid-cols-12 gap-px bg-[#030303] border-b border-white/20 sticky top-0 z-10">
                    <div class="col-span-1 p-3 text-neutral-600 text-center text-xs font-mono">#</div>
                    <div class="col-span-7 p-3 text-neutral-400 text-xs font-mono uppercase tracking-wider">Line Item</div>
                    <div class="col-span-2 p-3 text-neutral-400 text-xs font-mono uppercase tracking-wider text-right">FY 2024</div>
                    <div class="col-span-2 p-3 text-neutral-400 text-xs font-mono uppercase tracking-wider text-right">% Rev</div>
                </div>
            `;
            
            // Data rows for landscaping company
            const dataRows = [
                { num: '01', label: 'Total Revenue', value: '$169,000', pct: '100.0%', bold: true, cell: 1, sublevel: false },
                { num: '02', label: 'Direct Labor & Materials', value: '($64,200)', pct: '38.0%', bold: false, cell: 2, sublevel: true },
                { num: '03', label: 'Gross Profit', value: '$104,800', pct: '62.0%', bold: true, cell: 3, sublevel: false, border: true },
                { num: '04', label: 'Sales & Marketing', value: '($16,900)', pct: '10.0%', bold: false, cell: 4, sublevel: true },
                { num: '05', label: 'Equipment & Fleet', value: '($13,500)', pct: '8.0%', bold: false, cell: 5, sublevel: true },
                { num: '06', label: 'General & Administrative', value: '($10,100)', pct: '6.0%', bold: false, cell: 6, sublevel: true },
                { num: '07', label: 'EBITDA', value: '$64,300', pct: '38.0%', bold: true, cell: 7, sublevel: false, border: true },
                { num: '08', label: 'Depreciation & Amortization', value: '($7,600)', pct: '4.5%', bold: false, cell: 8, sublevel: true },
                { num: '09', label: 'Operating Income', value: '$56,700', pct: '33.5%', bold: true, cell: 9, sublevel: false, border: true },
                { num: '10', label: 'Interest Income', value: '$500', pct: '0.3%', bold: false, cell: 10, sublevel: true },
                { num: '11', label: 'Interest Expense', value: '($3,400)', pct: '2.0%', bold: false, cell: 11, sublevel: true },
                { num: '12', label: 'Pre-Tax Income', value: '$53,800', pct: '31.8%', bold: true, cell: 12, sublevel: false, border: true },
                { num: '13', label: 'Income Tax (21%)', value: '($11,300)', pct: '6.7%', bold: false, cell: 13, sublevel: true },
                { num: '14', label: 'Net Income', value: '$42,500', pct: '25.1%', bold: true, cell: 14, sublevel: false, border: true, final: true }
            ];
            
            container.innerHTML = headerRow;
            
            // Animate rows appearing one by one
            dataRows.forEach((row, index) => {
                setTimeout(() => {
                    const rowBg = row.border ? 'bg-white/10 hover:bg-white/15' : 'bg-white/5 hover:bg-white/10';
                    const borderClass = row.border ? 'border-t border-white/20' : '';
                    const finalBorder = row.final ? 'border-t-2 border-white/40' : '';
                    const textColor = row.bold ? 'text-white' : 'text-neutral-400';
                    const labelWeight = row.bold ? 'font-bold' : '';
                    const valueWeight = row.bold ? 'font-bold' : '';
                    const numWeight = row.bold ? 'font-bold' : '';
                    const padding = row.final ? 'p-4' : 'p-3';
                    const fontSize = row.final ? 'text-base' : 'text-sm';
                    const indent = row.sublevel ? 'pl-6' : '';
                    
                    const rowHTML = `
                        <div class="grid grid-cols-12 gap-px ${rowBg} transition-all duration-500 ${borderClass} ${finalBorder} opacity-0 translate-y-2" data-cell="${row.cell}" style="animation: fadeInRow 0.5s ease-out ${index * 0.05}s forwards;">
                            <div class="col-span-1 ${padding} text-neutral-700 text-center text-xs font-mono ${numWeight}">${row.num}</div>
                            <div class="col-span-7 ${padding} ${textColor} ${fontSize} ${labelWeight} ${indent}">${row.label}</div>
                            <div class="col-span-2 ${padding} ${textColor} ${fontSize} ${valueWeight} text-right font-mono">${row.value}</div>
                            <div class="col-span-2 ${padding} ${row.bold ? 'text-white' : 'text-neutral-600'} ${fontSize} text-right font-mono">${row.pct}</div>
                        </div>
                    `;
                    
                    container.insertAdjacentHTML('beforeend', rowHTML);
                }, index * 60);
            });
        }

        function populateBalanceSheet() {
            const container = document.getElementById('balance-statement');
            if (!container) return;
            
            const headerRow = `
                <div class="grid grid-cols-12 gap-px bg-[#030303] border-b border-white/20 sticky top-0 z-10">
                    <div class="col-span-1 p-3 text-neutral-600 text-center text-xs font-mono">#</div>
                    <div class="col-span-7 p-3 text-neutral-400 text-xs font-mono uppercase tracking-wider">Account</div>
                    <div class="col-span-2 p-3 text-neutral-400 text-xs font-mono uppercase tracking-wider text-right">Amount</div>
                    <div class="col-span-2 p-3 text-neutral-400 text-xs font-mono uppercase tracking-wider text-right">% Total</div>
                </div>
            `;
            
            const dataRows = [
                { num: '01', label: 'ASSETS', value: '', pct: '', bold: true, cell: 1, sublevel: false, header: true },
                { num: '02', label: 'Cash & Equivalents', value: '$37,000', pct: '23.7%', bold: false, cell: 2, sublevel: true },
                { num: '03', label: 'Accounts Receivable', value: '$19,000', pct: '12.2%', bold: false, cell: 3, sublevel: true },
                { num: '04', label: 'Inventory (Materials)', value: '$6,400', pct: '4.1%', bold: false, cell: 4, sublevel: true },
                { num: '05', label: 'Total Current Assets', value: '$62,400', pct: '40.0%', bold: true, cell: 5, sublevel: false, border: true },
                { num: '06', label: 'Equipment & Vehicles', value: '$116,000', pct: '74.4%', bold: false, cell: 6, sublevel: true },
                { num: '07', label: 'Accumulated Depreciation', value: '($38,400)', pct: '(24.6%)', bold: false, cell: 7, sublevel: true },
                { num: '08', label: 'Net PP&E', value: '$77,600', pct: '49.7%', bold: true, cell: 8, sublevel: false, border: true },
                { num: '09', label: 'Other Assets', value: '$16,000', pct: '10.3%', bold: false, cell: 9, sublevel: true },
                { num: '10', label: 'Total Assets', value: '$156,000', pct: '100.0%', bold: true, cell: 10, sublevel: false, border: true, final: true, equation: 'assets' },
                { num: '11', label: 'LIABILITIES & EQUITY', value: '', pct: '', bold: true, cell: 11, sublevel: false, header: true },
                { num: '12', label: 'Accounts Payable', value: '$8,400', pct: '5.4%', bold: false, cell: 12, sublevel: true },
                { num: '13', label: 'Accrued Expenses', value: '$5,600', pct: '3.6%', bold: false, cell: 13, sublevel: true },
                { num: '14', label: 'Current Portion of Debt', value: '$10,000', pct: '6.4%', bold: false, cell: 14, sublevel: true },
                { num: '15', label: 'Total Current Liabilities', value: '$24,000', pct: '15.4%', bold: true, cell: 15, sublevel: false, border: true },
                { num: '16', label: 'Long-Term Debt', value: '$46,000', pct: '29.5%', bold: false, cell: 16, sublevel: true },
                { num: '17', label: 'Total Liabilities', value: '$70,000', pct: '44.9%', bold: true, cell: 17, sublevel: false, border: true },
                { num: '18', label: 'Shareholder Equity', value: '$86,000', pct: '55.1%', bold: true, cell: 18, sublevel: false },
                { num: '19', label: 'Total Liabilities & Equity', value: '$156,000', pct: '100.0%', bold: true, cell: 19, sublevel: false, border: true, final: true, equation: 'liabilities_equity' }
            ];
            
            container.innerHTML = headerRow;
            
            dataRows.forEach((row, index) => {
                setTimeout(() => {
                    const rowBg = row.border ? 'bg-white/10 hover:bg-white/15' : row.header ? 'bg-white/5' : 'bg-white/5 hover:bg-white/10';
                    const borderClass = row.border ? 'border-t border-white/20' : '';
                    const finalBorder = row.final ? 'border-t-2 border-white/40' : '';
                    const textColor = row.bold || row.header ? 'text-white' : 'text-neutral-400';
                    const labelWeight = row.bold || row.header ? 'font-bold' : '';
                    const valueWeight = row.bold ? 'font-bold' : '';
                    const numWeight = row.bold || row.header ? 'font-bold' : '';
                    const padding = row.final ? 'p-4' : 'p-3';
                    const fontSize = row.final || row.header ? 'text-base' : 'text-sm';
                    const indent = row.sublevel ? 'pl-6' : '';
                    
                    const rowHTML = `
                        <div class="grid grid-cols-12 gap-px ${rowBg} transition-all duration-500 ${borderClass} ${finalBorder} opacity-0 translate-y-2" data-cell="${row.cell}" style="animation: fadeInRow 0.5s ease-out ${index * 0.05}s forwards;">
                            <div class="col-span-1 ${padding} text-neutral-700 text-center text-xs font-mono ${numWeight}">${row.num}</div>
                            <div class="col-span-7 ${padding} ${textColor} ${fontSize} ${labelWeight} ${indent}">${row.label}</div>
                            <div class="col-span-2 ${padding} ${textColor} ${fontSize} ${valueWeight} text-right font-mono">${row.value}</div>
                            <div class="col-span-2 ${padding} ${row.bold ? 'text-white' : 'text-neutral-600'} ${fontSize} text-right font-mono">${row.pct}</div>
                        </div>
                    `;
                    
                    container.insertAdjacentHTML('beforeend', rowHTML);
                }, index * 60);
            });
        }

        function populateCashFlow() {
            const container = document.getElementById('cashflow-statement');
            if (!container) return;
            
            const headerRow = `
                <div class="grid grid-cols-12 gap-px bg-[#030303] border-b border-white/20 sticky top-0 z-10">
                    <div class="col-span-1 p-3 text-neutral-600 text-center text-xs font-mono">#</div>
                    <div class="col-span-7 p-3 text-neutral-400 text-xs font-mono uppercase tracking-wider">Cash Flow Activity</div>
                    <div class="col-span-2 p-3 text-neutral-400 text-xs font-mono uppercase tracking-wider text-right">FY 2024</div>
                    <div class="col-span-2 p-3 text-neutral-400 text-xs font-mono uppercase tracking-wider text-right">% Rev</div>
                </div>
            `;
            
            const dataRows = [
                { num: '01', label: 'OPERATING ACTIVITIES', value: '', pct: '', bold: true, cell: 1, sublevel: false, header: true },
                { num: '02', label: 'Net Income', value: '$42,500', pct: '25.1%', bold: false, cell: 2, sublevel: true },
                { num: '03', label: 'Depreciation & Amortization', value: '$7,600', pct: '4.5%', bold: false, cell: 3, sublevel: true },
                { num: '04', label: 'Changes in Working Capital', value: '($5,700)', pct: '(3.4%)', bold: false, cell: 4, sublevel: true },
                { num: '05', label: 'Net Cash from Operations', value: '$44,400', pct: '26.3%', bold: true, cell: 5, sublevel: false, border: true },
                { num: '06', label: 'INVESTING ACTIVITIES', value: '', pct: '', bold: true, cell: 6, sublevel: false, header: true },
                { num: '07', label: 'Equipment Purchases', value: '($18,400)', pct: '(10.9%)', bold: false, cell: 7, sublevel: true },
                { num: '08', label: 'Vehicle Acquisitions', value: '($7,600)', pct: '(4.5%)', bold: false, cell: 8, sublevel: true },
                { num: '09', label: 'Net Cash from Investing', value: '($26,000)', pct: '(15.4%)', bold: true, cell: 9, sublevel: false, border: true },
                { num: '10', label: 'FINANCING ACTIVITIES', value: '', pct: '', bold: true, cell: 10, sublevel: false, header: true },
                { num: '11', label: 'Debt Proceeds', value: '$10,000', pct: '5.9%', bold: false, cell: 11, sublevel: true },
                { num: '12', label: 'Debt Repayments', value: '($12,400)', pct: '(7.3%)', bold: false, cell: 12, sublevel: true },
                { num: '13', label: 'Owner Distributions', value: '($9,000)', pct: '(5.3%)', bold: false, cell: 13, sublevel: true },
                { num: '14', label: 'Net Cash from Financing', value: '($11,400)', pct: '(6.7%)', bold: true, cell: 14, sublevel: false, border: true },
                { num: '15', label: 'Net Change in Cash', value: '$7,000', pct: '4.1%', bold: true, cell: 15, sublevel: false, border: true, final: true }
            ];
            
            container.innerHTML = headerRow;
            
            dataRows.forEach((row, index) => {
                setTimeout(() => {
                    const rowBg = row.border ? 'bg-white/10 hover:bg-white/15' : row.header ? 'bg-white/5' : 'bg-white/5 hover:bg-white/10';
                    const borderClass = row.border ? 'border-t border-white/20' : '';
                    const finalBorder = row.final ? 'border-t-2 border-white/40' : '';
                    const textColor = row.bold || row.header ? 'text-white' : 'text-neutral-400';
                    const labelWeight = row.bold || row.header ? 'font-bold' : '';
                    const valueWeight = row.bold ? 'font-bold' : '';
                    const numWeight = row.bold || row.header ? 'font-bold' : '';
                    const padding = row.final ? 'p-4' : 'p-3';
                    const fontSize = row.final || row.header ? 'text-base' : 'text-sm';
                    const indent = row.sublevel ? 'pl-6' : '';
                    
                    const rowHTML = `
                        <div class="grid grid-cols-12 gap-px ${rowBg} transition-all duration-500 ${borderClass} ${finalBorder} opacity-0 translate-y-2" data-cell="${row.cell}" style="animation: fadeInRow 0.5s ease-out ${index * 0.05}s forwards;">
                            <div class="col-span-1 ${padding} text-neutral-700 text-center text-xs font-mono ${numWeight}">${row.num}</div>
                            <div class="col-span-7 ${padding} ${textColor} ${fontSize} ${labelWeight} ${indent}">${row.label}</div>
                            <div class="col-span-2 ${padding} ${textColor} ${fontSize} ${valueWeight} text-right font-mono">${row.value}</div>
                            <div class="col-span-2 ${padding} ${row.bold ? 'text-white' : 'text-neutral-600'} ${fontSize} text-right font-mono">${row.pct}</div>
                        </div>
                    `;
                    
                    container.insertAdjacentHTML('beforeend', rowHTML);
                }, index * 60);
            });
        }

        let currentStatementType = 'income';
        let isTransitioning = false;

        function switchStatement(type) {
            if (isTransitioning || type === currentStatementType) return;
            isTransitioning = true;
            
            // Update tabs immediately - clear all states first
            document.querySelectorAll('.statement-tab').forEach(tab => {
                tab.classList.remove('active', 'text-neutral-500');
            });
            
            // Set inactive tabs
            document.querySelectorAll('.statement-tab').forEach(tab => {
                if (tab.id !== `tab-${type}`) {
                    tab.classList.add('text-neutral-500');
                }
            });
            
            // Set active tab
            const activeTab = document.getElementById(`tab-${type}`);
            if (activeTab) {
                activeTab.classList.add('active');
            }
            
            // Update filename
            const filenameEl = document.getElementById('statement-filename');
            const filenames = {
                income: 'GREENSCAPE_INCOME_FY2024.xlsx',
                balance: 'GREENSCAPE_BALANCE_FY2024.xlsx',
                cashflow: 'GREENSCAPE_CASHFLOW_FY2024.xlsx'
            };
            if (filenameEl) filenameEl.textContent = filenames[type];
            
            // Fade out current statement
            const currentStatement = document.querySelector('.statement-content.active');
            if (currentStatement) {
                currentStatement.classList.remove('active');
                currentStatement.classList.add('hidden');
            }
            
            // Fade in new statement and update metrics
            setTimeout(() => {
                const newStatement = document.getElementById(`${type}-statement`);
                if (newStatement) {
                    // Populate if empty
                    if (newStatement.children.length === 0) {
                        if (type === 'balance') populateBalanceSheet();
                        if (type === 'cashflow') populateCashFlow();
                    }
                    
                    newStatement.classList.remove('hidden');
                    newStatement.classList.add('active');
                }
                
                // Update metrics for new statement type
                animateLiveMetrics(type);
                
                currentStatementType = type;
                
                setTimeout(() => {
                    isTransitioning = false;
                }, 600);
            }, 300);
        }

        function animateLiveMetrics(statementType = 'income') {
            const metricsConfig = {
                income: [
                    { id: 'metric-1', label: 'Gross Margin', value: 62.0, benchmark: '55.0%', delay: 600 },
                    { id: 'metric-2', label: 'EBITDA Margin', value: 38.0, benchmark: '28.0%', delay: 1400 },
                    { id: 'metric-3', label: 'Net Margin', value: 25.1, benchmark: '18.0%', delay: 2200 }
                ],
                balance: [
                    { id: 'metric-1', label: 'Current Ratio', value: 2.6, benchmark: '1.5', delay: 600, suffix: 'x' },
                    { id: 'metric-2', label: 'Debt to Equity', value: 0.81, benchmark: '1.0', delay: 1400, suffix: 'x', invert: true },
                    { id: 'metric-3', label: 'Asset Turnover', value: 1.08, benchmark: '0.85', delay: 2200, suffix: 'x' }
                ],
                cashflow: [
                    { id: 'metric-1', label: 'Operating Cash %', value: 26.3, benchmark: '20.0%', delay: 600 },
                    { id: 'metric-2', label: 'Free Cash Flow %', value: 10.9, benchmark: '8.0%', delay: 1400 },
                    { id: 'metric-3', label: 'Cash Conversion', value: 104.5, benchmark: '95.0%', delay: 2200 }
                ]
            };
            
            const metrics = metricsConfig[statementType];
            
            // Clear all existing intervals first to prevent glitches
            Object.keys(metricIntervals).forEach(key => {
                clearInterval(metricIntervals[key]);
                delete metricIntervals[key];
            });
            
            // Reset all bars immediately without transition
            metrics.forEach(metric => {
                const bar = document.getElementById(`${metric.id}-bar`);
                if (bar) {
                    // Disable transitions
                    bar.style.transition = 'none';
                    bar.style.width = '0%';
                    // Force browser reflow to apply changes
                    void bar.offsetHeight;
                    // Re-enable smooth transition
                    bar.style.transition = 'width 2000ms cubic-bezier(0.4, 0, 0.2, 1)';
                }
            });
            
            metrics.forEach((metric, index) => {
                // Update label and benchmark
                const labelEl = document.getElementById(`${metric.id}-label`);
                const benchmarkEl = document.getElementById(`${metric.id}-benchmark`);
                const valueEl = document.getElementById(`${metric.id}-value`);
                
                if (labelEl) labelEl.textContent = metric.label;
                if (benchmarkEl) {
                    benchmarkEl.textContent = `Industry benchmark: ${metric.benchmark}`;
                }
                
                // Reset value immediately
                const suffix = metric.suffix || '%';
                if (valueEl) {
                    valueEl.innerHTML = `0.0<span class="text-neutral-700">${suffix}</span>`;
                }
                
                // Animate value
                setTimeout(() => {
                    animateMetricValue(
                        `${metric.id}-value`,
                        metric.value,
                        `${metric.id}-bar`,
                        suffix,
                        metric.invert || false
                    );
                }, metric.delay);
            });
        }

        // Store active intervals to clear them
        const metricIntervals = {};

        function animateMetricValue(id, target, barId, suffix = '%', invert = false) {
            const el = document.getElementById(id);
            const bar = document.getElementById(barId);
            if (!el) return;
            
            let current = 0;
            const duration = 2200;
            const steps = 60;
            const interval = duration / steps;
            
            let step = 0;
            metricIntervals[id] = setInterval(() => {
                step++;
                // Ease out cubic for smooth deceleration
                const progress = 1 - Math.pow(1 - (step / steps), 3);
                current = target * progress;
                
                if (step >= steps) {
                    current = target;
                    clearInterval(metricIntervals[id]);
                    delete metricIntervals[id];
                }
                
                const displayValue = suffix === '%' ? current.toFixed(1) : current.toFixed(2);
                el.innerHTML = displayValue + `<span class="text-neutral-700">${suffix}</span>`;
            }, interval);
            
            // Animate bar using CSS transition (already reset in animateLiveMetrics)
            if (bar) {
                // Small delay to ensure transition is ready
                requestAnimationFrame(() => {
                    let barWidth;
                    if (suffix === '%') {
                        barWidth = target * 1.6;
                    } else if (suffix === 'x') {
                        barWidth = invert ? (1 / target) * 100 : target * 40;
                    }
                    bar.style.width = Math.min(barWidth, 100) + '%';
                });
            }
        }

        function startCellScanning() {
            const cells = [3, 5, 7, 9, 12, 14];
            const cursor = document.getElementById('analyst-cursor');
            const highlight = document.getElementById('cell-highlight');
            const notesContainer = document.getElementById('analysis-notes');
            const spreadsheetContainer = document.getElementById('spreadsheet-container');
            
            if (!cursor || !highlight || !spreadsheetContainer) return;
            
            let index = 0;
            
            const analysisNotes = [
                { cell: 3, title: 'Gross Margin Analysis', content: 'Exceptional gross margin of 62.0% significantly exceeds industry median (50-55%), indicating premium service positioning and operational efficiency. Gross profit of $104.8M provides substantial operating leverage for growth initiatives while maintaining market-leading profitability across service lines.' },
                { cell: 5, title: 'Equipment Investment Strategy', content: 'Equipment and fleet expenses at 8.0% of revenue ($13.5M annually) demonstrate balanced capital allocation between modern machinery and profitability. Strategic equipment investments support service quality and crew productivity while controlling long-term maintenance costs. Investment ratio aligns with best-in-class landscape service providers.' },
                { cell: 7, title: 'Operational Excellence', content: 'EBITDA of $64.3M (38.0% margin) reflects exceptional operational leverage and business model efficiency. Performance substantially exceeds industry benchmark (28.0%), indicating superior route optimization, crew management, and customer acquisition cost efficiency. This margin supports reinvestment capacity and strong shareholder returns.' },
                { cell: 9, title: 'Operating Profitability', content: 'Operating income of $56.7M (33.5% margin) post-depreciation demonstrates sustainable economic profitability. Margin stability suggests effective pricing strategies, customer mix optimization, and limited competitive pressure. Strong operating performance supports strategic growth initiatives and maintains financial resilience through seasonal fluctuations.' },
                { cell: 12, title: 'Capital Structure Health', content: 'Pre-tax income of $53.8M (31.8% margin) with conservative leverage demonstrates robust financial health. Low interest expense (2.0% of revenue) indicates minimal debt burden and strong cash generation. Financial flexibility supports equipment upgrades, geographic expansion, or bolt-on acquisition opportunities without material refinancing risk.' },
                { cell: 14, title: 'Bottom-Line Performance', content: 'Net income of $42.5M (25.1% margin) places GreenScape Landscaping in the top decile of comparable firms. Exceptional profitability combined with recurring revenue base (maintenance contracts) creates highly attractive unit economics. Strong cash conversion supports multiple value-creation pathways: organic growth, add-on services, or enhanced distributions to ownership.' }
            ];
            
            function scanNextCell() {
                if (index >= cells.length) {
                    cursor.classList.add('hidden');
                    highlight.classList.add('hidden');
                    return;
                }
                
                const cellNum = cells[index];
                const row = document.querySelector(`[data-cell="${cellNum}"]`);
                if (!row) {
                    index++;
                    scanNextCell();
                    return;
                }
                
                const rect = row.getBoundingClientRect();
                const container = document.getElementById('spreadsheet-container');
                const containerRect = container.getBoundingClientRect();
                
                // Move cursor first
                cursor.classList.remove('hidden');
                cursor.style.left = (rect.right - containerRect.left - 40) + 'px';
                cursor.style.top = (rect.top - containerRect.top + rect.height / 2) + 'px';
                
                // Then highlight after cursor arrives
                setTimeout(() => {
                    highlight.classList.remove('hidden');
                    highlight.style.left = (rect.left - containerRect.left) + 'px';
                    highlight.style.top = (rect.top - containerRect.top) + 'px';
                    highlight.style.width = rect.width + 'px';
                    highlight.style.height = rect.height + 'px';
                    
                    // Add analysis note after highlight appears
                    setTimeout(() => {
                        if (notesContainer) {
                            const note = analysisNotes[index];
                            const noteDiv = document.createElement('div');
                            noteDiv.className = 'border-l-2 border-white/20 pl-8 py-6 opacity-0 transition-all duration-1000';
                            noteDiv.innerHTML = `
                                <div class="font-mono text-xs text-neutral-600 mb-4 uppercase tracking-[0.4em]">${note.title}</div>
                                <p class="font-sans text-base text-neutral-400 leading-[1.9]">${note.content}</p>
                            `;
                            notesContainer.appendChild(noteDiv);
                            setTimeout(() => noteDiv.classList.remove('opacity-0'), 100);
                        }
                    }, 300);
                }, 500);
                
                // Move to next cell
                setTimeout(() => {
                    highlight.classList.add('hidden');
                    index++;
                    scanNextCell();
                }, 4000);
            }
            
            scanNextCell();
        }

        function populateInsightsFeed() {
            const feed = document.getElementById('insights-feed');
            if (!feed) return;
            
            const insights = [
                { time: '00:02', text: 'Gross margin expansion detected: +310 bps YoY', icon: '📈' },
                { time: '00:04', text: 'R&D efficiency ratio: 1.4x revenue per dollar invested', icon: '🔬' },
                { time: '00:07', text: 'Operating leverage improving: +5% EBITDA vs +3% opex', icon: '⚡' },
                { time: '00:09', text: 'Interest coverage comfortable at 5.9x EBIT', icon: '💼' },
                { time: '00:12', text: 'Tax rate optimized within regulatory guidelines', icon: '📊' },
                { time: '00:14', text: 'Net margin in top quartile vs industry peers', icon: '🎯' }
            ];
            
            insights.forEach((insight, index) => {
                setTimeout(() => {
                    const item = document.createElement('div');
                    item.className = 'flex items-start gap-3 p-3 bg-neutral-900/50 border border-white/5 rounded text-sm opacity-0 translate-y-2 transition-all duration-300';
                    item.innerHTML = `
                        <span class="text-lg">${insight.icon}</span>
                        <div class="flex-1">
                            <div class="text-neutral-600 text-xs font-mono mb-1">${insight.time}</div>
                            <div class="text-neutral-300">${insight.text}</div>
                        </div>
                    `;
                    feed.appendChild(item);
                    setTimeout(() => {
                        item.classList.remove('opacity-0', 'translate-y-2');
                    }, 50);
                }, index * 2000);
            });
        }

        // Financial Statement Animation
        function animateFinancialStatement() {
            const virtualCursor = document.getElementById('virtual-cursor');
            const cellSelection = document.getElementById('cell-selection');
            const incomeStatement = document.getElementById('income-statement');
            
            // Cell selection sequence with analyst notes
            const cellSequence = [
                { 
                    cell: 3, 
                    note: 'Gross margin of 61.5% indicates strong pricing power and operational efficiency. Industry average: 55-60%. This premium suggests competitive moat through brand equity or technological advantage.',
                    delay: 1200 
                },
                { 
                    cell: 5, 
                    note: 'R&D investment at 14.7% of revenue demonstrates commitment to innovation while maintaining profitability. Benchmark range: 12-18% for sustainable growth companies. Allocation supports product pipeline development.',
                    delay: 3000 
                },
                { 
                    cell: 6, 
                    note: 'EBITDA margin of 21.2% reflects robust operational leverage. Peer median: 18-22%. Strong EBITDA generation provides capital for strategic investments and shareholder returns.',
                    delay: 4800 
                },
                { 
                    cell: 8, 
                    note: 'Operating margin (EBIT) at 17.9% shows efficient cost management post-depreciation. Typical range for mature tech firms: 15-20%. Margin stability indicates pricing discipline and scalable business model.',
                    delay: 6600 
                },
                { 
                    cell: 13, 
                    note: 'Pre-tax margin of 15.8% with favorable debt structure (interest coverage ratio: 5.9x). Conservative leverage supports financial flexibility for M&A or organic expansion.',
                    delay: 8400 
                },
                { 
                    cell: 15, 
                    note: 'Net margin of 12.5% translates to strong return on equity. With effective tax rate at 21%, the company demonstrates efficient tax planning within regulatory frameworks. Earnings quality is supported by cash flow conversion.',
                    delay: 10200 
                }
            ];

            let currentCell = 0;
            const highlightContainer = document.getElementById('analyst-highlights');
            
            function moveCursorToCell(cellNumber) {
                const targetRow = document.querySelector(`[data-cell="${cellNumber}"]`);
                if (!targetRow) return;
                
                const rect = targetRow.getBoundingClientRect();
                const statementRect = incomeStatement.getBoundingClientRect();
                
                // Show virtual cursor
                virtualCursor.classList.remove('hidden');
                virtualCursor.style.left = `${rect.left + rect.width * 0.7}px`;
                virtualCursor.style.top = `${rect.top + rect.height / 2}px`;
                
                // Animate cursor movement (simulated)
                setTimeout(() => {
                    // Show selection overlay
                    cellSelection.classList.remove('hidden');
                    cellSelection.style.left = `${rect.left - statementRect.left}px`;
                    cellSelection.style.top = `${rect.top - statementRect.top + incomeStatement.scrollTop}px`;
                    cellSelection.style.width = `${rect.width}px`;
                    cellSelection.style.height = `${rect.height}px`;
                    
                    // Highlight the row
                    targetRow.style.backgroundColor = 'rgba(255, 255, 255, 0.15)';
                }, 400);
            }
            
            function showNextHighlight() {
                if (currentCell < cellSequence.length) {
                    const sequence = cellSequence[currentCell];
                    
                    // Move cursor and select cell
                    moveCursorToCell(sequence.cell);
                    
                    // Add analyst note after selection
                    setTimeout(() => {
                        const highlightDiv = document.createElement('div');
                        highlightDiv.className = `p-4 bg-neutral-900 border-l-4 border-white mb-4 opacity-0 transition-opacity duration-500`;
                        highlightDiv.innerHTML = `
                            <div class="flex items-start gap-3">
                                <div class="flex-shrink-0 w-6 h-6 rounded-full bg-white text-black flex items-center justify-center text-xs font-bold mt-1">
                                    ${currentCell + 1}
                                </div>
                                <div class="flex-1">
                                    <div class="text-neutral-400 text-xs mb-1 uppercase tracking-wider">Cell ${sequence.cell} Analysis</div>
                                    <div class="text-white text-sm leading-relaxed">${sequence.note}</div>
                                </div>
                            </div>
                        `;
                        
                        highlightContainer.appendChild(highlightDiv);
                        setTimeout(() => highlightDiv.classList.remove('opacity-0'), 100);
                    }, 600);
                    
                    currentCell++;
                    if (currentCell < cellSequence.length) {
                        const nextDelay = cellSequence[currentCell].delay - cellSequence[currentCell - 1].delay;
                        setTimeout(showNextHighlight, nextDelay);
                    }
                }
            }
            
            // Start animation
            setTimeout(showNextHighlight, cellSequence[0].delay);

            // Animate metrics with proper net margin
            setTimeout(() => {
                animateMetric('gross-margin', 61.5);
                animateMetric('ebitda-margin', 21.2);
                animateMetric('op-margin', 17.9);
                animateMetric('net-margin', 12.5);
                
                // Animate ratio bars
                setTimeout(() => {
                    const rdBar = document.getElementById('rd-bar');
                    const smBar = document.getElementById('sm-bar');
                    const taxBar = document.getElementById('tax-bar');
                    
                    if (rdBar) {
                        rdBar.style.transition = 'width 1.5s cubic-bezier(0.4, 0, 0.2, 1)';
                        rdBar.style.width = '73.5%';
                    }
                    if (smBar) {
                        smBar.style.transition = 'width 1.5s cubic-bezier(0.4, 0, 0.2, 1)';
                        smBar.style.width = '51.2%';
                    }
                    if (taxBar) {
                        taxBar.style.transition = 'width 1.5s cubic-bezier(0.4, 0, 0.2, 1)';
                        taxBar.style.width = '84%';
                    }
                }, 500);
            }, 600);

            // Start highlighting with initial delay
            setTimeout(showNextHighlight, 1200);
        }

        function animateMetric(id, targetValue) {
            const el = document.getElementById(id);
            if (!el) return;

            let current = 0;
            const increment = targetValue / 50;
            const interval = setInterval(() => {
                current += increment;
                if (current >= targetValue) {
                    current = targetValue;
                    clearInterval(interval);
                }
                el.textContent = current.toFixed(1) + '%';
            }, 30);
        }

        // Website Creation Animation
        function animateWebsiteCreation() {
            const codeSteps = [
                { code: '<span class="text-purple-400">const</span> <span class="text-blue-400">Hero</span> = () => {', delay: 0 },
                { code: '  <span class="text-purple-400">return</span> (', delay: 400 },
                { code: '    &lt;<span class="text-green-400">section</span>&gt;', delay: 800 },
                { code: '      &lt;<span class="text-green-400">h1</span>&gt;', delay: 1200 },
                { code: '        <span class="text-yellow-400">"Innovation Starts Here"</span>', delay: 1600 },
                { code: '      &lt;/<span class="text-green-400">h1</span>&gt;', delay: 2000 },
                { code: '      &lt;<span class="text-green-400">button</span>&gt;', delay: 2400 },
                { code: '        <span class="text-yellow-400">"Get Started"</span>', delay: 2800 },
                { code: '      &lt;/<span class="text-green-400">button</span>&gt;', delay: 3200 },
                { code: '    &lt;/<span class="text-green-400">section</span>&gt;', delay: 3600 },
                { code: '  )', delay: 4000 },
                { code: '}', delay: 4400 }
            ];

            const visualSteps = [
                { html: '<div class="text-4xl font-bold text-gray-900 opacity-0 transition-opacity duration-500">Innovation Starts Here</div>', delay: 1600 },
                { html: '<button class="mt-4 bg-black text-white px-6 py-3 rounded opacity-0 transition-opacity duration-500 hover:bg-gray-800">Get Started</button>', delay: 2800 },
                { html: '<div class="mt-6 w-full h-32 bg-gradient-to-r from-white to-neutral-500 rounded-lg opacity-0 transition-opacity duration-500"></div>', delay: 4800 }
            ];

            const codeContainer = document.getElementById('code-lines');
            const previewContainer = document.getElementById('preview-container');

            if (!codeContainer || !previewContainer) return;

            // Animate code
            codeSteps.forEach((step, index) => {
                setTimeout(() => {
                    const line = document.createElement('div');
                    line.innerHTML = `<span class="text-neutral-600 mr-2">${index + 1}</span>${step.code}`;
                    line.className = 'opacity-0 transition-opacity duration-300';
                    codeContainer.appendChild(line);
                    setTimeout(() => line.classList.remove('opacity-0'), 50);
                }, step.delay);
            });

            // Animate visual output
            visualSteps.forEach((step, index) => {
                setTimeout(() => {
                    const el = document.createElement('div');
                    el.innerHTML = step.html;
                    const child = el.firstElementChild;
                    previewContainer.appendChild(child);
                    setTimeout(() => child.classList.remove('opacity-0'), 50);
                }, step.delay);
            });
        }

        // --- WEBSITE DESIGN MODAL FUNCTIONS ---

        // --- WEBSITE CODE ANIMATION ---
        // --- WEBSITE DESIGN SYSTEM ANIMATION ---
        function initDesignSystem() {
            // 1. Title typing animation
            const titleEl = document.getElementById('website-main-title');
            if (titleEl) {
                const text = titleEl.textContent;
                titleEl.textContent = '';
                let i = 0;
                const typeInterval = setInterval(() => {
                    if (i < text.length) {
                        titleEl.textContent += text.charAt(i);
                        i++;
                    } else {
                        clearInterval(typeInterval);
                        titleEl.classList.add('complete');
                        
                        // 2. Fade in subtitle after typing completes
                        setTimeout(() => {
                            const subtitleEl = document.getElementById('website-subtitle-text');
                            if (subtitleEl) {
                                subtitleEl.style.opacity = '1';
                            }
                        }, 300);
                    }
                }, 60);
            }

            // 3. Animate build metrics
            setTimeout(() => {
                animateBuildMetrics();
            }, 2000);

            // 4. Initialize design mode tabs
            setTimeout(() => {
                initDesignTabs();
            }, 500);
        }

        function animateBuildMetrics() {
            const metrics = [
                { id: 'build-metric-1', valueId: 'build-1-value', barId: 'build-1-bar', value: 2847, max: 3000, unit: '' },
                { id: 'build-metric-2', valueId: 'build-2-value', barId: 'build-2-bar', value: 42, max: 50, unit: '' },
                { id: 'build-metric-3', valueId: 'build-3-value', barId: 'build-3-bar', value: 1.8, max: 3.0, unit: 's' }
            ];

            metrics.forEach((metric, index) => {
                setTimeout(() => {
                    const metricEl = document.getElementById(metric.id);
                    const valueEl = document.getElementById(metric.valueId);
                    const barEl = document.getElementById(metric.barId);

                    if (!metricEl || !valueEl || !barEl) {
                        console.error('Missing element:', metric.id, metric.valueId, metric.barId);
                        return;
                    }

                    // Fade in the metric
                    metricEl.style.opacity = '1';

                    // Calculate bar width percentage
                    const widthPercent = (metric.value / metric.max) * 100;

                    // Animate bar width
                    requestAnimationFrame(() => {
                        barEl.style.width = widthPercent + '%';
                    });

                    // Animate value from 0 to target
                    let currentValue = 0;
                    const targetValue = metric.value;
                    const steps = 60;
                    const increment = targetValue / steps;
                    const duration = 2200;
                    const intervalTime = duration / steps;

                    const valueInterval = setInterval(() => {
                        currentValue += increment;
                        if (currentValue >= targetValue) {
                            currentValue = targetValue;
                            clearInterval(valueInterval);
                        }
                        
                        // Format value based on unit
                        if (metric.unit === 's') {
                            valueEl.textContent = currentValue.toFixed(1);
                        } else {
                            // Add comma formatting for large numbers
                            valueEl.textContent = Math.round(currentValue).toLocaleString();
                        }
                    }, intervalTime);

                }, index * 400);
            });
        }

        function initDesignTabs() {
            const tabs = document.querySelectorAll('.design-tab');
            const contents = document.querySelectorAll('.design-content');
            
            console.log('Initializing design tabs:', tabs.length, 'tabs found');
            console.log('Content sections:', contents.length, 'found');

            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const mode = tab.dataset.mode;
                    
                    // Update active tab
                    tabs.forEach(t => {
                        t.classList.remove('active', 'text-white', 'border-white');
                        t.classList.add('text-neutral-600', 'border-transparent');
                    });
                    tab.classList.add('active', 'text-white', 'border-white');
                    tab.classList.remove('text-neutral-600', 'border-transparent');
                    
                    // Show corresponding content
                    contents.forEach(content => {
                        if (content.id === `design-${mode}`) {
                            content.classList.remove('hidden');
                            // Trigger animation
                            content.classList.remove('show-animate');
                            void content.offsetWidth; // Force reflow
                            content.classList.add('show-animate');
                        } else {
                            content.classList.add('hidden');
                            content.classList.remove('show-animate');
                        }
                    });
                    
                    // Re-trigger animations
                    triggerDesignAnimations(mode);
                });
            });

            // Initialize device switches
            const deviceSwitches = document.querySelectorAll('.device-switch');
            deviceSwitches.forEach(btn => {
                btn.addEventListener('click', () => {
                    const device = btn.dataset.device;
                    switchDevice(device);
                });
            });
        }

        function triggerDesignAnimations(mode) {
            // Get only the design elements in the active content
            const activeContent = document.getElementById(`design-${mode}`);
            if (!activeContent) return;
            
            const elements = activeContent.querySelectorAll('.design-element');
            
            // Reset each element's animation
            elements.forEach((el, index) => {
                // Store the original inline style
                const originalStyle = el.getAttribute('style') || '';
                
                // Extract animation value from original style if it exists
                const animMatch = originalStyle.match(/animation:\s*([^;]+)/);
                const originalAnimation = animMatch ? animMatch[1] : 'fadeInDesign 0.8s ease-out 0.2s forwards';
                
                // Reset to invisible
                el.style.opacity = '0';
                el.style.animation = 'none';
                
                // Force reflow
                void el.offsetHeight;
                
                // Restore animation after a brief delay
                setTimeout(() => {
                    el.style.animation = originalAnimation;
                }, 50);
            });
        }

        function switchDevice(device) {
            // Update active device button
            const deviceBtns = document.querySelectorAll('.device-switch');
            deviceBtns.forEach(btn => {
                btn.classList.remove('active', 'bg-white/10');
            });
            
            const activeBtn = document.querySelector(`.device-switch[data-device="${device}"]`);
            if (activeBtn) {
                activeBtn.classList.add('active', 'bg-white/10');
            }

            // Update browser viewport size with smooth transition
            const viewport = document.getElementById('browser-viewport');
            if (!viewport) return;
            
            const container = viewport.parentElement;
            container.style.transition = 'all 500ms cubic-bezier(0.4, 0, 0.2, 1)';
            
            if (device === 'mobile') {
                container.style.maxWidth = '400px';
                container.style.margin = '0 auto';
            } else if (device === 'tablet') {
                container.style.maxWidth = '800px';
                container.style.margin = '0 auto';
            } else {
                container.style.maxWidth = '100%';
                container.style.margin = '0';
            }
        }

        function triggerMotionDemo() {
            // Re-trigger motion demo animations
            const motionDemos = document.querySelectorAll('[class*="motion-demo-"]');
            motionDemos.forEach(demo => {
                // Remove and re-add animation class to restart
                const animClass = Array.from(demo.classList).find(c => c.startsWith('motion-demo-'));
                if (animClass) {
                    demo.classList.remove(animClass);
                    setTimeout(() => {
                        demo.classList.add(animClass);
                    }, 50);
                }
            });
        }

        // --- END WEBSITE DESIGN SYSTEM ANIMATION ---

        let currentDesignMode = 'layout';
        let isDesignTransitioning = false;

        function switchDesignMode(mode) {
            if (isDesignTransitioning || mode === currentDesignMode) return;
            
            isDesignTransitioning = true;
            currentDesignMode = mode;

            // 1. Remove all active classes from tabs
            const allTabs = document.querySelectorAll('.design-tab');
            allTabs.forEach(tab => {
                tab.classList.remove('active');
                tab.classList.add('text-neutral-500');
            });

            // 2. Set active tab
            const activeTab = document.querySelector(`.design-tab[onclick*="${mode}"]`);
            if (activeTab) {
                activeTab.classList.add('active');
                activeTab.classList.remove('text-neutral-500');
            }

            // 3. Hide all content sections
            const allContent = document.querySelectorAll('.design-content');
            allContent.forEach(content => {
                content.classList.remove('active');
                content.classList.add('hidden');
            });

            // 4. Show selected content
            const activeContent = document.getElementById(`design-${mode}`);
            if (activeContent) {
                setTimeout(() => {
                    activeContent.classList.remove('hidden');
                    activeContent.classList.add('active');
                }, 50);
            }

            // 5. Unlock transition after duration
            setTimeout(() => {
                isDesignTransitioning = false;
            }, 600);
        }

        const perfMetricIntervals = {};

        function animatePerfMetrics() {
            const metrics = [
                { 
                    id: 'perf-metric-1', 
                    value: 1.2, 
                    target: 2.5, 
                    unit: 's',
                    label: 'LCP',
                    inverse: false 
                },
                { 
                    id: 'perf-metric-2', 
                    value: 45, 
                    target: 100, 
                    unit: 'ms',
                    label: 'FID',
                    inverse: false 
                },
                { 
                    id: 'perf-metric-3', 
                    value: 0.05, 
                    target: 0.1, 
                    unit: '',
                    label: 'CLS',
                    inverse: false 
                }
            ];

            // Clear any existing intervals
            Object.values(perfMetricIntervals).forEach(interval => clearInterval(interval));
            
            metrics.forEach((metric, index) => {
                setTimeout(() => {
                    const container = document.getElementById(metric.id);
                    if (!container) return;

                    // Fade in container
                    container.style.opacity = '1';

                    const valueEl = document.getElementById(`perf-${index + 1}-value`);
                    const barEl = document.getElementById(`perf-${index + 1}-bar`);

                    if (!valueEl || !barEl) return;

                    // Calculate bar width percentage (value/target * 100, capped at 100)
                    const widthPercent = Math.min((metric.value / metric.target) * 100, 100);

                    // Reset bar without transition
                    barEl.style.transition = 'none';
                    barEl.style.width = '0%';
                    barEl.offsetHeight; // Force reflow

                    // Re-enable transition
                    barEl.style.transition = 'width 2000ms cubic-bezier(0.4, 0, 0.2, 1)';

                    // Animate value from 0 to target
                    let currentValue = 0;
                    const targetValue = metric.value;
                    const steps = 60;
                    const increment = targetValue / steps;
                    const duration = 2200;
                    const intervalTime = duration / steps;

                    perfMetricIntervals[metric.id] = setInterval(() => {
                        currentValue += increment;
                        if (currentValue >= targetValue) {
                            currentValue = targetValue;
                            clearInterval(perfMetricIntervals[metric.id]);
                        }
                        
                        // Format value based on unit
                        if (metric.unit === 's') {
                            valueEl.textContent = currentValue.toFixed(1) + 's';
                        } else if (metric.unit === 'ms') {
                            valueEl.textContent = Math.round(currentValue) + 'ms';
                        } else {
                            valueEl.textContent = currentValue.toFixed(2);
                        }
                    }, intervalTime);

                    // Animate bar width
                    requestAnimationFrame(() => {
                        barEl.style.width = widthPercent + '%';
                    });

                }, index * 400);
            });
        }

        function switchDevice(device) {
            // Update active device button
            const deviceBtns = document.querySelectorAll('.device-btn');
            deviceBtns.forEach(btn => {
                btn.classList.remove('bg-white/5');
                btn.querySelector('i').classList.remove('text-white');
                btn.querySelector('i').classList.add('text-neutral-600');
            });
            
            const activeBtn = document.querySelector(`.device-btn[data-device="${device}"]`);
            if (activeBtn) {
                activeBtn.classList.add('bg-white/5');
                activeBtn.querySelector('i').classList.remove('text-neutral-600');
                activeBtn.querySelector('i').classList.add('text-white');
            }

            // Update preview container size with smooth transition
            const previewContainer = document.getElementById('design-preview-container');
            if (!previewContainer) return;
            
            previewContainer.style.transition = 'all 500ms cubic-bezier(0.4, 0, 0.2, 1)';
            
            if (device === 'mobile') {
                previewContainer.style.maxWidth = '375px';
                previewContainer.style.margin = '0 auto';
            } else if (device === 'tablet') {
                previewContainer.style.maxWidth = '768px';
                previewContainer.style.margin = '0 auto';
            } else {
                previewContainer.style.maxWidth = '100%';
                previewContainer.style.margin = '0';
            }
        }

        function triggerMotionDemo() {
            // Re-trigger motion demo animations
            const motionDemos = document.querySelectorAll('[class*="motion-demo-"]');
            motionDemos.forEach(demo => {
                // Remove and re-add animation class to restart
                const animClass = Array.from(demo.classList).find(c => c.startsWith('motion-demo-'));
                if (animClass) {
                    demo.classList.remove(animClass);
                    setTimeout(() => {
                        demo.classList.add(animClass);
                    }, 50);
                }
            });
        }

        // --- END WEBSITE DESIGN MODAL FUNCTIONS ---

        // Attach listeners to service cards
        document.querySelectorAll('.service-card').forEach(card => {
            card.addEventListener('click', () => {
                const serviceId = card.dataset.service;
                openServiceModal(serviceId);
            });
        });

        closeModal.addEventListener('click', closeModalFunc);
        
        // Helper functions for body scroll lock
        function lockBodyScroll() {
            const scrollbarWidth = window.innerWidth - document.documentElement.clientWidth;
            document.body.style.overflow = 'hidden';
            document.body.style.paddingRight = scrollbarWidth + 'px';
        }
        
        function unlockBodyScroll() {
            document.body.style.overflow = '';
            document.body.style.paddingRight = '';
        }
        
        // Prevent body scroll when modal is open
        function lockBodyScroll() {
            const scrollbarWidth = window.innerWidth - document.documentElement.clientWidth;
            document.body.style.overflow = 'hidden';
            document.body.style.paddingRight = scrollbarWidth + 'px';
        }
        
        function unlockBodyScroll() {
            document.body.style.overflow = '';
            document.body.style.paddingRight = '';
        }
        
        // Close on backdrop click
        modal.addEventListener('click', (e) => {
            if (e.target === modal) closeModalFunc();
        });

        // Esc key to close
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && modal.classList.contains('active')) {
                closeModalFunc();
            }
        });


        // --- CHATBOT SYSTEM ---
        const GEMINI_API_KEY = 'AIzaSyBc5hZhMfMhmQRAz-vwfyXp4EM_ZLNYElg';
        const GEMINI_API_URL = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent';
        
        const chatbotToggle = document.getElementById('chatbot-toggle');
        const chatbotWindow = document.getElementById('chatbot-window');
        const chatbotClose = document.getElementById('chatbot-close');
        const chatMessages = document.getElementById('chat-messages');
        const chatInput = document.getElementById('chat-input');
        const chatSend = document.getElementById('chat-send');
        const chatBadge = document.querySelector('.chat-badge');
        
        let chatHistory = [];
        let isProcessing = false;
        
        // System context for AI
        const SYSTEM_CONTEXT = `You are a helpful digital assistant for Sulayman Bowles' portfolio website. Your role is to guide visitors and answer their questions.

CONTEXT ABOUT SULAYMAN BOWLES:
• Based in Austin, TX | UT Austin '28
• Specializes in: Financial Consulting, Website Design, Data Science
• Core philosophy: "Finance. Code. Entropy. A system of evidence."
• Contact: sulayman.bowles@gmail.com

PRIMARY SERVICES:
**Financial Consulting**
- DCF modeling & valuation analysis
- Investment thesis development
- Strategic planning & scenario testing
- Risk assessment frameworks
- M&A due diligence

**Website Design & Development**
- Custom web design & development
- Interactive experiences & generative art
- E-commerce platforms
- Brand identity & portfolios
- Web3/blockchain interfaces

NOTABLE PROJECTS:
• Bittensor – Decentralized AI network research & analysis
• OpenAI – Content strategy & business analysis
• Taskformer – Strategic consulting & systems optimization
• Viberary – Creative web development & UX design

YOUR BEHAVIOR:
- Be warm, professional, and concise (under 80 words)
- Help visitors navigate the portfolio and understand services
- For project inquiries, encourage direct contact via email
- Provide specific answers about work, capabilities, and process
- Use markdown: **bold** for emphasis, *italic* for examples
- Match the sophisticated, minimalist tone of the site

You're an assistant, not Sulayman himself. Guide, inform, and facilitate.`;

        // Load chat history from sessionStorage
        function loadChatHistory() {
            const saved = sessionStorage.getItem('chatHistory');
            if (saved) {
                chatHistory = JSON.parse(saved);
                chatHistory.forEach(msg => renderMessage(msg.role, msg.content, msg.timestamp, false));
                scrollToBottom();
            } else {
                // Welcome message
                const welcomeMsg = {
                    role: 'ai',
                    content: 'Hello! I can help you explore Sulayman\'s work in **financial consulting** and **website design**. What would you like to know?',
                    timestamp: Date.now()
                };
                chatHistory.push(welcomeMsg);
                renderMessage('ai', welcomeMsg.content, welcomeMsg.timestamp, true);
                saveChatHistory();
            }
        }
        
        // Save chat history
        function saveChatHistory() {
            sessionStorage.setItem('chatHistory', JSON.stringify(chatHistory));
        }
        
        // Render message
        function renderMessage(role, content, timestamp, animate = true) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${role}`;
            if (!animate) messageDiv.style.animation = 'none';
            
            const avatar = document.createElement('div');
            avatar.className = 'chat-avatar';
            avatar.innerHTML = role === 'user' 
                ? '<i data-lucide="user" class="w-4 h-4 text-black"></i>'
                : '<i data-lucide="sparkles" class="w-4 h-4 text-neutral-400"></i>';
            
            const bubbleContainer = document.createElement('div');
            
            const bubble = document.createElement('div');
            bubble.className = 'chat-bubble';
            bubble.innerHTML = formatMessage(content);
            
            const time = document.createElement('div');
            time.className = 'chat-timestamp';
            time.textContent = formatTime(timestamp);
            
            bubbleContainer.appendChild(bubble);
            bubbleContainer.appendChild(time);
            
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(bubbleContainer);
            
            chatMessages.appendChild(messageDiv);
            lucide.createIcons();
            
            if (animate) {
                setTimeout(scrollToBottom, 100);
            }
        }
        
        // Format message with basic markdown
        function formatMessage(text) {
            return text
                .replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.+?)\*/g, '<em>$1</em>')
                .replace(/`(.+?)`/g, '<code style="background: rgba(255,255,255,0.1); padding: 2px 4px; border-radius: 3px;">$1</code>')
                .replace(/\n/g, '<br>');
        }
        
        // Format timestamp
        function formatTime(timestamp) {
            const date = new Date(timestamp);
            return date.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
        }
        
        // Scroll to bottom
        function scrollToBottom() {
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        // Show typing indicator
        function showTypingIndicator() {
            const indicator = document.createElement('div');
            indicator.className = 'chat-message ai typing-indicator-msg';
            indicator.innerHTML = `
                <div class="chat-avatar">
                    <i data-lucide="sparkles" class="w-4 h-4 text-neutral-400"></i>
                </div>
                <div class="typing-indicator">
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                </div>
            `;
            chatMessages.appendChild(indicator);
            lucide.createIcons();
            scrollToBottom();
            return indicator;
        }
        
        // Send message to Gemini API
        async function sendToGemini(userMessage) {
            try {
                // Build conversation context (last 3 messages for continuity)
                const recentHistory = chatHistory.slice(-3).filter(msg => msg.role).map(msg => 
                    `${msg.role === 'user' ? 'Visitor' : 'Assistant'}: ${msg.content}`
                ).join('\n');
                
                const conversationContext = recentHistory ? `\n\nRecent conversation:\n${recentHistory}\n` : '';
                
                const prompt = `${SYSTEM_CONTEXT}${conversationContext}\n---\n\nVisitor question: ${userMessage}\n\nYour response (helpful, conversational, under 80 words):`;
                
                const response = await fetch(`${GEMINI_API_URL}?key=${GEMINI_API_KEY}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: prompt
                            }]
                        }],
                        generationConfig: {
                            temperature: 0.8,
                            maxOutputTokens: 150,
                            topP: 0.95
                        }
                    })
                });
                
                if (!response.ok) {
                    const errorData = await response.json().catch(() => ({}));
                    console.error('API Error Response:', response.status, errorData);
                    
                    if (response.status === 400) {
                        throw new Error('Invalid request - please try a different question');
                    } else if (response.status === 403) {
                        throw new Error('API key issue - please contact support');
                    } else if (response.status === 429) {
                        throw new Error('Too many requests - please wait a moment');
                    }
                    throw new Error(`API error: ${response.status}`);
                }
                
                const data = await response.json();
                console.log('API Response:', data);
                
                if (data.candidates && data.candidates[0] && data.candidates[0].content && data.candidates[0].content.parts) {
                    return data.candidates[0].content.parts[0].text;
                } else if (data.error) {
                    console.error('API returned error:', data.error);
                    throw new Error(data.error.message || 'API error');
                } else {
                    console.error('Unexpected API response structure:', data);
                    throw new Error('Unexpected response format');
                }
            } catch (error) {
                console.error('Gemini API Error:', error);
                
                if (error.message.includes('fetch')) {
                    return 'Unable to connect to the AI service. Please check your internet connection and try again.';
                } else if (error.message.includes('API key')) {
                    return 'There\'s a configuration issue. Please contact **sulayman.bowles@gmail.com** for assistance.';
                } else if (error.message.includes('Too many requests')) {
                    return 'I\'m getting a lot of questions right now. Please wait 30 seconds and try again.';
                }
                
                return `I encountered an issue: ${error.message}. Please try again or reach out at **sulayman.bowles@gmail.com**.`;
            }
        }
        
        // Handle send message
        async function handleSendMessage() {
            const message = chatInput.value.trim();
            if (!message || isProcessing) return;
            
            isProcessing = true;
            chatSend.disabled = true;
            chatInput.disabled = true;
            
            // Add user message
            const userMsg = {
                role: 'user',
                content: message,
                timestamp: Date.now()
            };
            chatHistory.push(userMsg);
            renderMessage('user', message, userMsg.timestamp, true);
            saveChatHistory();
            
            chatInput.value = '';
            
            // Show typing indicator
            const typingIndicator = showTypingIndicator();
            
            // Get AI response
            const aiResponse = await sendToGemini(message);
            
            // Remove typing indicator
            typingIndicator.remove();
            
            // Add AI message
            const aiMsg = {
                role: 'ai',
                content: aiResponse,
                timestamp: Date.now()
            };
            chatHistory.push(aiMsg);
            renderMessage('ai', aiResponse, aiMsg.timestamp, true);
            saveChatHistory();
            
            isProcessing = false;
            chatSend.disabled = false;
            chatInput.disabled = false;
            chatInput.focus();
        }
        
        // Toggle chatbot
        chatbotToggle.addEventListener('click', () => {
            const isActive = chatbotWindow.classList.toggle('active');
            chatbotToggle.classList.toggle('active', isActive);
            chatbotToggle.setAttribute('aria-expanded', isActive);
            
            if (isActive) {
                chatInput.focus();
                chatBadge.style.display = 'none';
                if (chatHistory.length === 0) {
                    loadChatHistory();
                }
            }
        });
        
        // Close chatbot
        chatbotClose.addEventListener('click', () => {
            chatbotWindow.classList.remove('active');
            chatbotToggle.classList.remove('active');
            chatbotToggle.setAttribute('aria-expanded', 'false');
        });
        
        // Send message
        chatSend.addEventListener('click', handleSendMessage);
        
        // Enter to send
        chatInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                handleSendMessage();
            }
        });
        
        // ESC to close
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && chatbotWindow.classList.contains('active')) {
                chatbotClose.click();
            }
        });
        
        // Initialize on load
        setTimeout(() => {
            loadChatHistory();
        }, 2000);


        // --- 5. LOAD SEQUENCE ---
        window.addEventListener('load', () => {
            const loader = document.getElementById('loader');
            const scrambleEls = document.querySelectorAll('.scramble-text');
            
            scrambleEls.forEach(el => {
                const fx = new TextScramble(el);
                fx.setText(el.dataset.final);
            });

            setTimeout(() => {
                loader.classList.add('loader-hidden');
                document.getElementById('canvas-container').style.opacity = 1;
                initScrollReveal();
                initGenerativeCovers(); // Start Generative Art
                initLiveTicker();       // Start Live Data
                
                setTimeout(() => {
                    document.querySelectorAll('.scramble-hover').forEach(el => {
                        const fx = new TextScramble(el);
                        fx.setText(el.dataset.final);
                        el.addEventListener('mouseenter', () => fx.setText(el.dataset.final));
                    });
                }, 400);

            }, 1200);
        });

        // --- 10. GENERATIVE COVERS ---
        // Debounce utility for resize handlers
        function debounce(fn, delay) {
            let timeoutId;
            return function(...args) {
                clearTimeout(timeoutId);
                timeoutId = setTimeout(() => fn.apply(this, args), delay);
            };
        }
        
        function initGenerativeCovers() {
            // 1. Bittensor (Network Graph)
            const canvas1 = document.getElementById('canvas-bittensor');
            if (canvas1) {
                const ctx = canvas1.getContext('2d');
                let width, height;
                let nodes = [];
                let isHovered = false;
                
                const parent = canvas1.parentElement;
                parent.addEventListener('mouseenter', () => isHovered = true);
                parent.addEventListener('mouseleave', () => isHovered = false);

                const createNode = () => ({
                    x: Math.random() * width,
                    y: Math.random() * height,
                    vx: (Math.random() - 0.5) * 0.5,
                    vy: (Math.random() - 0.5) * 0.5,
                    life: Math.random() * 100 + 100, // Longer life
                    age: 0,
                    opacity: 0
                });

                const resize = () => {
                    width = canvas1.width = canvas1.parentElement.offsetWidth;
                    height = canvas1.height = canvas1.parentElement.offsetHeight;
                    nodes = [];
                    for(let i=0; i<50; i++) { // More nodes
                        nodes.push(createNode());
                        nodes[i].opacity = 1; // Start visible
                        nodes[i].age = 50;
                    }
                };
                resize();
                window.addEventListener('resize', debounce(resize, 150));

                const animate = () => {
                    ctx.clearRect(0, 0, width, height);
                    
                    // Churn: Spawn new nodes
                    if (nodes.length < 50 && Math.random() < 0.1) {
                        nodes.push(createNode());
                    }

                    nodes.forEach((node, index) => {
                        // Lifecycle
                        node.age++;
                        if (node.age < 20) node.opacity = node.age / 20;
                        else if (node.age > node.life - 20) node.opacity = (node.life - node.age) / 20;
                        else node.opacity = 1;
                        
                        if (node.age >= node.life) {
                            nodes.splice(index, 1);
                            return;
                        }

                        // Movement
                        let shakeX = 0, shakeY = 0;
                        if (isHovered) {
                            shakeX = (Math.random() - 0.5) * 2;
                            shakeY = (Math.random() - 0.5) * 2;
                        }
                        
                        node.x += node.vx;
                        node.y += node.vy;
                        
                        // Bounce off walls
                        if(node.x < 0 || node.x > width) node.vx *= -1;
                        if(node.y < 0 || node.y > height) node.vy *= -1;
                        
                        const drawX = node.x + shakeX;
                        const drawY = node.y + shakeY;

                        // Draw Node
                        ctx.fillStyle = isHovered ? '#ff3333' : '#666'; // Lighter grey
                        ctx.globalAlpha = node.opacity;
                        ctx.beginPath();
                        ctx.arc(drawX, drawY, isHovered ? 2.5 : 2, 0, Math.PI * 2);
                        ctx.fill();

                        // Connections
                        nodes.forEach((other, otherIndex) => {
                            if (index >= otherIndex) return; // Avoid double drawing

                            const dx = node.x - other.x;
                            const dy = node.y - other.y;
                            const dist = Math.sqrt(dx*dx + dy*dy);
                            
                            const maxDist = isHovered ? 80 : 120; // Shorter connections on hover (breaking)
                            
                            if(dist < maxDist) {
                                ctx.beginPath();
                                ctx.moveTo(drawX, drawY);
                                
                                let otherShakeX = 0, otherShakeY = 0;
                                if (isHovered) {
                                    otherShakeX = (Math.random() - 0.5) * 2;
                                    otherShakeY = (Math.random() - 0.5) * 2;
                                }
                                ctx.lineTo(other.x + otherShakeX, other.y + otherShakeY);
                                
                                ctx.strokeStyle = isHovered ? '#ff3333' : '#444';
                                ctx.globalAlpha = (1 - dist/maxDist) * Math.min(node.opacity, other.opacity) * 0.8;
                                
                                // Glitch effect: randomly don't draw some frames on hover
                                if (!isHovered || Math.random() > 0.1) {
                                    ctx.stroke();
                                }
                            }
                        });
                    });
                    ctx.globalAlpha = 1;
                    requestAnimationFrame(animate);
                };
                animate();
            }

            // 2. Payroll (Data Stream)
            const canvas2 = document.getElementById('canvas-payroll');
            if (canvas2) {
                const ctx = canvas2.getContext('2d');
                let width, height;
                let drops = [];
                
                const resize = () => {
                    width = canvas2.width = canvas2.parentElement.offsetWidth;
                    height = canvas2.height = canvas2.parentElement.offsetHeight;
                    drops = [];
                    for(let i=0; i<width/20; i++) {
                        drops.push({
                            x: i * 20,
                            y: Math.random() * height,
                            speed: 1 + Math.random() * 2,
                            chars: "010101"
                        });
                    }
                };
                resize();
                window.addEventListener('resize', resize);

                const animate = () => {
                    ctx.fillStyle = 'rgba(10, 10, 10, 0.1)'; // Trail effect
                    ctx.fillRect(0, 0, width, height);
                    ctx.fillStyle = '#333';
                    ctx.font = '10px monospace';

                    drops.forEach(drop => {
                        ctx.fillText(drop.chars[Math.floor(Math.random()*drop.chars.length)], drop.x, drop.y);
                        drop.y += drop.speed;
                        if(drop.y > height) drop.y = 0;
                    });
                    requestAnimationFrame(animate);
                };
                animate();
            }

            // 3. Point72 (Candlesticks)
            const canvas3 = document.getElementById('canvas-point72');
            if (canvas3) {
                const ctx = canvas3.getContext('2d');
                let width, height;
                let candles = [];
                let isHovered = false;

                const parent = canvas3.parentElement;
                parent.addEventListener('mouseenter', () => isHovered = true);
                parent.addEventListener('mouseleave', () => isHovered = false);
                
                const resize = () => {
                    width = canvas3.width = canvas3.parentElement.offsetWidth;
                    height = canvas3.height = canvas3.parentElement.offsetHeight;
                    initCandles();
                };
                
                function initCandles() {
                    candles = [];
                    let price = 100;
                    const candleWidth = 10;
                    for(let x = 0; x < width; x += candleWidth + 2) {
                        const change = (Math.random() - 0.5) * 10;
                        const open = price;
                        const close = price + change;
                        const high = Math.max(open, close) + Math.random() * 5;
                        const low = Math.min(open, close) - Math.random() * 5;
                        candles.push({ x, open, close, high, low });
                        price = close;
                    }
                }
                
                resize();
                window.addEventListener('resize', resize);

                const animate = () => {
                    // Volatility Multiplier
                    const volMult = isHovered ? 4 : 1;

                    // Shift candles left
                    candles.shift();
                    const last = candles[candles.length-1];
                    const change = (Math.random() - 0.5) * 10 * volMult;
                    const open = last.close;
                    const close = open + change;
                    const high = Math.max(open, close) + Math.random() * 5 * volMult;
                    const low = Math.min(open, close) - Math.random() * 5 * volMult;
                    candles.push({ 
                        x: last.x + 12, // 10 width + 2 gap
                        open, close, high, low 
                    });

                    // Redraw
                    ctx.clearRect(0, 0, width, height);
                    
                    ctx.save();
                    if (isHovered) {
                        // Shake Effect
                        const shake = 2;
                        ctx.translate((Math.random() - 0.5) * shake, (Math.random() - 0.5) * shake);
                    }

                    // Center vertically based on last price
                    const offsetY = height/2 - last.close;

                    candles.forEach((c, i) => {
                        // Recalculate X to keep them moving
                        const drawX = width - ((candles.length - i) * 12);
                        
                        ctx.strokeStyle = c.close > c.open ? '#444' : '#222';
                        ctx.fillStyle = c.close > c.open ? '#444' : '#222';
                        
                        // Wick
                        ctx.beginPath();
                        ctx.moveTo(drawX + 5, c.high + offsetY);
                        ctx.lineTo(drawX + 5, c.low + offsetY);
                        ctx.stroke();
                        
                        // Body
                        ctx.fillRect(drawX, Math.min(c.open, c.close) + offsetY, 10, Math.abs(c.close - c.open));
                    });
                    
                    ctx.restore();
                    setTimeout(() => requestAnimationFrame(animate), 100); // Slow down
                };
                animate();
            }
            // 4. TaskFormer (Logic Gate)
            const canvas4 = document.getElementById('canvas-taskformer');
            if (canvas4) {
                const ctx = canvas4.getContext('2d');
                let width, height;
                let pulse = 0;
                
                const resize = () => {
                    width = canvas4.width = canvas4.parentElement.offsetWidth;
                    height = canvas4.height = canvas4.parentElement.offsetHeight;
                };
                resize();
                window.addEventListener('resize', resize);

                const animate = () => {
                    ctx.clearRect(0, 0, width, height);
                    
                    // Draw Circuit Lines
                    ctx.strokeStyle = '#333';
                    ctx.lineWidth = 2;
                    
                    const midY = height / 2;
                    const step = width / 4;
                    
                    // Main Path
                    ctx.beginPath();
                    ctx.moveTo(0, midY);
                    ctx.lineTo(width, midY);
                    ctx.stroke();
                    
                    // Nodes (Gates)
                    for(let i=1; i<4; i++) {
                        const x = i * step;
                        ctx.fillStyle = '#111';
                        ctx.fillRect(x - 10, midY - 10, 20, 20);
                        ctx.strokeRect(x - 10, midY - 10, 20, 20);
                    }
                    
                    // Pulse
                    pulse += 2;
                    if (pulse > width) pulse = 0;
                    
                    ctx.fillStyle = '#fff';
                    ctx.shadowBlur = 10;
                    ctx.shadowColor = '#fff';
                    ctx.beginPath();
                    ctx.arc(pulse, midY, 3, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.shadowBlur = 0;

                    requestAnimationFrame(animate);
                };
                animate();
            }

            // 5. Financial Service (Stock Chart/Line Graph)
            const canvas5 = document.getElementById('canvas-financial');
            if (canvas5) {
                const ctx = canvas5.getContext('2d');
                let width, height;
                let dataPoints = [];
                let time = 0;
                
                const resize = () => {
                    width = canvas5.width = canvas5.parentElement.offsetWidth;
                    height = canvas5.height = canvas5.parentElement.offsetHeight;
                    // Initialize with some data points
                    dataPoints = [];
                    for(let i = 0; i < 100; i++) {
                        dataPoints.push({
                            value: height/2 + Math.sin(i/10) * 50 + (Math.random() - 0.5) * 20,
                            volatility: Math.random() * 2
                        });
                    }
                };
                resize();
                window.addEventListener('resize', resize);

                const animate = () => {
                    ctx.clearRect(0, 0, width, height);
                    
                    // Add new data point
                    time += 0.1;
                    const lastVal = dataPoints[dataPoints.length - 1].value;
                    const newVal = lastVal + (Math.random() - 0.5) * 5;
                    dataPoints.push({
                        value: Math.max(height * 0.2, Math.min(height * 0.8, newVal)),
                        volatility: Math.random() * 2
                    });
                    
                    // Keep only last 100 points
                    if (dataPoints.length > 100) dataPoints.shift();
                    
                    // Draw grid lines
                    ctx.strokeStyle = '#1a1a1a';
                    ctx.lineWidth = 1;
                    for(let i = 0; i < 5; i++) {
                        const y = (height / 5) * i;
                        ctx.beginPath();
                        ctx.moveTo(0, y);
                        ctx.lineTo(width, y);
                        ctx.stroke();
                    }
                    
                    // Draw main line
                    ctx.strokeStyle = '#666';
                    ctx.lineWidth = 2;
                    ctx.beginPath();
                    dataPoints.forEach((point, i) => {
                        const x = (i / 99) * width;
                        if (i === 0) ctx.moveTo(x, point.value);
                        else ctx.lineTo(x, point.value);
                    });
                    ctx.stroke();
                    
                    // Draw fill gradient
                    const gradient = ctx.createLinearGradient(0, 0, 0, height);
                    gradient.addColorStop(0, 'rgba(102, 102, 102, 0.2)');
                    gradient.addColorStop(1, 'rgba(102, 102, 102, 0)');
                    ctx.fillStyle = gradient;
                    ctx.beginPath();
                    dataPoints.forEach((point, i) => {
                        const x = (i / 99) * width;
                        if (i === 0) ctx.moveTo(x, point.value);
                        else ctx.lineTo(x, point.value);
                    });
                    ctx.lineTo(width, height);
                    ctx.lineTo(0, height);
                    ctx.closePath();
                    ctx.fill();
                    
                    requestAnimationFrame(animate);
                };
                animate();
            }

            // 6. Website Service (Geometric Grid/Wireframe)
            const canvas6 = document.getElementById('canvas-website');
            if (canvas6) {
                const ctx = canvas6.getContext('2d');
                let width, height;
                let rotation = 0;
                
                const resize = () => {
                    width = canvas6.width = canvas6.parentElement.offsetWidth;
                    height = canvas6.height = canvas6.parentElement.offsetHeight;
                };
                resize();
                window.addEventListener('resize', resize);

                const animate = () => {
                    ctx.clearRect(0, 0, width, height);
                    
                    ctx.save();
                    ctx.translate(width/2, height/2);
                    
                    // Rotating wireframe cube/grid
                    rotation += 0.005;
                    
                    const size = Math.min(width, height) * 0.3;
                    
                    // Draw multiple rotating rectangles
                    for(let i = 0; i < 3; i++) {
                        ctx.save();
                        ctx.rotate(rotation + (i * Math.PI / 3));
                        
                        ctx.strokeStyle = i === 0 ? '#666' : (i === 1 ? '#444' : '#333');
                        ctx.lineWidth = 1;
                        
                        // Rectangle
                        ctx.strokeRect(-size/2, -size/2, size, size);
                        
                        // Inner diagonals
                        ctx.beginPath();
                        ctx.moveTo(-size/2, -size/2);
                        ctx.lineTo(size/2, size/2);
                        ctx.moveTo(size/2, -size/2);
                        ctx.lineTo(-size/2, size/2);
                        ctx.stroke();
                        
                        ctx.restore();
                    }
                    
                    // Center dot
                    ctx.fillStyle = '#fff';
                    ctx.beginPath();
                    ctx.arc(0, 0, 2, 0, Math.PI * 2);
                    ctx.fill();
                    
                    ctx.restore();
                    
                    requestAnimationFrame(animate);
                };
                animate();
            }
        }

        // --- 11. LIVE TICKER ---
        async function initLiveTicker() {
            const ticker = document.getElementById('live-ticker');
            
            // Mock data initially to prevent empty space
            ticker.innerHTML = `
                <span>AUSTIN: <span class="live-val">72°F</span></span>
                <span>ETH GAS: <span class="live-val">12 GWEI</span></span>
            `;

            try {
                // 1. Weather (Open-Meteo)
                const weatherRes = await fetch('https://api.open-meteo.com/v1/forecast?latitude=30.2672&longitude=-97.7431&current=temperature_2m&temperature_unit=fahrenheit');
                const weatherData = await weatherRes.json();
                const temp = Math.round(weatherData.current.temperature_2m);

                // 2. ETH Gas (Etherscan proxy or similar - using CoinGecko for Price as Gas needs API key usually)
                // Let's use CoinGecko for ETH Price instead as it's more stable free
                const cryptoRes = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=usd');
                const cryptoData = await cryptoRes.json();
                const ethPrice = Math.round(cryptoData.ethereum.usd);

                ticker.innerHTML = `
                    <span>AUSTIN: <span class="live-val">${temp}°F</span></span>
                    <span>ETH: <span class="live-val">$${ethPrice}</span></span>
                `;
            } catch (e) {
                console.log('Live data fetch failed, using fallback');
            }
        }

        // --- 6. CURSOR & MAGNETIC ---
        const cursorDot = document.querySelector('.cursor-dot');
        const cursorOutline = document.querySelector('.cursor-outline');
        const magneticWraps = document.querySelectorAll('.magnetic-wrap');
        const viewProjectTargets = document.querySelectorAll('.view-project-target');
        const hoverTargets = document.querySelectorAll('.hover-target');

        let mouse = { x: window.innerWidth/2, y: window.innerHeight/2 };
        let cursor = { x: window.innerWidth/2, y: window.innerHeight/2 };

        window.addEventListener('mousemove', (e) => {
            mouse.x = e.clientX;
            mouse.y = e.clientY;
            // Use transform for better performance (hardware accelerated)
            cursorDot.style.transform = `translate(${mouse.x - 3}px, ${mouse.y - 3}px)`;
        }, { passive: true });

        function animateCursor() {
            // Increased speed from 0.15 to 0.35 for lower latency cursor following
            const speed = 0.35; 
            cursor.x += (mouse.x - cursor.x) * speed;
            cursor.y += (mouse.y - cursor.y) * speed;
            // Use transform for better performance (hardware accelerated)
            cursorOutline.style.transform = `translate(${cursor.x - 16}px, ${cursor.y - 16}px)`;
            requestAnimationFrame(animateCursor);
        }
        animateCursor();

        // Track if cursor is in a magnetic field for scaling
        let isMagnetic = false;
        
        magneticWraps.forEach(wrap => {
            const content = wrap.querySelector('.magnetic-content');
            wrap.addEventListener('mousemove', (e) => {
                const rect = wrap.getBoundingClientRect();
                const x = e.clientX - rect.left - rect.width / 2;
                const y = e.clientY - rect.top - rect.height / 2;
                content.style.transform = `translate(${x * 0.4}px, ${y * 0.4}px)`;
                isMagnetic = true;
                cursorOutline.style.width = '58px';
                cursorOutline.style.height = '58px';
                cursorOutline.style.borderColor = "rgba(255, 255, 255, 0.8)";
            }, { passive: true });
            wrap.addEventListener('mouseleave', () => {
                content.style.transform = `translate(0px, 0px)`;
                isMagnetic = false;
                cursorOutline.style.width = '32px';
                cursorOutline.style.height = '32px';
                cursorOutline.style.borderColor = "rgba(255, 255, 255, 0.2)";
            });
        });

        hoverTargets.forEach(el => {
            el.addEventListener('mouseenter', () => document.body.classList.add('hovering'));
            el.addEventListener('mouseleave', () => document.body.classList.remove('hovering'));
        });

        viewProjectTargets.forEach(el => {
            el.addEventListener('mouseenter', () => document.body.classList.add('viewing-project'));
            el.addEventListener('mouseleave', () => document.body.classList.remove('viewing-project'));
        });

        // --- 7. SCROLL REVEAL ---
        function initScrollReveal() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('active');
                        // Stop observing after animation triggers for performance
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1, rootMargin: "0px 0px -80px 0px" });

            document.querySelectorAll('.reveal-text').forEach(el => {
                // Immediately activate elements already in viewport
                const rect = el.getBoundingClientRect();
                if (rect.top < window.innerHeight && rect.bottom > 0) {
                    el.classList.add('active');
                } else {
                    observer.observe(el);
                }
            });
        }

        // --- 8. MOBILE MENU ---
        const menuBtn = document.getElementById('menu-btn');
        const closeBtnMenu = document.getElementById('close-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        
        function toggleMenu() {
            mobileMenu.classList.toggle('translate-x-full');
            const isOpen = !mobileMenu.classList.contains('translate-x-full');
            document.body.style.overflow = isOpen ? 'hidden' : 'auto';
            menuBtn.setAttribute('aria-expanded', isOpen.toString());
        }
        menuBtn.addEventListener('click', toggleMenu);
        closeBtnMenu.addEventListener('click', toggleMenu);
        document.querySelectorAll('.mobile-link').forEach(l => l.addEventListener('click', toggleMenu));

        // --- 9. THREE.JS GLOBE ---
        function initGlobe() {
            const container = document.getElementById('canvas-container');
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
            camera.position.z = 6;
            const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
            renderer.setSize(container.clientWidth, container.clientHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2)); 
            container.appendChild(renderer.domElement);

            const group = new THREE.Group();
            scene.add(group);

            const geometry = new THREE.IcosahedronGeometry(2.6, 1);
            const material = new THREE.MeshBasicMaterial({ 
                color: 0x666666, 
                wireframe: true, 
                transparent: true, 
                opacity: 0.15 
            });
            const sphere = new THREE.Mesh(geometry, material);
            group.add(sphere);

            const innerGeometry = new THREE.IcosahedronGeometry(2.55, 1);
            const innerMaterial = new THREE.MeshBasicMaterial({ color: 0x030303 }); 
            const innerSphere = new THREE.Mesh(innerGeometry, innerMaterial);
            group.add(innerSphere);

            const particlesGeometry = new THREE.BufferGeometry();
            const particlesCount = 600;
            const posArray = new Float32Array(particlesCount * 3);
            for(let i = 0; i < particlesCount * 3; i++) {
                posArray[i] = (Math.random() - 0.5) * 12; 
            }
            particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
            const particlesMaterial = new THREE.PointsMaterial({
                size: 0.02,
                color: 0xffffff,
                transparent: true,
                opacity: 0.4
            });
            const particlesMesh = new THREE.Points(particlesGeometry, particlesMaterial);
            group.add(particlesMesh);

            let mouseX = 0;
            let mouseY = 0;
            const windowHalfX = window.innerWidth / 2;
            const windowHalfY = window.innerHeight / 2;

            document.addEventListener('mousemove', (event) => {
                mouseX = (event.clientX - windowHalfX) * 0.0003;
                mouseY = (event.clientY - windowHalfY) * 0.0003;
            }, { passive: true });

            // Mobile Gyroscope
            function handleOrientation(event) {
                if (event.beta !== null && event.gamma !== null) {
                    // beta is front-back tilt [-180, 180], gamma is left-right tilt [-90, 90]
                    // Convert degrees to radians and amplify for "physical" feel
                    // 0.04 is approx 2.3 degrees per 1 degree of tilt
                    mouseX = event.gamma * 0.04; 
                    mouseY = event.beta * 0.04;
                }
            }

            window.addEventListener('deviceorientation', handleOrientation);

            // Request permission for iOS 13+ devices
            if (typeof DeviceOrientationEvent !== 'undefined' && typeof DeviceOrientationEvent.requestPermission === 'function') {
                document.body.addEventListener('click', async () => {
                    try {
                        const response = await DeviceOrientationEvent.requestPermission();
                        if (response === 'granted') {
                            window.addEventListener('deviceorientation', handleOrientation);
                        }
                    } catch (e) {
                        console.error("Gyroscope permission denied", e);
                    }
                }, { once: true });
            }

            function animate() {
                requestAnimationFrame(animate);
                sphere.rotation.y += 0.001;
                particlesMesh.rotation.y += 0.0003;
                group.rotation.x += 0.05 * (mouseY - group.rotation.x);
                group.rotation.y += 0.05 * (mouseX - group.rotation.y);
                renderer.render(scene, camera);
            }
            animate();

            window.addEventListener('resize', () => {
                camera.aspect = container.clientWidth / container.clientHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(container.clientWidth, container.clientHeight);
            });
        }
        initGlobe();
        // --- 6. OSCILLOSCOPE VISUALIZATION (LIQUID AUDIO) ---
        const oscCanvas = document.getElementById('oscilloscope');
        if (oscCanvas) {
            const ctx = oscCanvas.getContext('2d');
            let width, height;
            let time = 0;
            
            // Mouse interaction
            let mouseX = 0;
            let mouseY = 0;
            let mouseSpeed = 0;
            let lastMouseX = 0;
            let lastMouseY = 0;

            function resizeOsc() {
                width = oscCanvas.width = oscCanvas.offsetWidth;
                height = oscCanvas.height = oscCanvas.offsetHeight;
            }
            window.addEventListener('resize', resizeOsc);
            resizeOsc();

            window.addEventListener('mousemove', (e) => {
                const rect = oscCanvas.getBoundingClientRect();
                mouseX = e.clientX - rect.left;
                mouseY = e.clientY - rect.top;
                
                // Calculate speed
                const dx = e.clientX - lastMouseX;
                const dy = e.clientY - lastMouseY;
                mouseSpeed = Math.sqrt(dx*dx + dy*dy);
                
                lastMouseX = e.clientX;
                lastMouseY = e.clientY;
            }, { passive: true });

            function animateOsc() {
                ctx.clearRect(0, 0, width, height);
                
                // Decay mouse speed
                mouseSpeed *= 0.95;
                
                // Draw multiple waves
                const waves = [
                    { amplitude: 30, frequency: 0.002, speed: 0.02, color: 'rgba(255, 255, 255, 0.1)' },
                    { amplitude: 50, frequency: 0.003, speed: 0.015, color: 'rgba(255, 255, 255, 0.2)' },
                    { amplitude: 20, frequency: 0.005, speed: 0.03, color: 'rgba(255, 255, 255, 0.15)' }
                ];

                waves.forEach((wave, index) => {
                    ctx.beginPath();
                    ctx.strokeStyle = wave.color;
                    ctx.lineWidth = 1.5;

                    for (let x = 0; x < width; x++) {
                        // Base wave
                        let y = (height / 2) + 
                               (wave.amplitude * Math.sin(x * wave.frequency + time * (index + 1) * 0.5));
                        
                        // Mouse interaction (Spike)
                        const dist = Math.abs(x - mouseX);
                        const influence = Math.max(0, 1 - dist / 200); // 200px radius
                        
                        if (influence > 0) {
                            // Add noise/spike based on mouse speed
                            y += Math.sin(x * 0.1 + time * 5) * mouseSpeed * influence * 0.5;
                        }

                        if (x === 0) ctx.moveTo(x, y);
                        else ctx.lineTo(x, y);
                    }
                    ctx.stroke();
                });
                
                time += 0.02;
                requestAnimationFrame(animateOsc);
            }
            animateOsc();
        }
    </script>
</body>
</html>